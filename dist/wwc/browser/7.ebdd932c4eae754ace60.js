(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",(function(){return Tn}));var a=i("SVse"),n=i("iInd"),o=i("bsM5"),c=i("8Y7J"),s=i("H+bZ");let r=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/banner/buscar")}patch(e){return this.api.post("/banner/alterar",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=i("92Lm"),b=i("7ch9"),d=i("4WDQ"),m=i("Dxy4"),u=i("s7LF"),h=i("Q2Ze"),g=i("e6WT");const p=["fileInput"];function f(e,t){if(1&e&&c.Pb(0,"img",23),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function v(e,t){1&e&&c.Pb(0,"img",24)}let C=(()=>{class e{constructor(e,t,i,a,n,c){this.bannerService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.route=c,this.data=new o.a,this.progress=0}ngOnInit(){this.bannerService.get().subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.bannerService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/banner/imagem?id="+this.data.id),this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/banner/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.bannerService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(r),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a),c.Ob(n.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-banner"]],viewQuery:function(e,t){var i;1&e&&c.yc(p,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Banner "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do depoimento "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.titulo=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.link=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"textarea",13),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (1920x800) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,f,1,1,"img",15),c.Cc(23,v,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Pb(30,"hr"),c.Ub(31,"button",22),c.Dc(32," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.titulo),c.Cb(2),c.mc("ngModel",t.data.link),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();class T{constructor(){this.nome="",this.descricao="",this.imagem="",this.ordem=99,Object.assign(this)}}let S=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/beneficio/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/beneficio/buscar?id="+e)}post(e){return this.api.post("/beneficio/inserir",e)}patch(e){return this.api.post("/beneficio/alterar",e)}delete(e){return this.api.post("/beneficio/deletar",e)}deleteSelected(e){return this.api.post("/beneficio/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const U=["fileInput"];function I(e,t){if(1&e&&c.Pb(0,"img",22),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function k(e,t){1&e&&c.Pb(0,"img",23)}let D=(()=>{class e{constructor(e,t,i,a,n){this.beneficioService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new T,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.beneficioService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/beneficio/imagem?id="+e),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.beneficioService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(S),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-beneficios-criar"]],viewQuery:function(e,t){var i;1&e&&c.yc(U,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar benef\xedcio "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do benef\xedcio "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"h3",9),c.Dc(18," Imagem (256x256) "),c.Tb(),c.Ub(19,"div",13),c.Cc(20,I,1,1,"img",14),c.Cc(21,k,1,0,"img",15),c.Ub(22,"button",16),c.bc("click",(function(){return c.uc(e),c.qc(25).click()})),c.Dc(23,"Escolher arquivo"),c.Tb(),c.Ub(24,"input",17,18),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(26,"button",19),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(27,"i",20),c.Tb(),c.Tb(),c.Pb(28,"hr"),c.Ub(29,"button",21),c.Dc(30," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const M=["fileInput"];function y(e,t){if(1&e&&c.Pb(0,"img",23),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function L(e,t){1&e&&c.Pb(0,"img",24)}let O=(()=>{class e{constructor(e,t,i,a,n,o){this.beneficioService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new T,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.beneficioService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.beneficioService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/beneficio/imagem?id="+this.data.id),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.beneficioService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(S),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-beneficios-editar"]],viewQuery:function(e,t){var i;1&e&&c.yc(M,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar benef\xedcio "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do benef\xedcio "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.ordem=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (256x256) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,y,1,1,"img",15),c.Cc(23,L,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Pb(30,"hr"),c.Ub(31,"button",22),c.Dc(32," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(2),c.mc("ngModel",t.data.ordem),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();var R=i("CtHx"),w=i("5QHs"),x=i("LUZP"),P=i("VRyK"),A=i("LRne"),E=i("JX91"),q=i("eIep"),_=i("lJxs"),V=i("JIr8"),$=i("iELJ");let F=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(c.Ob($.f),c.Ob($.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(c.Ub(0,"h2",0),c.Dc(1),c.Tb(),c.Ub(2,"div",1),c.Ub(3,"p"),c.Dc(4),c.Tb(),c.Tb(),c.Ub(5,"div",2),c.Ub(6,"button",3),c.bc("click",(function(){return t.onNoClick()})),c.Dc(7,"Fechar"),c.Tb(),c.Ub(8,"button",4),c.bc("click",(function(){return t.onYesClick()})),c.Dc(9,"Sim"),c.Tb(),c.Tb()),2&e&&(c.Cb(1),c.Ec(t.data.title),c.Cb(3),c.Ec(t.data.description))},directives:[$.g,$.d,$.c,m.b],styles:[""]}),e})();var j=i("OaSA"),B=i("Tj54"),N=i("pMoy");function z(e,t){1&e&&c.Pb(0,"mat-spinner")}function H(e,t){1&e&&(c.Ub(0,"div",29),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function G(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,z,1,0,"mat-spinner",27),c.Cc(2,H,2,0,"div",28),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Q(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",30),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function Y(e,t){1&e&&c.Pb(0,"mat-spinner")}function K(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,Y,1,0,"mat-spinner",27),c.Ub(2,"div",29),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function J(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",31),c.Ub(1,"mat-checkbox",32),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Z(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"mat-checkbox",34),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function W(e,t){1&e&&(c.Ub(0,"th",31),c.Dc(1," Imagem "),c.Tb())}function X(e,t){if(1&e&&c.Pb(0,"img",37),2&e){const e=c.fc().$implicit,t=c.fc();c.mc("src",t.global.imageUrl+e.imagem,c.vc)}}function ee(e,t){1&e&&c.Pb(0,"img",38)}function te(e,t){if(1&e&&(c.Ub(0,"td",33),c.Cc(1,X,1,1,"img",35),c.Cc(2,ee,1,0,"img",36),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.mc("ngIf",e.imagem),c.Cb(1),c.mc("ngIf",!e.imagem)}}function ie(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1," Nome "),c.Tb())}function ae(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.nome)}}function ne(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1,"Descri\xe7\xe3o"),c.Tb())}function oe(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.descricao)}}function ce(e,t){1&e&&c.Pb(0,"th",31)}const se=function(e){return["/admin/beneficios/editar",e]};function re(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"a",40),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",41),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,se,e.id))}}function le(e,t){1&e&&c.Pb(0,"tr",42)}function be(e,t){1&e&&c.Pb(0,"tr",43)}const de=function(){return[15,25,40,50]};let me=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.beneficioService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.beneficios)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.beneficioService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.beneficioService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.beneficios:this.data.concat(e.beneficios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(S),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-beneficios"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/beneficios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Benef\xedcios "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,G,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,Q,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,K,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,J,2,3,"th",16),c.Cc(21,Z,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,W,2,0,"th",16),c.Cc(24,te,3,2,"td",17),c.Rb(),c.Sb(25,19),c.Cc(26,ie,2,0,"th",20),c.Cc(27,ae,2,1,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,ne,2,0,"th",20),c.Cc(30,oe,2,1,"td",17),c.Rb(),c.Sb(31,22),c.Cc(32,ce,1,0,"th",16),c.Cc(33,re,7,3,"td",17),c.Rb(),c.Cc(34,le,1,0,"tr",23),c.Cc(35,be,1,0,"tr",24),c.Tb(),c.Pb(36,"mat-paginator",25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,de))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})();class ue{constructor(){this.id=0,this.nome="",this.link="",this.imagem="",this.ordem=99,Object.assign(this)}}let he=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/cliente/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/cliente/buscar?id="+e)}post(e){return this.api.post("/cliente/inserir",e)}patch(e){return this.api.post("/cliente/alterar",e)}delete(e){return this.api.post("/cliente/deletar",e)}deleteSelected(e){return this.api.post("/cliente/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ge=["fileInput"];function pe(e,t){if(1&e&&c.Pb(0,"img",22),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function fe(e,t){1&e&&c.Pb(0,"img",23)}let ve=(()=>{class e{constructor(e,t,i,a,n){this.clienteService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new ue,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.clienteService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/cliente/imagem?id="+e),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.clienteService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(he),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-clientes-criar"]],viewQuery:function(e,t){var i;1&e&&c.yc(ge,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar cliente "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do cliente "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.link=e})),c.Tb(),c.Tb(),c.Ub(17,"h3",9),c.Dc(18," Imagem (600x600) "),c.Tb(),c.Ub(19,"div",13),c.Cc(20,pe,1,1,"img",14),c.Cc(21,fe,1,0,"img",15),c.Ub(22,"button",16),c.bc("click",(function(){return c.uc(e),c.qc(25).click()})),c.Dc(23,"Escolher arquivo"),c.Tb(),c.Ub(24,"input",17,18),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(26,"button",19),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(27,"i",20),c.Tb(),c.Tb(),c.Pb(28,"hr"),c.Ub(29,"button",21),c.Dc(30," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.link),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const Ce=["fileInput"];function Te(e,t){if(1&e&&c.Pb(0,"img",23),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function Se(e,t){1&e&&c.Pb(0,"img",24)}let Ue=(()=>{class e{constructor(e,t,i,a,n,o){this.clienteService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new ue,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.clienteService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.clienteService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/cliente/imagem?id="+this.data.id),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.clienteService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(he),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-clientes-editar"]],viewQuery:function(e,t){var i;1&e&&c.yc(Ce,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar cliente "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do cliente "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.link=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.ordem=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (600x600) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,Te,1,1,"img",15),c.Cc(23,Se,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Pb(30,"hr"),c.Ub(31,"button",22),c.Dc(32," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.link),c.Cb(2),c.mc("ngModel",t.data.ordem),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();function Ie(e,t){1&e&&c.Pb(0,"mat-spinner")}function ke(e,t){1&e&&(c.Ub(0,"div",29),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function De(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,Ie,1,0,"mat-spinner",27),c.Cc(2,ke,2,0,"div",28),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Me(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",30),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function ye(e,t){1&e&&c.Pb(0,"mat-spinner")}function Le(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,ye,1,0,"mat-spinner",27),c.Ub(2,"div",29),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function Oe(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",31),c.Ub(1,"mat-checkbox",32),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Re(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"mat-checkbox",34),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function we(e,t){1&e&&(c.Ub(0,"th",31),c.Dc(1," Imagem "),c.Tb())}function xe(e,t){if(1&e&&c.Pb(0,"img",37),2&e){const e=c.fc().$implicit,t=c.fc();c.mc("src",t.global.imageUrl+e.imagem,c.vc)}}function Pe(e,t){1&e&&c.Pb(0,"img",38)}function Ae(e,t){if(1&e&&(c.Ub(0,"td",33),c.Cc(1,xe,1,1,"img",35),c.Cc(2,Pe,1,0,"img",36),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.mc("ngIf",e.imagem),c.Cb(1),c.mc("ngIf",!e.imagem)}}function Ee(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1," Nome "),c.Tb())}function qe(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",e.nome," ",e.sobrenome,"")}}function _e(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1,"Link"),c.Tb())}function Ve(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.link)}}function $e(e,t){1&e&&c.Pb(0,"th",31)}const Fe=function(e){return["/admin/clientes/editar",e]};function je(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"a",40),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",41),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,Fe,e.id))}}function Be(e,t){1&e&&c.Pb(0,"tr",42)}function Ne(e,t){1&e&&c.Pb(0,"tr",43)}const ze=function(){return[15,25,40,50]};let He=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.clienteService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.clientes)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.clienteService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.clienteService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.clientes:this.data.concat(e.clientes)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(he),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-clientes"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/clientes/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Clientes "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,De,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,Me,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,Le,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,Oe,2,3,"th",16),c.Cc(21,Re,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,we,2,0,"th",16),c.Cc(24,Ae,3,2,"td",17),c.Rb(),c.Sb(25,19),c.Cc(26,Ee,2,0,"th",20),c.Cc(27,qe,2,2,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,_e,2,0,"th",20),c.Cc(30,Ve,2,1,"td",17),c.Rb(),c.Sb(31,22),c.Cc(32,$e,1,0,"th",16),c.Cc(33,je,7,3,"td",17),c.Rb(),c.Cc(34,Be,1,0,"tr",23),c.Cc(35,Ne,1,0,"tr",24),c.Tb(),c.Pb(36,"mat-paginator",25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,ze))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})();class Ge{constructor(){this.id=0,this.smtp="",this.ssl="",this.emailAutenticar="",this.senhaAutenticar="",Object.assign(this)}}let Qe=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/configuracaoEmail/buscar")}patch(e){return this.api.post("/configuracaoEmail/alterar",e)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ye=i("tmjD"),Ke=i("jMqV"),Je=i("BTe0");function Ze(e,t){1&e&&c.Pb(0,"mat-progress-bar",22)}function We(e,t){1&e&&c.Pb(0,"div",23)}let Xe=(()=>{class e{constructor(e,t,i,a){this.configuracaoEmailService=e,this.helper=t,this.loadingService=i,this.router=a,this.data=new Ge,this.hide=!0}ngOnInit(){this.buscar()}buscar(){this.configuracaoEmailService.get().subscribe(e=>this.data=e)}onSslChange(e){this.data.ssl=e.checked?"S":"N"}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoEmailService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(Qe),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-configuracao-email"]],decls:31,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","SMTP","name","smtp","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","third"],["matInput","","type","tel","placeholder","Porta SMTP","name","portaSmtp","required","","mask","0*",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","email","placeholder","E-mail","name","emailAutenticar","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senhaAutenticar","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Configurar e-mail "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Cc(11,Ze,1,0,"mat-progress-bar",9),c.Cc(12,We,1,0,"div",10),c.Ub(13,"h3",11),c.Dc(14," Dados do e-mail "),c.Tb(),c.Ub(15,"mat-form-field",12),c.Ub(16,"input",13),c.bc("ngModelChange",(function(e){return t.data.smtp=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",14),c.Ub(18,"input",15),c.bc("ngModelChange",(function(e){return t.data.portaSmtp=e})),c.Tb(),c.Tb(),c.Ub(19,"mat-form-field",16),c.Ub(20,"input",17),c.bc("ngModelChange",(function(e){return t.data.emailAutenticar=e})),c.Tb(),c.Tb(),c.Ub(21,"mat-form-field",16),c.Ub(22,"input",18),c.bc("ngModelChange",(function(e){return t.data.senhaAutenticar=e})),c.Tb(),c.Ub(23,"button",19),c.bc("click",(function(){return t.hide=!t.hide})),c.Ub(24,"mat-icon"),c.Dc(25),c.Tb(),c.Tb(),c.Tb(),c.Ub(26,"mat-slide-toggle",20),c.bc("change",(function(e){return t.onSslChange(e)})),c.Dc(27),c.Tb(),c.Pb(28,"hr"),c.Ub(29,"button",21),c.Dc(30," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(11),c.mc("ngIf",!t.data.id),c.Cb(1),c.mc("ngIf",!t.data.id),c.Cb(4),c.mc("ngModel",t.data.smtp),c.Cb(2),c.mc("ngModel",t.data.portaSmtp),c.Cb(2),c.mc("ngModel",t.data.emailAutenticar),c.Cb(2),c.mc("type",t.hide?"password":"text")("ngModel",t.data.senhaAutenticar),c.Cb(1),c.Db("aria-label","Hide password")("aria-pressed",t.hide),c.Cb(2),c.Ec(t.hide?"visibility_off":"visibility"),c.Cb(1),c.mc("checked","S"===t.data.ssl),c.Cb(1),c.Fc(" SSL: ","S"===t.data.ssl?"Sim":"N\xe3o",""))},directives:[m.b,n.d,u.p,u.j,u.k,a.k,h.b,g.b,u.c,u.n,u.i,u.l,Ye.a,h.f,B.a,Ke.a,Je.a],styles:[""]}),e})();class et{constructor(){this.id=0,this.ambiente="",this.imagemLogo="",this.linkApi="",this.caminhoFisico="",Object.assign(this)}}let tt=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/configuracaoGeral/buscar")}patch(e){return this.api.post("/configuracaoGeral/alterar",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var it=i("ZTz/"),at=i("UhP/");const nt=["fileInput"];function ot(e,t){1&e&&c.Pb(0,"mat-progress-bar",27)}function ct(e,t){1&e&&c.Pb(0,"div",28)}function st(e,t){if(1&e&&c.Pb(0,"img",29),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagemLogo,c.vc)}}function rt(e,t){1&e&&c.Pb(0,"img",30)}let lt=(()=>{class e{constructor(e,t,i,a,n){this.configuracaoGeralService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new et}ngOnInit(){this.buscar()}buscar(){this.configuracaoGeralService.get().subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoGeralService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}onFileSelected(e){this.file=e.item(0),this.loadingService.present("Alterando imagem..."),this.submitImages(this.file,"/configuracaoGeral/imagem").then(e=>{this.data.imagemLogo=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.configuracaoGeralService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(tt),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-configuracao-geral"]],viewQuery:function(e,t){var i;1&e&&c.yc(nt,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:39,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","half"],["name","ambiente",3,"ngModel","ngModelChange"],["value","T"],["value","P"],["matInput","","type","text","placeholder","Link da API","name","linkApi",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Caminha F\xedsico (teste)","name","caminhoFisico",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagemLogo","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Configurar geral "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Cc(11,ot,1,0,"mat-progress-bar",9),c.Cc(12,ct,1,0,"div",10),c.Ub(13,"h3",11),c.Dc(14," Dados gerais "),c.Tb(),c.Ub(15,"mat-form-field",12),c.Ub(16,"mat-select",13),c.bc("ngModelChange",(function(e){return t.data.ambiente=e})),c.Ub(17,"mat-option",14),c.Dc(18,"Teste"),c.Tb(),c.Ub(19,"mat-option",15),c.Dc(20,"Produ\xe7\xe3o"),c.Tb(),c.Tb(),c.Tb(),c.Ub(21,"mat-form-field",12),c.Ub(22,"input",16),c.bc("ngModelChange",(function(e){return t.data.linkApi=e})),c.Tb(),c.Tb(),c.Ub(23,"mat-form-field",12),c.Ub(24,"input",17),c.bc("ngModelChange",(function(e){return t.data.caminhoFisico=e})),c.Tb(),c.Tb(),c.Ub(25,"h3",11),c.Dc(26," Imagem "),c.Tb(),c.Ub(27,"div",18),c.Cc(28,st,1,1,"img",19),c.Cc(29,rt,1,0,"img",20),c.Ub(30,"button",21),c.bc("click",(function(){return c.uc(e),c.qc(33).click()})),c.Dc(31,"Escolher arquivo"),c.Tb(),c.Ub(32,"input",22,23),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(34,"button",24),c.bc("click",(function(){return t.data.imagemLogo=""})),c.Pb(35,"i",25),c.Tb(),c.Tb(),c.Pb(36,"hr"),c.Ub(37,"button",26),c.Dc(38," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(11),c.mc("ngIf",!t.data.id),c.Cb(1),c.mc("ngIf",!t.data.id),c.Cb(4),c.mc("ngModel",t.data.ambiente),c.Cb(6),c.mc("ngModel",t.data.linkApi),c.Cb(2),c.mc("ngModel",t.data.caminhoFisico),c.Cb(4),c.mc("ngIf",t.data.imagemLogo),c.Cb(1),c.mc("ngIf",!t.data.imagemLogo))},directives:[m.b,n.d,u.p,u.j,u.k,a.k,h.b,it.a,u.i,u.l,at.k,g.b,u.c,Je.a],styles:[""]}),e})();class bt{constructor(){this.id=0,this.titulo="",this.descricao="",this.ordem=99,Object.assign(this)}}let dt=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/consultoria/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/consultoria/buscar?id="+e)}post(e){return this.api.post("/consultoria/inserir",e)}patch(e){return this.api.post("/consultoria/alterar",e)}delete(e){return this.api.post("/consultoria/deletar",e)}deleteSelected(e){return this.api.post("/consultoria/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mt=(()=>{class e{constructor(e,t,i,a,n){this.consultoriaService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new bt}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.consultoriaService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(dt),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-consultorias-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar consultoria "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados da consultoria "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.titulo=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Pb(17,"hr"),c.Ub(18,"button",13),c.Dc(19," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.titulo),c.Cb(2),c.mc("ngModel",t.data.descricao))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})(),ut=(()=>{class e{constructor(e,t,i,a,n,o){this.consultoriaService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new bt}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.consultoriaService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.consultoriaService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(dt),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-consultorias-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar consultoria "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados da consultoria "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.titulo=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.ordem=e})),c.Tb(),c.Tb(),c.Pb(19,"hr"),c.Ub(20,"button",14),c.Dc(21," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.titulo),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(2),c.mc("ngModel",t.data.ordem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})();function ht(e,t){1&e&&c.Pb(0,"mat-spinner")}function gt(e,t){1&e&&(c.Ub(0,"div",28),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function pt(e,t){if(1&e&&(c.Ub(0,"div",25),c.Cc(1,ht,1,0,"mat-spinner",26),c.Cc(2,gt,2,0,"div",27),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function ft(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",29),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function vt(e,t){1&e&&c.Pb(0,"mat-spinner")}function Ct(e,t){if(1&e&&(c.Ub(0,"div",25),c.Cc(1,vt,1,0,"mat-spinner",26),c.Ub(2,"div",28),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function Tt(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",30),c.Ub(1,"mat-checkbox",31),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function St(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",32),c.Ub(1,"mat-checkbox",33),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function Ut(e,t){1&e&&(c.Ub(0,"th",34),c.Dc(1," T\xedtulo "),c.Tb())}function It(e,t){if(1&e&&(c.Ub(0,"td",32),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.titulo)}}function kt(e,t){1&e&&(c.Ub(0,"th",34),c.Dc(1,"Descri\xe7\xe3o"),c.Tb())}function Dt(e,t){if(1&e&&(c.Ub(0,"td",32),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.descricao)}}function Mt(e,t){1&e&&c.Pb(0,"th",30)}const yt=function(e){return["/admin/consultorias/editar",e]};function Lt(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",32),c.Ub(1,"a",35),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",36),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,yt,e.id))}}function Ot(e,t){1&e&&c.Pb(0,"tr",37)}function Rt(e,t){1&e&&c.Pb(0,"tr",38)}const wt=function(){return[15,25,40,50]};let xt=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.consultoriaService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.consultorias)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.consultoriaService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.consultoriaService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.consultorias:this.data.concat(e.consultorias)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(dt),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-consultorias"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/consultorias/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Consultorias "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,pt,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,ft,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,Ct,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,Tt,2,3,"th",16),c.Cc(21,St,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,Ut,2,0,"th",19),c.Cc(24,It,2,1,"td",17),c.Rb(),c.Sb(25,20),c.Cc(26,kt,2,0,"th",19),c.Cc(27,Dt,2,1,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,Mt,1,0,"th",16),c.Cc(30,Lt,7,3,"td",17),c.Rb(),c.Cc(31,Ot,1,0,"tr",22),c.Cc(32,Rt,1,0,"tr",23),c.Tb(),c.Pb(33,"mat-paginator",24),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(13),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,wt))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})();var Pt=i("MQJ/");let At=(()=>{class e{constructor(e){this.api=e}buscarGeral(){return this.api.get("/contatoGeral/buscar")}alterarGeral(e){return this.api.post("/contatoGeral/alterar",e)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Et=["numeroEnderecoInput"];function qt(e,t){1&e&&c.Pb(0,"mat-progress-bar",30)}function _t(e,t){1&e&&c.Pb(0,"div",31)}let Vt=(()=>{class e{constructor(e,t,i,a,n){this.contatoGeralService=e,this.helper=t,this.loadingService=i,this.dialog=a,this.router=n,this.data=new Pt.a,this.loading=!1,this.phoneMask="(00) 0000-00009"}ngOnInit(){this.buscar()}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando cadastro geral..."),this.contatoGeralService.alterarGeral(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Contato geral alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}buscar(){this.contatoGeralService.buscarGeral().subscribe(e=>this.data=e)}changePhoneMask(e){let t=e;t&&(this.phoneMask="0800"==t.replace(/\D/g,"").substring(0,4)?"0000 000 0000":11===t.replace(/\D/g,"").length?"(00) 0 0000-0000":"(00) 0000-00009")}onCepBlur(e){8==this.data.cep.length&&this.helper.viaCep(this.data.cep).subscribe(e=>{this.data.bairro=e.bairro,this.data.uf=e.uf,this.data.cidade=e.localidade,this.data.rua=e.logradouro,this.numeroEnderecoInput.nativeElement.focus()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(At),c.Ob(l.a),c.Ob(b.a),c.Ob($.b),c.Ob(n.c))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-contato-geral"]],viewQuery:function(e,t){var i;1&e&&c.Ic(Et,!0),2&e&&c.pc(i=c.cc())&&(t.numeroEnderecoInput=i.first)},decls:55,vars:18,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Telefone","name","telefone","required","",3,"ngModel","mask","ngModelChange"],["matInput","","type","tel","placeholder","CEP","mask","00000-000","name","cep","required","",3,"ngModel","ngModelChange","blur"],[1,"page-form-control","third"],["matInput","","type","text","placeholder","Estado (UF)","name","uf","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","Cidade","name","cidade","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Bairro","name","bairro","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Rua","name","rua","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","N\xfamero","mask","0*","name","numeroEndereco","required","",3,"ngModel","ngModelChange"],["numeroEnderecoInput",""],["matInput","","type","text","placeholder","Complemento","name","complemento",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","tel","placeholder","Latitude","name","latitude",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Longitude","name","longitude",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Instagram (opcional)","name","linkInstagram",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Facebook (opcional)","name","linkFacebook",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Whatsapp","name","whatsApp","mask","(00) 0 0000-0000","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Contato "),c.Tb(),c.Tb(),c.Ub(6,"form",5,6),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(7);return t.submit(i)})),c.Cc(8,qt,1,0,"mat-progress-bar",7),c.Cc(9,_t,1,0,"div",8),c.Ub(10,"h3",9),c.Dc(11," Contato "),c.Tb(),c.Ub(12,"mat-form-field",10),c.Ub(13,"input",11),c.bc("ngModelChange",(function(e){return t.data.email=e})),c.Tb(),c.Ub(14,"mat-hint"),c.Dc(15," E-mail que ser\xe1 utilizado pelo site para envio de formul\xe1rios. N\xe3o pode ser de dom\xednio diferente do site. "),c.Tb(),c.Tb(),c.Ub(16,"mat-form-field",10),c.Ub(17,"input",12),c.bc("ngModelChange",(function(e){return t.data.telefone=e}))("ngModelChange",(function(e){return t.changePhoneMask(e)})),c.Tb(),c.Tb(),c.Pb(18,"hr"),c.Ub(19,"h3",9),c.Dc(20," Endere\xe7o "),c.Tb(),c.Ub(21,"mat-form-field",10),c.Ub(22,"input",13),c.bc("ngModelChange",(function(e){return t.data.cep=e}))("blur",(function(e){return t.onCepBlur(e)})),c.Tb(),c.Tb(),c.Ub(23,"mat-form-field",14),c.Ub(24,"input",15),c.bc("ngModelChange",(function(e){return t.data.uf=e})),c.Tb(),c.Tb(),c.Ub(25,"mat-form-field",16),c.Ub(26,"input",17),c.bc("ngModelChange",(function(e){return t.data.cidade=e})),c.Tb(),c.Tb(),c.Ub(27,"mat-form-field",14),c.Ub(28,"input",18),c.bc("ngModelChange",(function(e){return t.data.bairro=e})),c.Tb(),c.Tb(),c.Ub(29,"mat-form-field",16),c.Ub(30,"input",19),c.bc("ngModelChange",(function(e){return t.data.rua=e})),c.Tb(),c.Tb(),c.Ub(31,"mat-form-field",14),c.Ub(32,"input",20,21),c.bc("ngModelChange",(function(e){return t.data.numeroEndereco=e})),c.Tb(),c.Tb(),c.Ub(34,"mat-form-field",16),c.Ub(35,"input",22),c.bc("ngModelChange",(function(e){return t.data.complemento=e})),c.Tb(),c.Tb(),c.Pb(36,"hr"),c.Ub(37,"h3",9),c.Dc(38," Google maps "),c.Tb(),c.Ub(39,"mat-form-field",23),c.Ub(40,"input",24),c.bc("ngModelChange",(function(e){return t.data.latitude=e})),c.Tb(),c.Tb(),c.Ub(41,"mat-form-field",23),c.Ub(42,"input",25),c.bc("ngModelChange",(function(e){return t.data.longitude=e})),c.Tb(),c.Tb(),c.Pb(43,"hr"),c.Ub(44,"h3",9),c.Dc(45," Redes sociais "),c.Tb(),c.Ub(46,"mat-form-field",10),c.Ub(47,"input",26),c.bc("ngModelChange",(function(e){return t.data.linkInstagram=e})),c.Tb(),c.Tb(),c.Ub(48,"mat-form-field",10),c.Ub(49,"input",27),c.bc("ngModelChange",(function(e){return t.data.linkFacebook=e})),c.Tb(),c.Tb(),c.Ub(50,"mat-form-field",10),c.Ub(51,"input",28),c.bc("ngModelChange",(function(e){return t.data.whatsApp=e})),c.Tb(),c.Tb(),c.Pb(52,"hr"),c.Ub(53,"button",29),c.Dc(54," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(8),c.mc("ngIf",!t.data.id),c.Cb(1),c.mc("ngIf",!t.data.id),c.Cb(4),c.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),c.Cb(4),c.mc("ngModel",t.data.telefone)("mask",t.phoneMask),c.Cb(5),c.mc("ngModel",t.data.cep),c.Cb(2),c.mc("ngModel",t.data.uf),c.Cb(2),c.mc("ngModel",t.data.cidade),c.Cb(2),c.mc("ngModel",t.data.bairro),c.Cb(2),c.mc("ngModel",t.data.rua),c.Cb(2),c.mc("ngModel",t.data.numeroEndereco),c.Cb(3),c.mc("ngModel",t.data.complemento),c.Cb(5),c.mc("ngModel",t.data.latitude),c.Cb(2),c.mc("ngModel",t.data.longitude),c.Cb(5),c.mc("ngModel",t.data.linkInstagram),c.Cb(2),c.mc("ngModel",t.data.linkFacebook),c.Cb(2),c.mc("ngModel",t.data.whatsApp))},directives:[u.p,u.j,u.k,a.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,h.e,Ye.a,m.b,Je.a],styles:[""]}),e})();class $t{constructor(){this.id=0,this.imagem="",this.nome="",this.descricao="",this.depoimento="",this.ordem=99,Object.assign(this)}}let Ft=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/depoimento/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/depoimento/buscar?id="+e)}post(e){return this.api.post("/depoimento/inserir",e)}patch(e){return this.api.post("/depoimento/alterar",e)}delete(e){return this.api.post("/depoimento/deletar",e)}deleteSelected(e){return this.api.post("/depoimento/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const jt=["fileInput"];function Bt(e,t){if(1&e&&c.Pb(0,"img",23),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function Nt(e,t){1&e&&c.Pb(0,"img",24)}let zt=(()=>{class e{constructor(e,t,i,a,n){this.depoimentoService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new $t,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/depoimento/imagem?id="+e),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.depoimentoService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(Ft),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-depoimentos-criar"]],viewQuery:function(e,t){var i;1&e&&c.yc(jt,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar depoimento "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do depoimento "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"textarea",13),c.bc("ngModelChange",(function(e){return t.data.depoimento=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (600x600) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,Bt,1,1,"img",15),c.Cc(23,Nt,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Pb(30,"hr"),c.Ub(31,"button",22),c.Dc(32," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(2),c.mc("ngModel",t.data.depoimento),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const Ht=["fileInput"];function Gt(e,t){if(1&e&&c.Pb(0,"img",23),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function Qt(e,t){1&e&&c.Pb(0,"img",24)}let Yt=(()=>{class e{constructor(e,t,i,a,n,o){this.depoimentoService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.route=o,this.data=new $t,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.depoimentoService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/depoimento/imagem?id="+this.data.id),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.depoimentoService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(Ft),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a),c.Ob(n.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-depoimentos-editar"]],viewQuery:function(e,t){var i;1&e&&c.yc(Ht,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar depoimento "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do depoimento "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"textarea",13),c.bc("ngModelChange",(function(e){return t.data.depoimento=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (600x600) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,Gt,1,1,"img",15),c.Cc(23,Qt,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Pb(30,"hr"),c.Ub(31,"button",22),c.Dc(32," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(2),c.mc("ngModel",t.data.depoimento),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();function Kt(e,t){1&e&&c.Pb(0,"mat-spinner")}function Jt(e,t){1&e&&(c.Ub(0,"div",29),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function Zt(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,Kt,1,0,"mat-spinner",27),c.Cc(2,Jt,2,0,"div",28),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Wt(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",30),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function Xt(e,t){1&e&&c.Pb(0,"mat-spinner")}function ei(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,Xt,1,0,"mat-spinner",27),c.Ub(2,"div",29),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function ti(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",31),c.Ub(1,"mat-checkbox",32),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function ii(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"mat-checkbox",34),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function ai(e,t){1&e&&(c.Ub(0,"th",31),c.Dc(1," Imagem "),c.Tb())}function ni(e,t){if(1&e&&c.Pb(0,"img",37),2&e){const e=c.fc().$implicit,t=c.fc();c.mc("src",t.global.imageUrl+e.imagem,c.vc)}}function oi(e,t){1&e&&c.Pb(0,"img",38)}function ci(e,t){if(1&e&&(c.Ub(0,"td",33),c.Cc(1,ni,1,1,"img",35),c.Cc(2,oi,1,0,"img",36),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.mc("ngIf",e.imagem),c.Cb(1),c.mc("ngIf",!e.imagem)}}function si(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1," Nome "),c.Tb())}function ri(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",e.nome," ",e.sobrenome,"")}}function li(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1,"Descri\xe7\xe3o"),c.Tb())}function bi(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.descricao)}}function di(e,t){1&e&&c.Pb(0,"th",31)}const mi=function(e){return["/admin/depoimentos/editar",e]};function ui(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"a",40),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",41),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,mi,e.id))}}function hi(e,t){1&e&&c.Pb(0,"tr",42)}function gi(e,t){1&e&&c.Pb(0,"tr",43)}const pi=function(){return[15,25,40,50]};let fi=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.depoimentoService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.depoimentos)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.depoimentoService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.depoimentoService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.depoimentos:this.data.concat(e.depoimentos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(Ft),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-depoimentos"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/depoimentos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Depoimentos "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,Zt,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,Wt,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,ei,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,ti,2,3,"th",16),c.Cc(21,ii,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,ai,2,0,"th",16),c.Cc(24,ci,3,2,"td",17),c.Rb(),c.Sb(25,19),c.Cc(26,si,2,0,"th",20),c.Cc(27,ri,2,2,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,li,2,0,"th",20),c.Cc(30,bi,2,1,"td",17),c.Rb(),c.Sb(31,22),c.Cc(32,di,1,0,"th",16),c.Cc(33,ui,7,3,"td",17),c.Rb(),c.Cc(34,hi,1,0,"tr",23),c.Cc(35,gi,1,0,"tr",24),c.Tb(),c.Pb(36,"mat-paginator",25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,pi))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})();var vi=i("lGQG"),Ci=i("EnSQ"),Ti=i("rJgo");function Si(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"a",7),c.Pb(2,"i"),c.Ub(3,"span"),c.Dc(4),c.Tb(),c.Tb(),c.Rb()),2&e){const e=c.fc().$implicit;c.Cb(1),c.mc("routerLink",e.route),c.Cb(1),c.Eb(e.icon),c.Cb(2),c.Ec(e.name)}}function Ui(e,t){if(1&e&&(c.Ub(0,"button",11),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.mc("routerLink",e.route),c.Cb(1),c.Fc(" ",e.name," ")}}function Ii(e,t){if(1&e&&(c.Sb(0),c.Ub(1,"a",8),c.Pb(2,"i"),c.Ub(3,"span"),c.Dc(4),c.Tb(),c.Tb(),c.Ub(5,"mat-menu",null,9),c.Cc(7,Ui,2,2,"button",10),c.Tb(),c.Rb()),2&e){const e=c.qc(6),t=c.fc().$implicit;c.Cb(1),c.mc("matMenuTriggerFor",e),c.Cb(1),c.Eb(t.icon),c.Cb(2),c.Ec(t.name),c.Cb(3),c.mc("ngForOf",t.group)}}function ki(e,t){if(1&e&&(c.Ub(0,"li",5),c.Cc(1,Si,5,4,"ng-container",6),c.Cc(2,Ii,8,5,"ng-container",6),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.mc("ngIf",!e.group),c.Cb(1),c.mc("ngIf",e.group)}}let Di=(()=>{class e{constructor(e,t){this._auth=e,this._data=t,this.pages=[],this.banner=new o.a}ngOnInit(){this.buildPages()}buildPages(){this.pages=[{name:"Home",icon:"fas fa-home",route:"/admin"},{name:"Banner",icon:"fas fa-image",route:"/admin/banner"},{name:"Clientes",icon:"fas fa-user-tie",route:"/admin/clientes"},{name:"Usu\xe1rios",icon:"fas fa-user-shield",route:"/admin/usuarios"},{name:"Depoimentos",icon:"fas fa-comments",route:"/admin/depoimentos"},{name:"Benef\xedcios",icon:"fas fa-plus-square",route:"/admin/beneficios"},{name:"Consultorias",icon:"fas fa-user-tie",route:"/admin/consultorias"},{name:"Perguntas",icon:"fas fa-question",route:"/admin/perguntas"},{name:"M\xf3dulos",icon:"fas fa-monument",route:"/admin/modulos"},{name:"Contato Geral",icon:"fas fa-phone-alt",route:"/admin/contato-geral"},{name:"Configura\xe7\xf5es",icon:"fas fa-cogs",group:[{name:"Geral",icon:"fas fa-cog",route:"/admin/configuracao-geral"},{name:"E-mail",icon:" fas fa-paper-plane",route:"/admin/configuracao-email"}],openGroup:!1}]}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(vi.a),c.Ob(Ci.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-home"]],decls:6,vars:3,consts:[[1,"page"],[1,"container"],[1,"home-title"],[1,"pages"],["class","pages-item",4,"ngFor","ngForOf"],[1,"pages-item"],[4,"ngIf"],["mat-button","",3,"routerLink"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"h1",2),c.Dc(3),c.Tb(),c.Ub(4,"ul",3),c.Cc(5,ki,3,2,"li",4),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(3),c.Gc(" Seja bem-vindo, ",t._auth.user.nome," ",t._auth.user.sobrenome,"! "),c.Cb(2),c.mc("ngForOf",t.pages))},directives:[a.j,a.k,m.a,n.e,Ti.c,Ti.d,Ti.a,n.d],styles:[".home-boxes[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.home-boxes[_ngcontent-%COMP%]   .home-box[_ngcontent-%COMP%]{margin-bottom:16px}.pages[_ngcontent-%COMP%]{max-width:30%}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-right:8px;color:#0a437f}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e})();class Mi{constructor(){this.id=0,this.nome="",this.descricao="",this.imagem="",this.ordem=99,this.funcionalidades=[],Object.assign(this)}}let yi=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/modulo/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/modulo/buscar?id="+e)}post(e){return this.api.post("/modulo/inserir",e)}patch(e){return this.api.post("/modulo/alterar",e)}delete(e){return this.api.post("/modulo/deletar",e)}deleteSelected(e){return this.api.post("/modulo/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Li=["fileInput"];function Oi(e,t){if(1&e&&c.Pb(0,"img",22),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function Ri(e,t){1&e&&c.Pb(0,"img",23)}let wi=(()=>{class e{constructor(e,t,i,a,n){this.moduloService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new Mi,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.moduloService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/modulo/imagem?id="+e),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.moduloService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(yi),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-modulos-criar"]],viewQuery:function(e,t){var i;1&e&&c.yc(Li,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar m\xf3dulo "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do m\xf3dulo "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"h3",9),c.Dc(18," Imagem (256x256) "),c.Tb(),c.Ub(19,"div",13),c.Cc(20,Oi,1,1,"img",14),c.Cc(21,Ri,1,0,"img",15),c.Ub(22,"button",16),c.bc("click",(function(){return c.uc(e),c.qc(25).click()})),c.Dc(23,"Escolher arquivo"),c.Tb(),c.Ub(24,"input",17,18),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(26,"button",19),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(27,"i",20),c.Tb(),c.Tb(),c.Pb(28,"hr"),c.Ub(29,"button",21),c.Dc(30," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();class xi{constructor(){this.id=0,this.idModulo=0,this.descricao="",this.ordem=99,Object.assign(this)}}let Pi=(()=>{class e{constructor(e){this.api=e}get(e,t=""){return this.api.get(`/funcionalidade/buscar?filtro=${t}&idModulo=${e}`)}getById(e){return this.api.get("/funcionalidade/buscar?id="+e)}post(e){return this.api.post("/funcionalidade/inserir",e)}patch(e){return this.api.post("/funcionalidade/alterar",e)}delete(e){return this.api.post("/funcionalidade/deletar",e)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ai=(()=>{class e{constructor(e,t,i,a,n){this.dialogRef=e,this.funcionalidadeService=t,this.helper=i,this.loadingService=a,this.data=n,this.funcionalidade=new xi}ngOnInit(){this.data.funcionalidade&&(this.funcionalidade=this.data.funcionalidade)}submit(){if(this.funcionalidade.descricao)if(this.funcionalidade.id)this.loadingService.present("Alterando..."),this.funcionalidadeService.patch(this.funcionalidade).subscribe(e=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss());else{const e=Object.assign(Object.assign({},this.funcionalidade),{idModulo:this.data.idModulo});this.loadingService.present("Adicionando..."),this.funcionalidadeService.post(e).subscribe(e=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss())}else this.helper.openSnackBar("Preencha uma descri\xe7\xe3o para continuar")}dismiss(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob($.f),c.Ob(Pi),c.Ob(l.a),c.Ob(b.a),c.Ob($.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-funcionalidades-modal"]],decls:11,vars:1,consts:[[3,"ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"page-form-control"],["matInput","","cdkFocusInitial","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit"]],template:function(e,t){1&e&&(c.Ub(0,"form",0),c.bc("ngSubmit",(function(){return t.submit()})),c.Ub(1,"h2",1),c.Dc(2," Editar funcionalidade "),c.Tb(),c.Ub(3,"div",2),c.Ub(4,"mat-form-field",3),c.Ub(5,"input",4),c.bc("ngModelChange",(function(e){return t.funcionalidade.descricao=e})),c.Tb(),c.Tb(),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.dismiss()})),c.Dc(8,"Fechar"),c.Tb(),c.Ub(9,"button",7),c.Dc(10,"Salvar"),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(5),c.mc("ngModel",t.funcionalidade.descricao))},directives:[u.p,u.j,u.k,$.g,$.d,h.b,g.b,u.c,u.n,u.i,u.l,$.c,m.b],styles:[""]}),e})();function Ei(e,t){1&e&&c.Pb(0,"mat-spinner")}function qi(e,t){1&e&&(c.Ub(0,"div",24),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function _i(e,t){if(1&e&&(c.Ub(0,"div",21),c.Cc(1,Ei,1,0,"mat-spinner",22),c.Cc(2,qi,2,0,"div",23),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Vi(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",25),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function $i(e,t){1&e&&c.Pb(0,"mat-spinner")}function Fi(e,t){if(1&e&&(c.Ub(0,"div",21),c.Cc(1,$i,1,0,"mat-spinner",22),c.Ub(2,"div",24),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function ji(e,t){1&e&&(c.Ub(0,"th",26),c.Dc(1," Descri\xe7\xe3o "),c.Tb())}function Bi(e,t){if(1&e&&(c.Ub(0,"td",27),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.descricao)}}function Ni(e,t){1&e&&c.Pb(0,"th",28)}function zi(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",27),c.Ub(1,"a",29),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().openModal(i)})),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",30),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}}function Hi(e,t){1&e&&c.Pb(0,"tr",31)}function Gi(e,t){1&e&&c.Pb(0,"tr",32)}const Qi=function(){return[15,25,40,50]};let Yi=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.funcionalidadeService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["1","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngOnInit(){}ngAfterViewInit(){this.buscar()}buscar(){Object(P.a)(this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.funcionalidadeService.get(this.idModulo,this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.length,e)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.funcionalidadeService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}filter(e){e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.funcionalidadeService.get(this.idModulo,e.toLocaleLowerCase()).subscribe(e=>this.data=e)):this.buscar()}clearFilter(){this.search="",this.buscar()}openModal(e){this.dialog.open(Ai,{width:"640px",data:{funcionalidade:e||null,idModulo:this.idModulo}}).afterClosed().subscribe(e=>{e&&this.buscar()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(Pi),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-funcionalidades"]],viewQuery:function(e,t){var i;1&e&&c.Ic(w.a,!0),2&e&&c.pc(i=c.cc())&&(t.paginator=i.first)},inputs:{idModulo:"idModulo"},decls:25,vars:11,consts:[[1,"page"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-raised-button","","color","primary",3,"click"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"click"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"h1",3),c.Dc(4," Funcionalidades "),c.Tb(),c.Ub(5,"div",4),c.Ub(6,"a",5),c.bc("click",(function(){return t.openModal()})),c.Dc(7," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(8,"div",6),c.Cc(9,_i,3,2,"div",7),c.Ub(10,"mat-form-field",8),c.Ub(11,"input",9),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(12,Vi,3,0,"button",10),c.Tb(),c.Ub(13,"div",11),c.Cc(14,Fi,4,1,"div",7),c.Ub(15,"table",12),c.Sb(16,13),c.Cc(17,ji,2,0,"th",14),c.Cc(18,Bi,2,1,"td",15),c.Rb(),c.Sb(19,16),c.Cc(20,Ni,1,0,"th",17),c.Cc(21,zi,7,0,"td",15),c.Rb(),c.Cc(22,Hi,1,0,"tr",18),c.Cc(23,Gi,1,0,"tr",19),c.Tb(),c.Pb(24,"mat-paginator",20),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(9),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(7),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(10,Qi))("pageSize",15))},directives:[m.a,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,m.b,h.f,B.a,j.d,x.b,j.a,j.f,j.h],styles:[""]}),e})();const Ki=["fileInput"];function Ji(e,t){if(1&e&&c.Pb(0,"img",24),2&e){const e=c.fc();c.mc("src",e.global.imageUrl+e.data.imagem,c.vc)}}function Zi(e,t){1&e&&c.Pb(0,"img",25)}function Wi(e,t){if(1&e&&c.Pb(0,"app-funcionalidades",26),2&e){const e=c.fc();c.mc("idModulo",e.data.id)}}let Xi=(()=>{class e{constructor(e,t,i,a,n,o){this.moduloService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new Mi,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.moduloService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.moduloService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/modulo/imagem?id="+this.data.id),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.moduloService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(yi),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-modulos-editar"]],viewQuery:function(e,t){var i;1&e&&c.yc(Ki,!0),2&e&&c.pc(i=c.cc())&&(t.fileInput=i.first)},decls:34,vars:6,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],[3,"idModulo",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"],[3,"idModulo"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar m\xf3dulo "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do m\xf3dulo "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.descricao=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.ordem=e})),c.Tb(),c.Tb(),c.Ub(19,"h3",9),c.Dc(20," Imagem (256x256) "),c.Tb(),c.Ub(21,"div",14),c.Cc(22,Ji,1,1,"img",15),c.Cc(23,Zi,1,0,"img",16),c.Ub(24,"button",17),c.bc("click",(function(){return c.uc(e),c.qc(27).click()})),c.Dc(25,"Escolher arquivo"),c.Tb(),c.Ub(26,"input",18,19),c.bc("change",(function(e){return t.onFileSelected(e.target.files)})),c.Tb(),c.Ub(28,"button",20),c.bc("click",(function(){return t.data.imagem=""})),c.Pb(29,"i",21),c.Tb(),c.Tb(),c.Cc(30,Wi,1,1,"app-funcionalidades",22),c.Pb(31,"hr"),c.Ub(32,"button",23),c.Dc(33," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.descricao),c.Cb(2),c.mc("ngModel",t.data.ordem),c.Cb(4),c.mc("ngIf",t.data.imagem),c.Cb(1),c.mc("ngIf",!t.data.imagem),c.Cb(7),c.mc("ngIf",t.data.id))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k,Yi],styles:["app-funcionalidades[_ngcontent-%COMP%]{flex:0 0 100%;width:100%}"]}),e})();function ea(e,t){1&e&&c.Pb(0,"mat-spinner")}function ta(e,t){1&e&&(c.Ub(0,"div",29),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function ia(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,ea,1,0,"mat-spinner",27),c.Cc(2,ta,2,0,"div",28),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function aa(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",30),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function na(e,t){1&e&&c.Pb(0,"mat-spinner")}function oa(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,na,1,0,"mat-spinner",27),c.Ub(2,"div",29),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function ca(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",31),c.Ub(1,"mat-checkbox",32),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function sa(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"mat-checkbox",34),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function ra(e,t){1&e&&(c.Ub(0,"th",31),c.Dc(1," Imagem "),c.Tb())}function la(e,t){if(1&e&&c.Pb(0,"img",37),2&e){const e=c.fc().$implicit,t=c.fc();c.mc("src",t.global.imageUrl+e.imagem,c.vc)}}function ba(e,t){1&e&&c.Pb(0,"img",38)}function da(e,t){if(1&e&&(c.Ub(0,"td",33),c.Cc(1,la,1,1,"img",35),c.Cc(2,ba,1,0,"img",36),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.mc("ngIf",e.imagem),c.Cb(1),c.mc("ngIf",!e.imagem)}}function ma(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1," Nome "),c.Tb())}function ua(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",e.nome," ",e.sobrenome,"")}}function ha(e,t){1&e&&(c.Ub(0,"th",39),c.Dc(1,"Descri\xe7\xe3o"),c.Tb())}function ga(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.descricao)}}function pa(e,t){1&e&&c.Pb(0,"th",31)}const fa=function(e){return["/admin/modulos/editar",e]};function va(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"a",40),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",41),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,fa,e.id))}}function Ca(e,t){1&e&&c.Pb(0,"tr",42)}function Ta(e,t){1&e&&c.Pb(0,"tr",43)}const Sa=function(){return[15,25,40,50]};let Ua=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.moduloService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.modulos)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.moduloService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.moduloService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.modulos:this.data.concat(e.modulos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(yi),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-modulos"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/modulos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," M\xf3dulos "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,ia,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,aa,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,oa,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,ca,2,3,"th",16),c.Cc(21,sa,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,ra,2,0,"th",16),c.Cc(24,da,3,2,"td",17),c.Rb(),c.Sb(25,19),c.Cc(26,ma,2,0,"th",20),c.Cc(27,ua,2,2,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,ha,2,0,"th",20),c.Cc(30,ga,2,1,"td",17),c.Rb(),c.Sb(31,22),c.Cc(32,pa,1,0,"th",16),c.Cc(33,va,7,3,"td",17),c.Rb(),c.Cc(34,Ca,1,0,"tr",23),c.Cc(35,Ta,1,0,"tr",24),c.Tb(),c.Pb(36,"mat-paginator",25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,Sa))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})();class Ia{constructor(){this.id=0,this.pergunta="",this.resposta="",this.ordem=99,Object.assign(this)}}let ka=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/pergunta/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/pergunta/buscar?id="+e)}post(e){return this.api.post("/pergunta/inserir",e)}patch(e){return this.api.post("/pergunta/alterar",e)}delete(e){return this.api.post("/pergunta/deletar",e)}deleteSelected(e){return this.api.post("/pergunta/deletarLista",e)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Da=(()=>{class e{constructor(e,t,i,a,n){this.perguntaService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new Ia}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.perguntaService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(ka),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-perguntas-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar pergunta "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados da pergunta "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.pergunta=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.resposta=e})),c.Tb(),c.Tb(),c.Pb(17,"hr"),c.Ub(18,"button",13),c.Dc(19," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.pergunta),c.Cb(2),c.mc("ngModel",t.data.resposta))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})(),Ma=(()=>{class e{constructor(e,t,i,a,n,o){this.perguntaService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new Ia}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.perguntaService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.perguntaService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(ka),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-perguntas-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar pergunta "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados da pergunta "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.pergunta=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"textarea",12),c.bc("ngModelChange",(function(e){return t.data.resposta=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.ordem=e})),c.Tb(),c.Tb(),c.Pb(19,"hr"),c.Ub(20,"button",14),c.Dc(21," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("ngModel",t.data.pergunta),c.Cb(2),c.mc("ngModel",t.data.resposta),c.Cb(2),c.mc("ngModel",t.data.ordem))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})();function ya(e,t){1&e&&c.Pb(0,"mat-spinner")}function La(e,t){1&e&&(c.Ub(0,"div",28),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function Oa(e,t){if(1&e&&(c.Ub(0,"div",25),c.Cc(1,ya,1,0,"mat-spinner",26),c.Cc(2,La,2,0,"div",27),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Ra(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",29),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function wa(e,t){1&e&&c.Pb(0,"mat-spinner")}function xa(e,t){if(1&e&&(c.Ub(0,"div",25),c.Cc(1,wa,1,0,"mat-spinner",26),c.Ub(2,"div",28),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function Pa(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",30),c.Ub(1,"mat-checkbox",31),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Aa(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",32),c.Ub(1,"mat-checkbox",33),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function Ea(e,t){1&e&&(c.Ub(0,"th",34),c.Dc(1," Pergunta "),c.Tb())}function qa(e,t){if(1&e&&(c.Ub(0,"td",32),c.Dc(1),c.gc(2,"slice"),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",c.jc(2,2,e.pergunta,0,128),"",e.pergunta.length>=128?"...":"","")}}function _a(e,t){1&e&&(c.Ub(0,"th",34),c.Dc(1," Resposta "),c.Tb())}function Va(e,t){if(1&e&&(c.Ub(0,"td",32),c.Dc(1),c.gc(2,"slice"),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",c.jc(2,2,e.resposta,0,128),"",e.resposta.length>=128?"...":"","")}}function $a(e,t){1&e&&c.Pb(0,"th",30)}const Fa=function(e){return["/admin/perguntas/editar",e]};function ja(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",32),c.Ub(1,"a",35),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",36),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,Fa,e.id))}}function Ba(e,t){1&e&&c.Pb(0,"tr",37)}function Na(e,t){1&e&&c.Pb(0,"tr",38)}const za=function(){return[15,25,40,50]};let Ha=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.perguntaService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.perguntas)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.perguntaService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.perguntaService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.perguntas:this.data.concat(e.perguntas)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(ka),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-perguntas"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/perguntas/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Perguntas "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,Oa,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,Ra,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,xa,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,Pa,2,3,"th",16),c.Cc(21,Aa,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,Ea,2,0,"th",19),c.Cc(24,qa,3,6,"td",17),c.Rb(),c.Sb(25,20),c.Cc(26,_a,2,0,"th",19),c.Cc(27,Va,3,6,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,$a,1,0,"th",16),c.Cc(30,ja,7,3,"td",17),c.Rb(),c.Cc(31,Ba,1,0,"tr",22),c.Cc(32,Na,1,0,"tr",23),c.Tb(),c.Pb(33,"mat-paginator",24),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(13),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,za))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],pipes:[a.r],styles:[""]}),e})();var Ga=i("11oC");let Qa=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/usuario/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/usuario/buscar?id="+e)}getByEmail(e){return this.api.get("/usuario/buscar?email="+e)}post(e){return this.api.post("/usuario/inserir",e)}patch(e){return this.api.post("/usuario/alterar",e)}delete(e){return this.api.post("/usuario/deletar",e)}deleteSelected(e){return this.api.post("/usuario/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(c.Yb(s.a))},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ya=(()=>{class e{constructor(e,t,i,a,n){this.usuarioService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new Ga.a}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.data.senha===this.data.re_senha?(this.loadingService.present("Inserindo item..."),this.usuarioService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})):this.helper.openSnackBar("As senhas precisam ser iguais.")}onSituacaoChange(e){this.data.situacao=e.checked?"A":"I"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(Qa),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-usuarios-criar"]],decls:26,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","password","placeholder","Senha","name","senha","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","placeholder","Confirmar senha","name","re_senha","required","",3,"ngModel","ngModelChange"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Adicionar usu\xe1rio "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do usu\xe1rio "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.email=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",13),c.Ub(18,"input",14),c.bc("ngModelChange",(function(e){return t.data.senha=e})),c.Tb(),c.Tb(),c.Ub(19,"mat-form-field",13),c.Ub(20,"input",15),c.bc("ngModelChange",(function(e){return t.data.re_senha=e})),c.Tb(),c.Tb(),c.Ub(21,"mat-slide-toggle",16),c.bc("change",(function(e){return t.onSituacaoChange(e)})),c.Dc(22),c.Tb(),c.Pb(23,"hr"),c.Ub(24,"button",17),c.Dc(25," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),c.Cb(2),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("ngModel",t.data.senha),c.Cb(2),c.mc("ngModel",t.data.re_senha),c.Cb(1),c.mc("checked","A"==t.data.situacao),c.Cb(1),c.Fc(" Situa\xe7\xe3o: ","A"==t.data.situacao?"Ativo":"Inativo",""))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,Ke.a],styles:[""]}),e})(),Ka=(()=>{class e{constructor(e,t,i,a,n,o){this.usuarioService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new Ga.a,this.hide=!1}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.usuarioService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.usuarioService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onSituacaoChange(e){this.data.situacao=e.checked?"A":"I"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(Qa),c.Ob(l.a),c.Ob(b.a),c.Ob(n.c),c.Ob(n.a),c.Ob(d.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-usuarios-editar"]],decls:27,vars:10,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senha","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=c.Vb();c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Editar usu\xe1rio "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.Dc(8," VOLTAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"form",7,8),c.bc("ngSubmit",(function(){c.uc(e);const i=c.qc(10);return t.submit(i)})),c.Ub(11,"h3",9),c.Dc(12," Dados do usu\xe1rio "),c.Tb(),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.data.email=e})),c.Tb(),c.Tb(),c.Ub(15,"mat-form-field",10),c.Ub(16,"input",12),c.bc("ngModelChange",(function(e){return t.data.nome=e})),c.Tb(),c.Tb(),c.Ub(17,"mat-form-field",10),c.Ub(18,"input",13),c.bc("ngModelChange",(function(e){return t.data.senha=e})),c.Tb(),c.Ub(19,"button",14),c.bc("click",(function(){return t.hide=!t.hide})),c.Ub(20,"mat-icon"),c.Dc(21),c.Tb(),c.Tb(),c.Tb(),c.Ub(22,"mat-slide-toggle",15),c.bc("change",(function(e){return t.onSituacaoChange(e)})),c.Dc(23),c.Tb(),c.Pb(24,"hr"),c.Ub(25,"button",16),c.Dc(26," SALVAR "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}2&e&&(c.Cb(14),c.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),c.Cb(2),c.mc("ngModel",t.data.nome),c.Cb(2),c.mc("type",t.hide?"password":"text")("ngModel",t.data.senha),c.Cb(1),c.Db("aria-label","Hide password")("aria-pressed",t.hide),c.Cb(2),c.Ec(t.hide?"visibility_off":"visibility"),c.Cb(1),c.mc("checked","A"==t.data.situacao),c.Cb(1),c.Fc(" Situa\xe7\xe3o: ","A"==t.data.situacao?"Ativo":"Inativo",""))},directives:[m.b,n.d,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,h.f,B.a,Ke.a],styles:[""]}),e})();function Ja(e,t){1&e&&c.Pb(0,"mat-spinner")}function Za(e,t){1&e&&(c.Ub(0,"div",29),c.Dc(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),c.Tb())}function Wa(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,Ja,1,0,"mat-spinner",27),c.Cc(2,Za,2,0,"div",28),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults),c.Cb(1),c.mc("ngIf",e.isRateLimitReached)}}function Xa(e,t){if(1&e){const e=c.Vb();c.Ub(0,"button",30),c.bc("click",(function(){return c.uc(e),c.fc().clearFilter()})),c.Ub(1,"mat-icon"),c.Dc(2,"close"),c.Tb(),c.Tb()}}function en(e,t){1&e&&c.Pb(0,"mat-spinner")}function tn(e,t){if(1&e&&(c.Ub(0,"div",26),c.Cc(1,en,1,0,"mat-spinner",27),c.Ub(2,"div",29),c.Dc(3," Nenhum registro encontrado "),c.Tb(),c.Tb()),2&e){const e=c.fc();c.Cb(1),c.mc("ngIf",e.isLoadingResults)}}function an(e,t){if(1&e){const e=c.Vb();c.Ub(0,"th",31),c.Ub(1,"mat-checkbox",32),c.bc("change",(function(t){c.uc(e);const i=c.fc();return t?i.masterToggle():null})),c.Tb(),c.Tb()}if(2&e){const e=c.fc();c.Cb(1),c.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function nn(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"mat-checkbox",34),c.bc("click",(function(t){return c.uc(e),t.stopPropagation()}))("change",(function(i){c.uc(e);const a=t.$implicit,n=c.fc();return i?n.selection.toggle(a):null})),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit,i=c.fc();c.Cb(1),c.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function on(e,t){1&e&&(c.Ub(0,"th",35),c.Dc(1," Nome "),c.Tb())}function cn(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Gc("",e.nome," ",e.sobrenome,"")}}function sn(e,t){1&e&&(c.Ub(0,"th",35),c.Dc(1,"E-mail"),c.Tb())}function rn(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec(e.email)}}function ln(e,t){1&e&&(c.Ub(0,"th",35),c.Dc(1,"Situa\xe7\xe3o"),c.Tb())}function bn(e,t){if(1&e&&(c.Ub(0,"td",33),c.Dc(1),c.Tb()),2&e){const e=t.$implicit;c.Cb(1),c.Ec("A"==e.situacao?"Ativo":"Inativo")}}function dn(e,t){1&e&&c.Pb(0,"th",31)}const mn=function(e){return["/admin/usuarios/editar",e]};function un(e,t){if(1&e){const e=c.Vb();c.Ub(0,"td",33),c.Ub(1,"a",36),c.Ub(2,"mat-icon"),c.Dc(3,"create"),c.Tb(),c.Tb(),c.Ub(4,"button",37),c.bc("click",(function(){c.uc(e);const i=t.$implicit;return c.fc().deletarData(i)})),c.Ub(5,"mat-icon"),c.Dc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}if(2&e){const e=t.$implicit;c.Cb(1),c.mc("routerLink",c.oc(1,mn,e.id))}}function hn(e,t){1&e&&c.Pb(0,"tr",38)}function gn(e,t){1&e&&c.Pb(0,"tr",39)}const pn=function(){return[15,25,40,50]},fn=[{path:"",component:Di},{path:"usuarios",component:(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.usuarioService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","3","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new R.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(P.a)(this.sort.sortChange,this.paginator.page).pipe(Object(E.a)({}),Object(q.a)(()=>(this.isLoadingResults=!0,this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(_.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.usuarios)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(A.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open(F,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.usuarioService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(F,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.usuarioService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.usuarios:this.data.concat(e.usuarios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(d.a),c.Ob(Qa),c.Ob($.b),c.Ob(l.a),c.Ob(b.a))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-usuarios"]],viewQuery:function(e,t){var i;1&e&&(c.Ic(w.a,!0),c.Ic(x.a,!0)),2&e&&(c.pc(i=c.cc())&&(t.paginator=i.first),c.pc(i=c.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/usuarios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","3"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"section",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h1",4),c.Dc(5," Usu\xe1rios "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.bc("click",(function(){return t.deletarDatas()})),c.Dc(8," DELETAR ITENS "),c.Tb(),c.Ub(9,"a",7),c.Dc(10," ADICIONAR "),c.Tb(),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Cc(12,Wa,3,2,"div",9),c.Ub(13,"mat-form-field",10),c.Ub(14,"input",11),c.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),c.Tb(),c.Cc(15,Xa,3,0,"button",12),c.Tb(),c.Ub(16,"div",13),c.Cc(17,tn,4,1,"div",9),c.Ub(18,"table",14),c.Sb(19,15),c.Cc(20,an,2,3,"th",16),c.Cc(21,nn,2,2,"td",17),c.Rb(),c.Sb(22,18),c.Cc(23,on,2,0,"th",19),c.Cc(24,cn,2,2,"td",17),c.Rb(),c.Sb(25,20),c.Cc(26,sn,2,0,"th",19),c.Cc(27,rn,2,1,"td",17),c.Rb(),c.Sb(28,21),c.Cc(29,ln,2,0,"th",19),c.Cc(30,bn,2,1,"td",17),c.Rb(),c.Sb(31,22),c.Cc(32,dn,1,0,"th",16),c.Cc(33,un,7,3,"td",17),c.Rb(),c.Cc(34,hn,1,0,"tr",23),c.Cc(35,gn,1,0,"tr",24),c.Tb(),c.Pb(36,"mat-paginator",25),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Cb(7),c.mc("disabled",!t.selection.selected.length),c.Cb(5),c.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),c.Cb(2),c.mc("ngModel",t.search),c.Cb(1),c.mc("ngIf",t.search),c.Cb(2),c.mc("ngIf",!t.isLoadingResults&&!t.data.length),c.Cb(1),c.mc("dataSource",t.data),c.Cb(16),c.mc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.mc("length",t.resultsLength)("pageSizeOptions",c.nc(11,pn))("pageSize",15))},directives:[m.b,m.a,n.e,a.k,h.b,g.b,u.c,u.i,u.l,j.j,x.a,j.c,j.e,j.b,j.g,j.i,w.a,h.f,B.a,j.d,N.a,j.a,x.b,j.f,j.h],styles:[""]}),e})()},{path:"usuarios/adicionar",component:Ya},{path:"usuarios/editar/:id",component:Ka},{path:"clientes",component:He},{path:"clientes/adicionar",component:ve},{path:"clientes/editar/:id",component:Ue},{path:"depoimentos",component:fi},{path:"depoimentos/adicionar",component:zt},{path:"depoimentos/editar/:id",component:Yt},{path:"configuracao-email",component:Xe},{path:"configuracao-geral",component:lt},{path:"contato-geral",component:Vt},{path:"banner",component:C},{path:"beneficios",component:me},{path:"beneficios/adicionar",component:D},{path:"beneficios/editar/:id",component:O},{path:"perguntas",component:Ha},{path:"perguntas/adicionar",component:Da},{path:"perguntas/editar/:id",component:Ma},{path:"modulos",component:Ua},{path:"modulos/adicionar",component:wi},{path:"modulos/editar/:id",component:Xi},{path:"consultorias",component:xt},{path:"consultorias/adicionar",component:mt},{path:"consultorias/editar/:id",component:ut}];let vn=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(fn)],n.f]}),e})();var Cn=i("hctd");let Tn=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[a.c,vn,u.e,Cn.a,Ye.c.forChild()]]}),e})()}}]);