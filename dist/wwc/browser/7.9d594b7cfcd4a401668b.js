(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jkDv:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",(function(){return In}));var a=i("SVse"),n=i("iInd"),o=i("bsM5"),s=i("8Y7J"),c=i("H+bZ");let r=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/banner/buscar")}patch(e){return this.api.post("/banner/alterar",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=i("92Lm"),b=i("7ch9"),d=i("4WDQ"),m=i("Dxy4"),u=i("s7LF"),h=i("Q2Ze"),g=i("e6WT");const p=["fileInput"];function f(e,t){if(1&e&&s.Pb(0,"img",23),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function v(e,t){1&e&&s.Pb(0,"img",24)}let T=(()=>{class e{constructor(e,t,i,a,n,s){this.bannerService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.route=s,this.data=new o.a,this.progress=0}ngOnInit(){this.bannerService.get().subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.bannerService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/banner/imagem?id="+this.data.id),this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/banner/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.bannerService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(r),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a),s.Ob(n.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-banner"]],viewQuery:function(e,t){var i;1&e&&s.zc(p,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Banner "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do depoimento "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.titulo=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.link=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"textarea",13),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (1920x800) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,f,1,1,"img",15),s.Dc(23,v,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Pb(30,"hr"),s.Ub(31,"button",22),s.Ec(32," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.titulo),s.Cb(2),s.mc("ngModel",t.data.link),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();class S{constructor(){this.nome="",this.descricao="",this.imagem="",this.ordem=99,Object.assign(this)}}let U=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/beneficio/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/beneficio/buscar?id="+e)}post(e){return this.api.post("/beneficio/inserir",e)}patch(e){return this.api.post("/beneficio/alterar",e)}delete(e){return this.api.post("/beneficio/deletar",e)}deleteSelected(e){return this.api.post("/beneficio/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const C=["fileInput"];function I(e,t){if(1&e&&s.Pb(0,"img",22),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function k(e,t){1&e&&s.Pb(0,"img",23)}let E=(()=>{class e{constructor(e,t,i,a,n){this.beneficioService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new S,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.beneficioService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/beneficio/imagem?id="+e),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.beneficioService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(U),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-beneficios-criar"]],viewQuery:function(e,t){var i;1&e&&s.zc(C,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar benef\xedcio "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do benef\xedcio "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"h3",9),s.Ec(18," Imagem (256x256) "),s.Tb(),s.Ub(19,"div",13),s.Dc(20,I,1,1,"img",14),s.Dc(21,k,1,0,"img",15),s.Ub(22,"button",16),s.bc("click",(function(){return s.vc(e),s.rc(25).click()})),s.Ec(23,"Escolher arquivo"),s.Tb(),s.Ub(24,"input",17,18),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(26,"button",19),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(27,"i",20),s.Tb(),s.Tb(),s.Pb(28,"hr"),s.Ub(29,"button",21),s.Ec(30," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const D=["fileInput"];function M(e,t){if(1&e&&s.Pb(0,"img",23),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function y(e,t){1&e&&s.Pb(0,"img",24)}let L=(()=>{class e{constructor(e,t,i,a,n,o){this.beneficioService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new S,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.beneficioService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.beneficioService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/beneficio/imagem?id="+this.data.id),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.beneficioService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(U),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-beneficios-editar"]],viewQuery:function(e,t){var i;1&e&&s.zc(D,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar benef\xedcio "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do benef\xedcio "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.ordem=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (256x256) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,M,1,1,"img",15),s.Dc(23,y,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Pb(30,"hr"),s.Ub(31,"button",22),s.Ec(32," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(2),s.mc("ngModel",t.data.ordem),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();var O=i("CtHx"),w=i("5QHs"),R=i("LUZP"),x=i("VRyK"),P=i("LRne"),A=i("JX91"),_=i("eIep"),q=i("lJxs"),V=i("JIr8"),F=i("iELJ");let $=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(F.f),s.Ob(F.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"h2",0),s.Ec(1),s.Tb(),s.Ub(2,"div",1),s.Ub(3,"p"),s.Ec(4),s.Tb(),s.Tb(),s.Ub(5,"div",2),s.Ub(6,"button",3),s.bc("click",(function(){return t.onNoClick()})),s.Ec(7,"Fechar"),s.Tb(),s.Ub(8,"button",4),s.bc("click",(function(){return t.onYesClick()})),s.Ec(9,"Sim"),s.Tb(),s.Tb()),2&e&&(s.Cb(1),s.Fc(t.data.title),s.Cb(3),s.Fc(t.data.description))},directives:[F.g,F.d,F.c,m.b],styles:[""]}),e})();var j=i("OaSA"),B=i("pu8Q"),N=i("Tj54"),z=i("pMoy"),H=i("ZFy/");function G(e,t){1&e&&s.Pb(0,"mat-spinner")}function Q(e,t){1&e&&(s.Ub(0,"div",29),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function J(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,G,1,0,"mat-spinner",27),s.Dc(2,Q,2,0,"div",28),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function Y(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",30),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function K(e,t){1&e&&s.Pb(0,"mat-spinner")}function Z(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,K,1,0,"mat-spinner",27),s.Ub(2,"div",29),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function W(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",31),s.Ub(1,"mat-checkbox",32),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function X(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"mat-checkbox",34),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function ee(e,t){1&e&&(s.Ub(0,"th",31),s.Ec(1," Imagem "),s.Tb())}function te(e,t){if(1&e&&s.Pb(0,"img",37),2&e){const e=s.fc().$implicit,t=s.fc();s.mc("src",t.global.imageUrl+e.imagem,s.wc)}}function ie(e,t){1&e&&s.Pb(0,"img",38)}function ae(e,t){if(1&e&&(s.Ub(0,"td",33),s.Dc(1,te,1,1,"img",35),s.Dc(2,ie,1,0,"img",36),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.mc("ngIf",e.imagem),s.Cb(1),s.mc("ngIf",!e.imagem)}}function ne(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1," Nome "),s.Tb())}function oe(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.nome)}}function se(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1,"Descri\xe7\xe3o"),s.Tb())}function ce(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.descricao)}}function re(e,t){1&e&&s.Pb(0,"th",31)}const le=function(e){return["/admin/beneficios/editar",e]};function be(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"a",40),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",41),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,le,e.id))}}function de(e,t){1&e&&s.Pb(0,"tr",42)}function me(e,t){1&e&&s.Pb(0,"tr",43)}const ue=function(){return[15,25,40,50]};let he=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.beneficioService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.beneficios)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.beneficioService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.beneficioService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.beneficios:this.data.concat(e.beneficios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(U),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-beneficios"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/beneficios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Benef\xedcios "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,J,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,Y,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,Z,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,W,2,3,"th",16),s.Dc(21,X,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,ee,2,0,"th",16),s.Dc(24,ae,3,2,"td",17),s.Rb(),s.Sb(25,19),s.Dc(26,ne,2,0,"th",20),s.Dc(27,oe,2,1,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,se,2,0,"th",20),s.Dc(30,ce,2,1,"td",17),s.Rb(),s.Sb(31,22),s.Dc(32,re,1,0,"th",16),s.Dc(33,be,7,3,"td",17),s.Rb(),s.Dc(34,de,1,0,"tr",23),s.Dc(35,me,1,0,"tr",24),s.Tb(),s.Pb(36,"mat-paginator",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(16),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,ue))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})();class ge{constructor(){this.id=0,this.nome="",this.link="",this.imagem="",this.ordem=99,Object.assign(this)}}let pe=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/cliente/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/cliente/buscar?id="+e)}post(e){return this.api.post("/cliente/inserir",e)}patch(e){return this.api.post("/cliente/alterar",e)}delete(e){return this.api.post("/cliente/deletar",e)}deleteSelected(e){return this.api.post("/cliente/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const fe=["fileInput"];function ve(e,t){if(1&e&&s.Pb(0,"img",22),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Te(e,t){1&e&&s.Pb(0,"img",23)}let Se=(()=>{class e{constructor(e,t,i,a,n){this.clienteService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new ge,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.clienteService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/cliente/imagem?id="+e),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.clienteService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(pe),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-clientes-criar"]],viewQuery:function(e,t){var i;1&e&&s.zc(fe,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar cliente "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do cliente "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.link=e})),s.Tb(),s.Tb(),s.Ub(17,"h3",9),s.Ec(18," Imagem (600x600) "),s.Tb(),s.Ub(19,"div",13),s.Dc(20,ve,1,1,"img",14),s.Dc(21,Te,1,0,"img",15),s.Ub(22,"button",16),s.bc("click",(function(){return s.vc(e),s.rc(25).click()})),s.Ec(23,"Escolher arquivo"),s.Tb(),s.Ub(24,"input",17,18),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(26,"button",19),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(27,"i",20),s.Tb(),s.Tb(),s.Pb(28,"hr"),s.Ub(29,"button",21),s.Ec(30," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.link),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const Ue=["fileInput"];function Ce(e,t){if(1&e&&s.Pb(0,"img",23),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Ie(e,t){1&e&&s.Pb(0,"img",24)}let ke=(()=>{class e{constructor(e,t,i,a,n,o){this.clienteService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new ge,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.clienteService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.clienteService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/cliente/imagem?id="+this.data.id),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.clienteService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(pe),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-clientes-editar"]],viewQuery:function(e,t){var i;1&e&&s.zc(Ue,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar cliente "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do cliente "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.link=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.ordem=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (600x600) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,Ce,1,1,"img",15),s.Dc(23,Ie,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Pb(30,"hr"),s.Ub(31,"button",22),s.Ec(32," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.link),s.Cb(2),s.mc("ngModel",t.data.ordem),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();function Ee(e,t){1&e&&s.Pb(0,"mat-spinner")}function De(e,t){1&e&&(s.Ub(0,"div",29),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function Me(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,Ee,1,0,"mat-spinner",27),s.Dc(2,De,2,0,"div",28),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function ye(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",30),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function Le(e,t){1&e&&s.Pb(0,"mat-spinner")}function Oe(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,Le,1,0,"mat-spinner",27),s.Ub(2,"div",29),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function we(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",31),s.Ub(1,"mat-checkbox",32),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Re(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"mat-checkbox",34),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function xe(e,t){1&e&&(s.Ub(0,"th",31),s.Ec(1," Imagem "),s.Tb())}function Pe(e,t){if(1&e&&s.Pb(0,"img",37),2&e){const e=s.fc().$implicit,t=s.fc();s.mc("src",t.global.imageUrl+e.imagem,s.wc)}}function Ae(e,t){1&e&&s.Pb(0,"img",38)}function _e(e,t){if(1&e&&(s.Ub(0,"td",33),s.Dc(1,Pe,1,1,"img",35),s.Dc(2,Ae,1,0,"img",36),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.mc("ngIf",e.imagem),s.Cb(1),s.mc("ngIf",!e.imagem)}}function qe(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1," Nome "),s.Tb())}function Ve(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",e.nome," ",e.sobrenome,"")}}function Fe(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1,"Link"),s.Tb())}function $e(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.link)}}function je(e,t){1&e&&s.Pb(0,"th",31)}const Be=function(e){return["/admin/clientes/editar",e]};function Ne(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"a",40),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",41),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,Be,e.id))}}function ze(e,t){1&e&&s.Pb(0,"tr",42)}function He(e,t){1&e&&s.Pb(0,"tr",43)}const Ge=function(){return[15,25,40,50]};let Qe=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.clienteService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.clientes)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.clienteService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.clienteService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.clientes:this.data.concat(e.clientes)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(pe),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-clientes"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/clientes/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Clientes "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,Me,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,ye,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,Oe,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,we,2,3,"th",16),s.Dc(21,Re,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,xe,2,0,"th",16),s.Dc(24,_e,3,2,"td",17),s.Rb(),s.Sb(25,19),s.Dc(26,qe,2,0,"th",20),s.Dc(27,Ve,2,2,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,Fe,2,0,"th",20),s.Dc(30,$e,2,1,"td",17),s.Rb(),s.Sb(31,22),s.Dc(32,je,1,0,"th",16),s.Dc(33,Ne,7,3,"td",17),s.Rb(),s.Dc(34,ze,1,0,"tr",23),s.Dc(35,He,1,0,"tr",24),s.Tb(),s.Pb(36,"mat-paginator",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(16),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,Ge))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})();class Je{constructor(){this.id=0,this.smtp="",this.ssl="",this.emailAutenticar="",this.senhaAutenticar="",Object.assign(this)}}let Ye=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/configuracaoEmail/buscar")}patch(e){return this.api.post("/configuracaoEmail/alterar",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ke=i("bOtU"),Ze=i("jMqV"),We=i("BTe0");function Xe(e,t){1&e&&s.Pb(0,"mat-progress-bar",22)}function et(e,t){1&e&&s.Pb(0,"div",23)}let tt=(()=>{class e{constructor(e,t,i,a){this.configuracaoEmailService=e,this.helper=t,this.loadingService=i,this.router=a,this.data=new Je,this.hide=!0}ngOnInit(){this.buscar()}buscar(){this.configuracaoEmailService.get().subscribe(e=>this.data=e)}onSslChange(e){this.data.ssl=e.checked?"S":"N"}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoEmailService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Ye),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-configuracao-email"]],decls:31,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","SMTP","name","smtp","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","third"],["matInput","","type","tel","placeholder","Porta SMTP","name","portaSmtp","required","","mask","0*",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","email","placeholder","E-mail","name","emailAutenticar","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senhaAutenticar","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Configurar e-mail "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Dc(11,Xe,1,0,"mat-progress-bar",9),s.Dc(12,et,1,0,"div",10),s.Ub(13,"h3",11),s.Ec(14," Dados do e-mail "),s.Tb(),s.Ub(15,"mat-form-field",12),s.Ub(16,"input",13),s.bc("ngModelChange",(function(e){return t.data.smtp=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",14),s.Ub(18,"input",15),s.bc("ngModelChange",(function(e){return t.data.portaSmtp=e})),s.Tb(),s.Tb(),s.Ub(19,"mat-form-field",16),s.Ub(20,"input",17),s.bc("ngModelChange",(function(e){return t.data.emailAutenticar=e})),s.Tb(),s.Tb(),s.Ub(21,"mat-form-field",16),s.Ub(22,"input",18),s.bc("ngModelChange",(function(e){return t.data.senhaAutenticar=e})),s.Tb(),s.Ub(23,"button",19),s.bc("click",(function(){return t.hide=!t.hide})),s.Ub(24,"mat-icon"),s.Ec(25),s.Tb(),s.Tb(),s.Tb(),s.Ub(26,"mat-slide-toggle",20),s.bc("change",(function(e){return t.onSslChange(e)})),s.Ec(27),s.Tb(),s.Pb(28,"hr"),s.Ub(29,"button",21),s.Ec(30," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(11),s.mc("ngIf",!t.data.id),s.Cb(1),s.mc("ngIf",!t.data.id),s.Cb(4),s.mc("ngModel",t.data.smtp),s.Cb(2),s.mc("ngModel",t.data.portaSmtp),s.Cb(2),s.mc("ngModel",t.data.emailAutenticar),s.Cb(2),s.mc("type",t.hide?"password":"text")("ngModel",t.data.senhaAutenticar),s.Cb(1),s.Db("aria-label","Hide password")("aria-pressed",t.hide),s.Cb(2),s.Fc(t.hide?"visibility_off":"visibility"),s.Cb(1),s.mc("checked","S"===t.data.ssl),s.Cb(1),s.Gc(" SSL: ","S"===t.data.ssl?"Sim":"N\xe3o",""))},directives:[m.b,n.g,u.p,u.j,u.k,a.k,h.b,g.b,u.c,u.n,u.i,u.l,Ke.a,h.f,N.a,Ze.a,We.a],styles:[""]}),e})();class it{constructor(){this.id=0,this.ambiente="",this.imagemLogo="",this.linkApi="",this.caminhoFisico="",Object.assign(this)}}let at=(()=>{class e{constructor(e){this.api=e}get(){return this.api.get("/configuracaoGeral/buscar")}patch(e){return this.api.post("/configuracaoGeral/alterar",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var nt=i("ZTz/"),ot=i("UhP/");const st=["fileInput"];function ct(e,t){1&e&&s.Pb(0,"mat-progress-bar",27)}function rt(e,t){1&e&&s.Pb(0,"div",28)}function lt(e,t){if(1&e&&s.Pb(0,"img",29),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagemLogo,s.wc)}}function bt(e,t){1&e&&s.Pb(0,"img",30)}let dt=(()=>{class e{constructor(e,t,i,a,n){this.configuracaoGeralService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new it}ngOnInit(){this.buscar()}buscar(){this.configuracaoGeralService.get().subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoGeralService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}onFileSelected(e){this.file=e.item(0),this.loadingService.present("Alterando imagem..."),this.submitImages(this.file,"/configuracaoGeral/imagem").then(e=>{this.data.imagemLogo=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.configuracaoGeralService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(at),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-configuracao-geral"]],viewQuery:function(e,t){var i;1&e&&s.zc(st,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:39,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","half"],["name","ambiente",3,"ngModel","ngModelChange"],["value","T"],["value","P"],["matInput","","type","text","placeholder","Link da API","name","linkApi",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Caminha F\xedsico (teste)","name","caminhoFisico",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagemLogo","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Configurar geral "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Dc(11,ct,1,0,"mat-progress-bar",9),s.Dc(12,rt,1,0,"div",10),s.Ub(13,"h3",11),s.Ec(14," Dados gerais "),s.Tb(),s.Ub(15,"mat-form-field",12),s.Ub(16,"mat-select",13),s.bc("ngModelChange",(function(e){return t.data.ambiente=e})),s.Ub(17,"mat-option",14),s.Ec(18,"Teste"),s.Tb(),s.Ub(19,"mat-option",15),s.Ec(20,"Produ\xe7\xe3o"),s.Tb(),s.Tb(),s.Tb(),s.Ub(21,"mat-form-field",12),s.Ub(22,"input",16),s.bc("ngModelChange",(function(e){return t.data.linkApi=e})),s.Tb(),s.Tb(),s.Ub(23,"mat-form-field",12),s.Ub(24,"input",17),s.bc("ngModelChange",(function(e){return t.data.caminhoFisico=e})),s.Tb(),s.Tb(),s.Ub(25,"h3",11),s.Ec(26," Imagem "),s.Tb(),s.Ub(27,"div",18),s.Dc(28,lt,1,1,"img",19),s.Dc(29,bt,1,0,"img",20),s.Ub(30,"button",21),s.bc("click",(function(){return s.vc(e),s.rc(33).click()})),s.Ec(31,"Escolher arquivo"),s.Tb(),s.Ub(32,"input",22,23),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(34,"button",24),s.bc("click",(function(){return t.data.imagemLogo=""})),s.Pb(35,"i",25),s.Tb(),s.Tb(),s.Pb(36,"hr"),s.Ub(37,"button",26),s.Ec(38," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(11),s.mc("ngIf",!t.data.id),s.Cb(1),s.mc("ngIf",!t.data.id),s.Cb(4),s.mc("ngModel",t.data.ambiente),s.Cb(6),s.mc("ngModel",t.data.linkApi),s.Cb(2),s.mc("ngModel",t.data.caminhoFisico),s.Cb(4),s.mc("ngIf",t.data.imagemLogo),s.Cb(1),s.mc("ngIf",!t.data.imagemLogo))},directives:[m.b,n.g,u.p,u.j,u.k,a.k,h.b,nt.a,u.i,u.l,ot.l,g.b,u.c,We.a],styles:[""]}),e})();class mt{constructor(){this.id=0,this.titulo="",this.descricao="",this.ordem=99,Object.assign(this)}}let ut=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/consultoria/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/consultoria/buscar?id="+e)}post(e){return this.api.post("/consultoria/inserir",e)}patch(e){return this.api.post("/consultoria/alterar",e)}delete(e){return this.api.post("/consultoria/deletar",e)}deleteSelected(e){return this.api.post("/consultoria/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ht=(()=>{class e{constructor(e,t,i,a,n){this.consultoriaService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new mt}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.consultoriaService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(ut),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-consultorias-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar consultoria "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados da consultoria "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.titulo=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Pb(17,"hr"),s.Ub(18,"button",13),s.Ec(19," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.titulo),s.Cb(2),s.mc("ngModel",t.data.descricao))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})(),gt=(()=>{class e{constructor(e,t,i,a,n,o){this.consultoriaService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new mt}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.consultoriaService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.consultoriaService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(ut),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-consultorias-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar consultoria "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados da consultoria "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.titulo=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.ordem=e})),s.Tb(),s.Tb(),s.Pb(19,"hr"),s.Ub(20,"button",14),s.Ec(21," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.titulo),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(2),s.mc("ngModel",t.data.ordem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})();function pt(e,t){1&e&&s.Pb(0,"mat-spinner")}function ft(e,t){1&e&&(s.Ub(0,"div",28),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function vt(e,t){if(1&e&&(s.Ub(0,"div",25),s.Dc(1,pt,1,0,"mat-spinner",26),s.Dc(2,ft,2,0,"div",27),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function Tt(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",29),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function St(e,t){1&e&&s.Pb(0,"mat-spinner")}function Ut(e,t){if(1&e&&(s.Ub(0,"div",25),s.Dc(1,St,1,0,"mat-spinner",26),s.Ub(2,"div",28),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function Ct(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",30),s.Ub(1,"mat-checkbox",31),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function It(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",32),s.Ub(1,"mat-checkbox",33),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function kt(e,t){1&e&&(s.Ub(0,"th",34),s.Ec(1," T\xedtulo "),s.Tb())}function Et(e,t){if(1&e&&(s.Ub(0,"td",32),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.titulo)}}function Dt(e,t){1&e&&(s.Ub(0,"th",34),s.Ec(1,"Descri\xe7\xe3o"),s.Tb())}function Mt(e,t){if(1&e&&(s.Ub(0,"td",32),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.descricao)}}function yt(e,t){1&e&&s.Pb(0,"th",30)}const Lt=function(e){return["/admin/consultorias/editar",e]};function Ot(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",32),s.Ub(1,"a",35),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",36),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,Lt,e.id))}}function wt(e,t){1&e&&s.Pb(0,"tr",37)}function Rt(e,t){1&e&&s.Pb(0,"tr",38)}const xt=function(){return[15,25,40,50]};let Pt=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.consultoriaService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.consultorias)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.consultoriaService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.consultoriaService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.consultorias:this.data.concat(e.consultorias)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(ut),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-consultorias"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/consultorias/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Consultorias "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,vt,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,Tt,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,Ut,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,Ct,2,3,"th",16),s.Dc(21,It,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,kt,2,0,"th",19),s.Dc(24,Et,2,1,"td",17),s.Rb(),s.Sb(25,20),s.Dc(26,Dt,2,0,"th",19),s.Dc(27,Mt,2,1,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,yt,1,0,"th",16),s.Dc(30,Ot,7,3,"td",17),s.Rb(),s.Dc(31,wt,1,0,"tr",22),s.Dc(32,Rt,1,0,"tr",23),s.Tb(),s.Pb(33,"mat-paginator",24),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(13),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,xt))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})();var At=i("MQJ/");let _t=(()=>{class e{constructor(e){this.api=e}buscarGeral(){return this.api.get("/contatoGeral/buscar")}alterarGeral(e){return this.api.post("/contatoGeral/alterar",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qt=["numeroEnderecoInput"];function Vt(e,t){1&e&&s.Pb(0,"mat-progress-bar",30)}function Ft(e,t){1&e&&s.Pb(0,"div",31)}let $t=(()=>{class e{constructor(e,t,i,a,n){this.contatoGeralService=e,this.helper=t,this.loadingService=i,this.dialog=a,this.router=n,this.data=new At.a,this.loading=!1,this.phoneMask="(00) 0000-00009"}ngOnInit(){this.buscar()}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando cadastro geral..."),this.contatoGeralService.alterarGeral(this.data).subscribe(e=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Contato geral alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}buscar(){this.contatoGeralService.buscarGeral().subscribe(e=>this.data=e)}changePhoneMask(e){let t=e;t&&(this.phoneMask="0800"==t.replace(/\D/g,"").substring(0,4)?"0000 000 0000":11===t.replace(/\D/g,"").length?"(00) 0 0000-0000":"(00) 0000-00009")}onCepBlur(e){8==this.data.cep.length&&this.helper.viaCep(this.data.cep).subscribe(e=>{this.data.bairro=e.bairro,this.data.uf=e.uf,this.data.cidade=e.localidade,this.data.rua=e.logradouro,this.numeroEnderecoInput.nativeElement.focus()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(_t),s.Ob(l.a),s.Ob(b.a),s.Ob(F.b),s.Ob(n.f))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-contato-geral"]],viewQuery:function(e,t){var i;1&e&&s.Jc(qt,!0),2&e&&s.qc(i=s.cc())&&(t.numeroEnderecoInput=i.first)},decls:55,vars:18,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Telefone","name","telefone","required","",3,"ngModel","mask","ngModelChange"],["matInput","","type","tel","placeholder","CEP","mask","00000-000","name","cep","required","",3,"ngModel","ngModelChange","blur"],[1,"page-form-control","third"],["matInput","","type","text","placeholder","Estado (UF)","name","uf","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","Cidade","name","cidade","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Bairro","name","bairro","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Rua","name","rua","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","N\xfamero","mask","0*","name","numeroEndereco","required","",3,"ngModel","ngModelChange"],["numeroEnderecoInput",""],["matInput","","type","text","placeholder","Complemento","name","complemento",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","tel","placeholder","Latitude","name","latitude",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Longitude","name","longitude",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Instagram (opcional)","name","linkInstagram",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Facebook (opcional)","name","linkFacebook",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Whatsapp","name","whatsApp","mask","(00) 0 0000-0000","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Contato "),s.Tb(),s.Tb(),s.Ub(6,"form",5,6),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(7);return t.submit(i)})),s.Dc(8,Vt,1,0,"mat-progress-bar",7),s.Dc(9,Ft,1,0,"div",8),s.Ub(10,"h3",9),s.Ec(11," Contato "),s.Tb(),s.Ub(12,"mat-form-field",10),s.Ub(13,"input",11),s.bc("ngModelChange",(function(e){return t.data.email=e})),s.Tb(),s.Ub(14,"mat-hint"),s.Ec(15," E-mail que ser\xe1 utilizado pelo site para envio de formul\xe1rios. N\xe3o pode ser de dom\xednio diferente do site. "),s.Tb(),s.Tb(),s.Ub(16,"mat-form-field",10),s.Ub(17,"input",12),s.bc("ngModelChange",(function(e){return t.data.telefone=e}))("ngModelChange",(function(e){return t.changePhoneMask(e)})),s.Tb(),s.Tb(),s.Pb(18,"hr"),s.Ub(19,"h3",9),s.Ec(20," Endere\xe7o "),s.Tb(),s.Ub(21,"mat-form-field",10),s.Ub(22,"input",13),s.bc("ngModelChange",(function(e){return t.data.cep=e}))("blur",(function(e){return t.onCepBlur(e)})),s.Tb(),s.Tb(),s.Ub(23,"mat-form-field",14),s.Ub(24,"input",15),s.bc("ngModelChange",(function(e){return t.data.uf=e})),s.Tb(),s.Tb(),s.Ub(25,"mat-form-field",16),s.Ub(26,"input",17),s.bc("ngModelChange",(function(e){return t.data.cidade=e})),s.Tb(),s.Tb(),s.Ub(27,"mat-form-field",14),s.Ub(28,"input",18),s.bc("ngModelChange",(function(e){return t.data.bairro=e})),s.Tb(),s.Tb(),s.Ub(29,"mat-form-field",16),s.Ub(30,"input",19),s.bc("ngModelChange",(function(e){return t.data.rua=e})),s.Tb(),s.Tb(),s.Ub(31,"mat-form-field",14),s.Ub(32,"input",20,21),s.bc("ngModelChange",(function(e){return t.data.numeroEndereco=e})),s.Tb(),s.Tb(),s.Ub(34,"mat-form-field",16),s.Ub(35,"input",22),s.bc("ngModelChange",(function(e){return t.data.complemento=e})),s.Tb(),s.Tb(),s.Pb(36,"hr"),s.Ub(37,"h3",9),s.Ec(38," Google maps "),s.Tb(),s.Ub(39,"mat-form-field",23),s.Ub(40,"input",24),s.bc("ngModelChange",(function(e){return t.data.latitude=e})),s.Tb(),s.Tb(),s.Ub(41,"mat-form-field",23),s.Ub(42,"input",25),s.bc("ngModelChange",(function(e){return t.data.longitude=e})),s.Tb(),s.Tb(),s.Pb(43,"hr"),s.Ub(44,"h3",9),s.Ec(45," Redes sociais "),s.Tb(),s.Ub(46,"mat-form-field",10),s.Ub(47,"input",26),s.bc("ngModelChange",(function(e){return t.data.linkInstagram=e})),s.Tb(),s.Tb(),s.Ub(48,"mat-form-field",10),s.Ub(49,"input",27),s.bc("ngModelChange",(function(e){return t.data.linkFacebook=e})),s.Tb(),s.Tb(),s.Ub(50,"mat-form-field",10),s.Ub(51,"input",28),s.bc("ngModelChange",(function(e){return t.data.whatsApp=e})),s.Tb(),s.Tb(),s.Pb(52,"hr"),s.Ub(53,"button",29),s.Ec(54," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(8),s.mc("ngIf",!t.data.id),s.Cb(1),s.mc("ngIf",!t.data.id),s.Cb(4),s.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),s.Cb(4),s.mc("ngModel",t.data.telefone)("mask",t.phoneMask),s.Cb(5),s.mc("ngModel",t.data.cep),s.Cb(2),s.mc("ngModel",t.data.uf),s.Cb(2),s.mc("ngModel",t.data.cidade),s.Cb(2),s.mc("ngModel",t.data.bairro),s.Cb(2),s.mc("ngModel",t.data.rua),s.Cb(2),s.mc("ngModel",t.data.numeroEndereco),s.Cb(3),s.mc("ngModel",t.data.complemento),s.Cb(5),s.mc("ngModel",t.data.latitude),s.Cb(2),s.mc("ngModel",t.data.longitude),s.Cb(5),s.mc("ngModel",t.data.linkInstagram),s.Cb(2),s.mc("ngModel",t.data.linkFacebook),s.Cb(2),s.mc("ngModel",t.data.whatsApp))},directives:[u.p,u.j,u.k,a.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,h.e,Ke.a,m.b,We.a],styles:[""]}),e})();class jt{constructor(){this.id=0,this.imagem="",this.nome="",this.descricao="",this.depoimento="",this.ordem=99,Object.assign(this)}}let Bt=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/depoimento/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/depoimento/buscar?id="+e)}post(e){return this.api.post("/depoimento/inserir",e)}patch(e){return this.api.post("/depoimento/alterar",e)}delete(e){return this.api.post("/depoimento/deletar",e)}deleteSelected(e){return this.api.post("/depoimento/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nt=["fileInput"];function zt(e,t){if(1&e&&s.Pb(0,"img",23),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Ht(e,t){1&e&&s.Pb(0,"img",24)}let Gt=(()=>{class e{constructor(e,t,i,a,n){this.depoimentoService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new jt,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/depoimento/imagem?id="+e),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.depoimentoService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Bt),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-depoimentos-criar"]],viewQuery:function(e,t){var i;1&e&&s.zc(Nt,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar depoimento "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do depoimento "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"textarea",13),s.bc("ngModelChange",(function(e){return t.data.depoimento=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (600x600) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,zt,1,1,"img",15),s.Dc(23,Ht,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Pb(30,"hr"),s.Ub(31,"button",22),s.Ec(32," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(2),s.mc("ngModel",t.data.depoimento),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();const Qt=["fileInput"];function Jt(e,t){if(1&e&&s.Pb(0,"img",23),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Yt(e,t){1&e&&s.Pb(0,"img",24)}let Kt=(()=>{class e{constructor(e,t,i,a,n,o){this.depoimentoService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.route=o,this.data=new jt,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.depoimentoService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/depoimento/imagem?id="+this.data.id),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.depoimentoService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Bt),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a),s.Ob(n.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-depoimentos-editar"]],viewQuery:function(e,t){var i;1&e&&s.zc(Qt,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar depoimento "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do depoimento "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"textarea",13),s.bc("ngModelChange",(function(e){return t.data.depoimento=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (600x600) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,Jt,1,1,"img",15),s.Dc(23,Yt,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Pb(30,"hr"),s.Ub(31,"button",22),s.Ec(32," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(2),s.mc("ngModel",t.data.depoimento),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();function Zt(e,t){1&e&&s.Pb(0,"mat-spinner")}function Wt(e,t){1&e&&(s.Ub(0,"div",29),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function Xt(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,Zt,1,0,"mat-spinner",27),s.Dc(2,Wt,2,0,"div",28),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function ei(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",30),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function ti(e,t){1&e&&s.Pb(0,"mat-spinner")}function ii(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,ti,1,0,"mat-spinner",27),s.Ub(2,"div",29),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function ai(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",31),s.Ub(1,"mat-checkbox",32),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function ni(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"mat-checkbox",34),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function oi(e,t){1&e&&(s.Ub(0,"th",31),s.Ec(1," Imagem "),s.Tb())}function si(e,t){if(1&e&&s.Pb(0,"img",37),2&e){const e=s.fc().$implicit,t=s.fc();s.mc("src",t.global.imageUrl+e.imagem,s.wc)}}function ci(e,t){1&e&&s.Pb(0,"img",38)}function ri(e,t){if(1&e&&(s.Ub(0,"td",33),s.Dc(1,si,1,1,"img",35),s.Dc(2,ci,1,0,"img",36),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.mc("ngIf",e.imagem),s.Cb(1),s.mc("ngIf",!e.imagem)}}function li(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1," Nome "),s.Tb())}function bi(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",e.nome," ",e.sobrenome,"")}}function di(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1,"Descri\xe7\xe3o"),s.Tb())}function mi(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.descricao)}}function ui(e,t){1&e&&s.Pb(0,"th",31)}const hi=function(e){return["/admin/depoimentos/editar",e]};function gi(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"a",40),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",41),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,hi,e.id))}}function pi(e,t){1&e&&s.Pb(0,"tr",42)}function fi(e,t){1&e&&s.Pb(0,"tr",43)}const vi=function(){return[15,25,40,50]};let Ti=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.depoimentoService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.depoimentos)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.depoimentoService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.depoimentoService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.depoimentos:this.data.concat(e.depoimentos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(Bt),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-depoimentos"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/depoimentos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Depoimentos "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,Xt,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,ei,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,ii,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,ai,2,3,"th",16),s.Dc(21,ni,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,oi,2,0,"th",16),s.Dc(24,ri,3,2,"td",17),s.Rb(),s.Sb(25,19),s.Dc(26,li,2,0,"th",20),s.Dc(27,bi,2,2,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,di,2,0,"th",20),s.Dc(30,mi,2,1,"td",17),s.Rb(),s.Sb(31,22),s.Dc(32,ui,1,0,"th",16),s.Dc(33,gi,7,3,"td",17),s.Rb(),s.Dc(34,pi,1,0,"tr",23),s.Dc(35,fi,1,0,"tr",24),s.Tb(),s.Pb(36,"mat-paginator",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(16),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,vi))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})();var Si=i("lGQG"),Ui=i("EnSQ"),Ci=i("rJgo");function Ii(e,t){if(1&e&&(s.Sb(0),s.Ub(1,"a",7),s.Pb(2,"i"),s.Ub(3,"span"),s.Ec(4),s.Tb(),s.Tb(),s.Rb()),2&e){const e=s.fc().$implicit;s.Cb(1),s.mc("routerLink",e.route),s.Cb(1),s.Eb(e.icon),s.Cb(2),s.Fc(e.name)}}function ki(e,t){if(1&e&&(s.Ub(0,"button",11),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.mc("routerLink",e.route),s.Cb(1),s.Gc(" ",e.name," ")}}function Ei(e,t){if(1&e&&(s.Sb(0),s.Ub(1,"a",8),s.Pb(2,"i"),s.Ub(3,"span"),s.Ec(4),s.Tb(),s.Tb(),s.Ub(5,"mat-menu",null,9),s.Dc(7,ki,2,2,"button",10),s.Tb(),s.Rb()),2&e){const e=s.rc(6),t=s.fc().$implicit;s.Cb(1),s.mc("matMenuTriggerFor",e),s.Cb(1),s.Eb(t.icon),s.Cb(2),s.Fc(t.name),s.Cb(3),s.mc("ngForOf",t.group)}}function Di(e,t){if(1&e&&(s.Ub(0,"li",5),s.Dc(1,Ii,5,4,"ng-container",6),s.Dc(2,Ei,8,5,"ng-container",6),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.mc("ngIf",!e.group),s.Cb(1),s.mc("ngIf",e.group)}}let Mi=(()=>{class e{constructor(e,t){this._auth=e,this._data=t,this.pages=[],this.banner=new o.a}ngOnInit(){this.buildPages()}buildPages(){this.pages=[{name:"Home",icon:"fas fa-home",route:"/admin"},{name:"Banner",icon:"fas fa-image",route:"/admin/banner"},{name:"Clientes",icon:"fas fa-user-tie",route:"/admin/clientes"},{name:"Usu\xe1rios",icon:"fas fa-user-shield",route:"/admin/usuarios"},{name:"Depoimentos",icon:"fas fa-comments",route:"/admin/depoimentos"},{name:"Benef\xedcios",icon:"fas fa-plus-square",route:"/admin/beneficios"},{name:"Consultorias",icon:"fas fa-user-tie",route:"/admin/consultorias"},{name:"Perguntas",icon:"fas fa-question",route:"/admin/perguntas"},{name:"M\xf3dulos",icon:"fas fa-monument",route:"/admin/modulos"},{name:"Contato Geral",icon:"fas fa-phone-alt",route:"/admin/contato-geral"},{name:"Configura\xe7\xf5es",icon:"fas fa-cogs",group:[{name:"Geral",icon:"fas fa-cog",route:"/admin/configuracao-geral"},{name:"E-mail",icon:" fas fa-paper-plane",route:"/admin/configuracao-email"}],openGroup:!1}]}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Si.a),s.Ob(Ui.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-home"]],decls:6,vars:3,consts:[[1,"page"],[1,"container"],[1,"home-title"],[1,"pages"],["class","pages-item",4,"ngFor","ngForOf"],[1,"pages-item"],[4,"ngIf"],["mat-button","",3,"routerLink"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"h1",2),s.Ec(3),s.Tb(),s.Ub(4,"ul",3),s.Dc(5,Di,3,2,"li",4),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(3),s.Hc(" Seja bem-vindo, ",t._auth.user.nome," ",t._auth.user.sobrenome,"! "),s.Cb(2),s.mc("ngForOf",t.pages))},directives:[a.j,a.k,m.a,n.h,Ci.c,Ci.d,Ci.a,n.g],styles:[".home-boxes[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.home-boxes[_ngcontent-%COMP%]   .home-box[_ngcontent-%COMP%]{margin-bottom:16px}.pages[_ngcontent-%COMP%]{max-width:30%}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-right:8px;color:#0a437f}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e})();class yi{constructor(){this.id=0,this.nome="",this.descricao="",this.imagem="",this.ordem=99,this.funcionalidades=[],Object.assign(this)}}let Li=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/modulo/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/modulo/buscar?id="+e)}post(e){return this.api.post("/modulo/inserir",e)}patch(e){return this.api.post("/modulo/alterar",e)}delete(e){return this.api.post("/modulo/deletar",e)}deleteSelected(e){return this.api.post("/modulo/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Oi=["fileInput"];function wi(e,t){if(1&e&&s.Pb(0,"img",22),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Ri(e,t){1&e&&s.Pb(0,"img",23)}let xi=(()=>{class e{constructor(e,t,i,a,n){this.moduloService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new yi,this.progress=0}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.moduloService.post(this.data).subscribe(e=>{this.submitImages(this.file,"/modulo/imagem?id="+e),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.moduloService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Li),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-modulos-criar"]],viewQuery:function(e,t){var i;1&e&&s.zc(Oi,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar m\xf3dulo "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do m\xf3dulo "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"h3",9),s.Ec(18," Imagem (256x256) "),s.Tb(),s.Ub(19,"div",13),s.Dc(20,wi,1,1,"img",14),s.Dc(21,Ri,1,0,"img",15),s.Ub(22,"button",16),s.bc("click",(function(){return s.vc(e),s.rc(25).click()})),s.Ec(23,"Escolher arquivo"),s.Tb(),s.Ub(24,"input",17,18),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(26,"button",19),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(27,"i",20),s.Tb(),s.Tb(),s.Pb(28,"hr"),s.Ub(29,"button",21),s.Ec(30," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k],styles:[""]}),e})();class Pi{constructor(){this.id=0,this.idModulo=0,this.descricao="",this.ordem=99,Object.assign(this)}}let Ai=(()=>{class e{constructor(e){this.api=e}get(e,t=""){return this.api.get(`/funcionalidade/buscar?filtro=${t}&idModulo=${e}`)}getById(e){return this.api.get("/funcionalidade/buscar?id="+e)}post(e){return this.api.post("/funcionalidade/inserir",e)}patch(e){return this.api.post("/funcionalidade/alterar",e)}delete(e){return this.api.post("/funcionalidade/deletar",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_i=(()=>{class e{constructor(e,t,i,a,n){this.dialogRef=e,this.funcionalidadeService=t,this.helper=i,this.loadingService=a,this.data=n,this.funcionalidade=new Pi}ngOnInit(){this.data.funcionalidade&&(this.funcionalidade=this.data.funcionalidade)}submit(){if(this.funcionalidade.descricao)if(this.funcionalidade.id)this.loadingService.present("Alterando..."),this.funcionalidadeService.patch(this.funcionalidade).subscribe(e=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss());else{const e=Object.assign(Object.assign({},this.funcionalidade),{idModulo:this.data.idModulo});this.loadingService.present("Adicionando..."),this.funcionalidadeService.post(e).subscribe(e=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss())}else this.helper.openSnackBar("Preencha uma descri\xe7\xe3o para continuar")}dismiss(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(F.f),s.Ob(Ai),s.Ob(l.a),s.Ob(b.a),s.Ob(F.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-funcionalidades-modal"]],decls:11,vars:1,consts:[[3,"ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"page-form-control"],["matInput","","cdkFocusInitial","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit"]],template:function(e,t){1&e&&(s.Ub(0,"form",0),s.bc("ngSubmit",(function(){return t.submit()})),s.Ub(1,"h2",1),s.Ec(2," Editar funcionalidade "),s.Tb(),s.Ub(3,"div",2),s.Ub(4,"mat-form-field",3),s.Ub(5,"input",4),s.bc("ngModelChange",(function(e){return t.funcionalidade.descricao=e})),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.dismiss()})),s.Ec(8,"Fechar"),s.Tb(),s.Ub(9,"button",7),s.Ec(10,"Salvar"),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(5),s.mc("ngModel",t.funcionalidade.descricao))},directives:[u.p,u.j,u.k,F.g,F.d,h.b,g.b,u.c,u.n,u.i,u.l,F.c,m.b],styles:[""]}),e})();function qi(e,t){1&e&&s.Pb(0,"mat-spinner")}function Vi(e,t){1&e&&(s.Ub(0,"div",24),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function Fi(e,t){if(1&e&&(s.Ub(0,"div",21),s.Dc(1,qi,1,0,"mat-spinner",22),s.Dc(2,Vi,2,0,"div",23),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function $i(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",25),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function ji(e,t){1&e&&s.Pb(0,"mat-spinner")}function Bi(e,t){if(1&e&&(s.Ub(0,"div",21),s.Dc(1,ji,1,0,"mat-spinner",22),s.Ub(2,"div",24),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function Ni(e,t){1&e&&(s.Ub(0,"th",26),s.Ec(1," Descri\xe7\xe3o "),s.Tb())}function zi(e,t){if(1&e&&(s.Ub(0,"td",27),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.descricao)}}function Hi(e,t){1&e&&s.Pb(0,"th",28)}function Gi(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",27),s.Ub(1,"a",29),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().openModal(i)})),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",30),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}}function Qi(e,t){1&e&&s.Pb(0,"tr",31)}function Ji(e,t){1&e&&s.Pb(0,"tr",32)}const Yi=function(){return[15,25,40,50]};let Ki=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.funcionalidadeService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["1","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngOnInit(){}ngAfterViewInit(){this.buscar()}buscar(){Object(x.a)(this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.funcionalidadeService.get(this.idModulo,this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.length,e)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.funcionalidadeService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}filter(e){e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.funcionalidadeService.get(this.idModulo,e.toLocaleLowerCase()).subscribe(e=>this.data=e)):this.buscar()}clearFilter(){this.search="",this.buscar()}openModal(e){this.dialog.open(_i,{width:"640px",data:{funcionalidade:e||null,idModulo:this.idModulo}}).afterClosed().subscribe(e=>{e&&this.buscar()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(Ai),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-funcionalidades"]],viewQuery:function(e,t){var i;1&e&&s.Jc(w.a,!0),2&e&&s.qc(i=s.cc())&&(t.paginator=i.first)},inputs:{idModulo:"idModulo"},decls:25,vars:11,consts:[[1,"page"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-raised-button","","color","primary",3,"click"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"click"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"h1",3),s.Ec(4," Funcionalidades "),s.Tb(),s.Ub(5,"div",4),s.Ub(6,"a",5),s.bc("click",(function(){return t.openModal()})),s.Ec(7," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"div",6),s.Dc(9,Fi,3,2,"div",7),s.Ub(10,"mat-form-field",8),s.Ub(11,"input",9),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(12,$i,3,0,"button",10),s.Tb(),s.Ub(13,"div",11),s.Dc(14,Bi,4,1,"div",7),s.Ub(15,"table",12),s.Sb(16,13),s.Dc(17,Ni,2,0,"th",14),s.Dc(18,zi,2,1,"td",15),s.Rb(),s.Sb(19,16),s.Dc(20,Hi,1,0,"th",17),s.Dc(21,Gi,7,0,"td",15),s.Rb(),s.Dc(22,Qi,1,0,"tr",18),s.Dc(23,Ji,1,0,"tr",19),s.Tb(),s.Pb(24,"mat-paginator",20),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(9),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(7),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(10,Yi))("pageSize",15))},directives:[m.a,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,m.b,h.f,N.a,j.d,R.b,j.a,H.a,j.f,j.h],styles:[""]}),e})();const Zi=["fileInput"];function Wi(e,t){if(1&e&&s.Pb(0,"img",24),2&e){const e=s.fc();s.mc("src",e.global.imageUrl+e.data.imagem,s.wc)}}function Xi(e,t){1&e&&s.Pb(0,"img",25)}function ea(e,t){if(1&e&&s.Pb(0,"app-funcionalidades",26),2&e){const e=s.fc();s.mc("idModulo",e.data.id)}}let ta=(()=>{class e{constructor(e,t,i,a,n,o){this.moduloService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new yi,this.progress=0}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.moduloService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.moduloService.patch(this.data).subscribe(e=>{this.submitImages(this.file,"/modulo/imagem?id="+this.data.id),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(e){this.file=e.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(e=>{this.data.imagem=e.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(e,t){if(e)return new Promise((i,a)=>{this.moduloService.postFile(e,t,"image").subscribe(e=>{4===e.type?(this.progress=0,i(e)):(this.progress=Math.round(e.loaded/e.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},e=>a(e))})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Li),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-modulos-editar"]],viewQuery:function(e,t){var i;1&e&&s.zc(Zi,!0),2&e&&s.qc(i=s.cc())&&(t.fileInput=i.first)},decls:34,vars:6,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],[3,"idModulo",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"],[3,"idModulo"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar m\xf3dulo "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do m\xf3dulo "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.descricao=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.ordem=e})),s.Tb(),s.Tb(),s.Ub(19,"h3",9),s.Ec(20," Imagem (256x256) "),s.Tb(),s.Ub(21,"div",14),s.Dc(22,Wi,1,1,"img",15),s.Dc(23,Xi,1,0,"img",16),s.Ub(24,"button",17),s.bc("click",(function(){return s.vc(e),s.rc(27).click()})),s.Ec(25,"Escolher arquivo"),s.Tb(),s.Ub(26,"input",18,19),s.bc("change",(function(e){return t.onFileSelected(e.target.files)})),s.Tb(),s.Ub(28,"button",20),s.bc("click",(function(){return t.data.imagem=""})),s.Pb(29,"i",21),s.Tb(),s.Tb(),s.Dc(30,ea,1,1,"app-funcionalidades",22),s.Pb(31,"hr"),s.Ub(32,"button",23),s.Ec(33," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.descricao),s.Cb(2),s.mc("ngModel",t.data.ordem),s.Cb(4),s.mc("ngIf",t.data.imagem),s.Cb(1),s.mc("ngIf",!t.data.imagem),s.Cb(7),s.mc("ngIf",t.data.id))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l,a.k,Ki],styles:["app-funcionalidades[_ngcontent-%COMP%]{flex:0 0 100%;width:100%}"]}),e})();function ia(e,t){1&e&&s.Pb(0,"mat-spinner")}function aa(e,t){1&e&&(s.Ub(0,"div",29),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function na(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,ia,1,0,"mat-spinner",27),s.Dc(2,aa,2,0,"div",28),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function oa(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",30),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function sa(e,t){1&e&&s.Pb(0,"mat-spinner")}function ca(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,sa,1,0,"mat-spinner",27),s.Ub(2,"div",29),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function ra(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",31),s.Ub(1,"mat-checkbox",32),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function la(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"mat-checkbox",34),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function ba(e,t){1&e&&(s.Ub(0,"th",31),s.Ec(1," Imagem "),s.Tb())}function da(e,t){if(1&e&&s.Pb(0,"img",37),2&e){const e=s.fc().$implicit,t=s.fc();s.mc("src",t.global.imageUrl+e.imagem,s.wc)}}function ma(e,t){1&e&&s.Pb(0,"img",38)}function ua(e,t){if(1&e&&(s.Ub(0,"td",33),s.Dc(1,da,1,1,"img",35),s.Dc(2,ma,1,0,"img",36),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.mc("ngIf",e.imagem),s.Cb(1),s.mc("ngIf",!e.imagem)}}function ha(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1," Nome "),s.Tb())}function ga(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",e.nome," ",e.sobrenome,"")}}function pa(e,t){1&e&&(s.Ub(0,"th",39),s.Ec(1,"Descri\xe7\xe3o"),s.Tb())}function fa(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.descricao)}}function va(e,t){1&e&&s.Pb(0,"th",31)}const Ta=function(e){return["/admin/modulos/editar",e]};function Sa(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"a",40),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",41),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,Ta,e.id))}}function Ua(e,t){1&e&&s.Pb(0,"tr",42)}function Ca(e,t){1&e&&s.Pb(0,"tr",43)}const Ia=function(){return[15,25,40,50]};let ka=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.moduloService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.modulos)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.moduloService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.moduloService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.modulos:this.data.concat(e.modulos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(Li),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-modulos"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/modulos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," M\xf3dulos "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,na,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,oa,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,ca,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,ra,2,3,"th",16),s.Dc(21,la,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,ba,2,0,"th",16),s.Dc(24,ua,3,2,"td",17),s.Rb(),s.Sb(25,19),s.Dc(26,ha,2,0,"th",20),s.Dc(27,ga,2,2,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,pa,2,0,"th",20),s.Dc(30,fa,2,1,"td",17),s.Rb(),s.Sb(31,22),s.Dc(32,va,1,0,"th",16),s.Dc(33,Sa,7,3,"td",17),s.Rb(),s.Dc(34,Ua,1,0,"tr",23),s.Dc(35,Ca,1,0,"tr",24),s.Tb(),s.Pb(36,"mat-paginator",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(16),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,Ia))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})();class Ea{constructor(){this.id=0,this.pergunta="",this.resposta="",this.ordem=99,Object.assign(this)}}let Da=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/pergunta/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/pergunta/buscar?id="+e)}post(e){return this.api.post("/pergunta/inserir",e)}patch(e){return this.api.post("/pergunta/alterar",e)}delete(e){return this.api.post("/pergunta/deletar",e)}deleteSelected(e){return this.api.post("/pergunta/deletarLista",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ma=(()=>{class e{constructor(e,t,i,a,n){this.perguntaService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new Ea}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.perguntaService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Da),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-perguntas-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar pergunta "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados da pergunta "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.pergunta=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.resposta=e})),s.Tb(),s.Tb(),s.Pb(17,"hr"),s.Ub(18,"button",13),s.Ec(19," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.pergunta),s.Cb(2),s.mc("ngModel",t.data.resposta))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})(),ya=(()=>{class e{constructor(e,t,i,a,n,o){this.perguntaService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new Ea}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.perguntaService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.perguntaService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Da),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-perguntas-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar pergunta "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados da pergunta "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.pergunta=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"textarea",12),s.bc("ngModelChange",(function(e){return t.data.resposta=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.ordem=e})),s.Tb(),s.Tb(),s.Pb(19,"hr"),s.Ub(20,"button",14),s.Ec(21," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("ngModel",t.data.pergunta),s.Cb(2),s.mc("ngModel",t.data.resposta),s.Cb(2),s.mc("ngModel",t.data.ordem))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.i,u.l],styles:[""]}),e})();function La(e,t){1&e&&s.Pb(0,"mat-spinner")}function Oa(e,t){1&e&&(s.Ub(0,"div",28),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function wa(e,t){if(1&e&&(s.Ub(0,"div",25),s.Dc(1,La,1,0,"mat-spinner",26),s.Dc(2,Oa,2,0,"div",27),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function Ra(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",29),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function xa(e,t){1&e&&s.Pb(0,"mat-spinner")}function Pa(e,t){if(1&e&&(s.Ub(0,"div",25),s.Dc(1,xa,1,0,"mat-spinner",26),s.Ub(2,"div",28),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function Aa(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",30),s.Ub(1,"mat-checkbox",31),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function _a(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",32),s.Ub(1,"mat-checkbox",33),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function qa(e,t){1&e&&(s.Ub(0,"th",34),s.Ec(1," Pergunta "),s.Tb())}function Va(e,t){if(1&e&&(s.Ub(0,"td",32),s.Ec(1),s.gc(2,"slice"),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",s.jc(2,2,e.pergunta,0,128),"",e.pergunta.length>=128?"...":"","")}}function Fa(e,t){1&e&&(s.Ub(0,"th",34),s.Ec(1," Resposta "),s.Tb())}function $a(e,t){if(1&e&&(s.Ub(0,"td",32),s.Ec(1),s.gc(2,"slice"),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",s.jc(2,2,e.resposta,0,128),"",e.resposta.length>=128?"...":"","")}}function ja(e,t){1&e&&s.Pb(0,"th",30)}const Ba=function(e){return["/admin/perguntas/editar",e]};function Na(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",32),s.Ub(1,"a",35),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",36),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,Ba,e.id))}}function za(e,t){1&e&&s.Pb(0,"tr",37)}function Ha(e,t){1&e&&s.Pb(0,"tr",38)}const Ga=function(){return[15,25,40,50]};let Qa=(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.perguntaService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.perguntas)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.perguntaService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.perguntaService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.perguntas:this.data.concat(e.perguntas)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(Da),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-perguntas"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/perguntas/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Perguntas "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,wa,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,Ra,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,Pa,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,Aa,2,3,"th",16),s.Dc(21,_a,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,qa,2,0,"th",19),s.Dc(24,Va,3,6,"td",17),s.Rb(),s.Sb(25,20),s.Dc(26,Fa,2,0,"th",19),s.Dc(27,$a,3,6,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,ja,1,0,"th",16),s.Dc(30,Na,7,3,"td",17),s.Rb(),s.Dc(31,za,1,0,"tr",22),s.Dc(32,Ha,1,0,"tr",23),s.Tb(),s.Pb(33,"mat-paginator",24),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(13),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,Ga))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],pipes:[a.r],styles:[""]}),e})();var Ja=i("11oC");let Ya=(()=>{class e{constructor(e){this.api=e}get(e,t,i,a,n="%"){return this.api.get(`/usuario/buscar?filtro=${n}&numeroPagina=${e}&registroPorPagina=${t}&ordenacao=${i}&sentidoOrdenacao=${a}`)}getById(e){return this.api.get("/usuario/buscar?id="+e)}getByEmail(e){return this.api.get("/usuario/buscar?email="+e)}post(e){return this.api.post("/usuario/inserir",e)}patch(e){return this.api.post("/usuario/alterar",e)}delete(e){return this.api.post("/usuario/deletar",e)}deleteSelected(e){return this.api.post("/usuario/deletarLista",e)}postFile(e,t,i){return this.api.postFile(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Yb(c.a))},e.\u0275prov=s.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ka=(()=>{class e{constructor(e,t,i,a,n){this.usuarioService=e,this.helper=t,this.loadingService=i,this.router=a,this.global=n,this.data=new Ja.a}ngOnInit(){}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.data.senha===this.data.re_senha?(this.loadingService.present("Inserindo item..."),this.usuarioService.post(this.data).subscribe(e=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})):this.helper.openSnackBar("As senhas precisam ser iguais.")}onSituacaoChange(e){this.data.situacao=e.checked?"A":"I"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Ya),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-usuarios-criar"]],decls:26,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","password","placeholder","Senha","name","senha","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","placeholder","Confirmar senha","name","re_senha","required","",3,"ngModel","ngModelChange"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Adicionar usu\xe1rio "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do usu\xe1rio "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.email=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",13),s.Ub(18,"input",14),s.bc("ngModelChange",(function(e){return t.data.senha=e})),s.Tb(),s.Tb(),s.Ub(19,"mat-form-field",13),s.Ub(20,"input",15),s.bc("ngModelChange",(function(e){return t.data.re_senha=e})),s.Tb(),s.Tb(),s.Ub(21,"mat-slide-toggle",16),s.bc("change",(function(e){return t.onSituacaoChange(e)})),s.Ec(22),s.Tb(),s.Pb(23,"hr"),s.Ub(24,"button",17),s.Ec(25," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),s.Cb(2),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("ngModel",t.data.senha),s.Cb(2),s.mc("ngModel",t.data.re_senha),s.Cb(1),s.mc("checked","A"==t.data.situacao),s.Cb(1),s.Gc(" Situa\xe7\xe3o: ","A"==t.data.situacao?"Ativo":"Inativo",""))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,Ze.a],styles:[""]}),e})(),Za=(()=>{class e{constructor(e,t,i,a,n,o){this.usuarioService=e,this.helper=t,this.loadingService=i,this.router=a,this.route=n,this.global=o,this.data=new Ja.a,this.hide=!1}ngOnInit(){this.route.params.subscribe(e=>this.buscar(e.id))}buscar(e){this.usuarioService.getById(e).subscribe(e=>this.data=e)}submit(e){if(e.invalid)return this.helper.formMarkAllTouched(e),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.usuarioService.patch(this.data).subscribe(e=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onSituacaoChange(e){this.data.situacao=e.checked?"A":"I"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(Ya),s.Ob(l.a),s.Ob(b.a),s.Ob(n.f),s.Ob(n.a),s.Ob(d.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-usuarios-editar"]],decls:27,vars:10,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senha","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){if(1&e){const e=s.Vb();s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Editar usu\xe1rio "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.Ec(8," VOLTAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(9,"form",7,8),s.bc("ngSubmit",(function(){s.vc(e);const i=s.rc(10);return t.submit(i)})),s.Ub(11,"h3",9),s.Ec(12," Dados do usu\xe1rio "),s.Tb(),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.data.email=e})),s.Tb(),s.Tb(),s.Ub(15,"mat-form-field",10),s.Ub(16,"input",12),s.bc("ngModelChange",(function(e){return t.data.nome=e})),s.Tb(),s.Tb(),s.Ub(17,"mat-form-field",10),s.Ub(18,"input",13),s.bc("ngModelChange",(function(e){return t.data.senha=e})),s.Tb(),s.Ub(19,"button",14),s.bc("click",(function(){return t.hide=!t.hide})),s.Ub(20,"mat-icon"),s.Ec(21),s.Tb(),s.Tb(),s.Tb(),s.Ub(22,"mat-slide-toggle",15),s.bc("change",(function(e){return t.onSituacaoChange(e)})),s.Ec(23),s.Tb(),s.Pb(24,"hr"),s.Ub(25,"button",16),s.Ec(26," SALVAR "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}2&e&&(s.Cb(14),s.mc("pattern",t.helper.emailRegex)("ngModel",t.data.email),s.Cb(2),s.mc("ngModel",t.data.nome),s.Cb(2),s.mc("type",t.hide?"password":"text")("ngModel",t.data.senha),s.Cb(1),s.Db("aria-label","Hide password")("aria-pressed",t.hide),s.Cb(2),s.Fc(t.hide?"visibility_off":"visibility"),s.Cb(1),s.mc("checked","A"==t.data.situacao),s.Cb(1),s.Gc(" Situa\xe7\xe3o: ","A"==t.data.situacao?"Ativo":"Inativo",""))},directives:[m.b,n.g,u.p,u.j,u.k,h.b,g.b,u.c,u.n,u.m,u.i,u.l,h.f,N.a,Ze.a],styles:[""]}),e})();function Wa(e,t){1&e&&s.Pb(0,"mat-spinner")}function Xa(e,t){1&e&&(s.Ub(0,"div",29),s.Ec(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),s.Tb())}function en(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,Wa,1,0,"mat-spinner",27),s.Dc(2,Xa,2,0,"div",28),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults),s.Cb(1),s.mc("ngIf",e.isRateLimitReached)}}function tn(e,t){if(1&e){const e=s.Vb();s.Ub(0,"button",30),s.bc("click",(function(){return s.vc(e),s.fc().clearFilter()})),s.Ub(1,"mat-icon"),s.Ec(2,"close"),s.Tb(),s.Tb()}}function an(e,t){1&e&&s.Pb(0,"mat-spinner")}function nn(e,t){if(1&e&&(s.Ub(0,"div",26),s.Dc(1,an,1,0,"mat-spinner",27),s.Ub(2,"div",29),s.Ec(3," Nenhum registro encontrado "),s.Tb(),s.Tb()),2&e){const e=s.fc();s.Cb(1),s.mc("ngIf",e.isLoadingResults)}}function on(e,t){if(1&e){const e=s.Vb();s.Ub(0,"th",31),s.Ub(1,"mat-checkbox",32),s.bc("change",(function(t){s.vc(e);const i=s.fc();return t?i.masterToggle():null})),s.Tb(),s.Tb()}if(2&e){const e=s.fc();s.Cb(1),s.mc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function sn(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"mat-checkbox",34),s.bc("click",(function(t){return s.vc(e),t.stopPropagation()}))("change",(function(i){s.vc(e);const a=t.$implicit,n=s.fc();return i?n.selection.toggle(a):null})),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit,i=s.fc();s.Cb(1),s.mc("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function cn(e,t){1&e&&(s.Ub(0,"th",35),s.Ec(1," Nome "),s.Tb())}function rn(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Hc("",e.nome," ",e.sobrenome,"")}}function ln(e,t){1&e&&(s.Ub(0,"th",35),s.Ec(1,"E-mail"),s.Tb())}function bn(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc(e.email)}}function dn(e,t){1&e&&(s.Ub(0,"th",35),s.Ec(1,"Situa\xe7\xe3o"),s.Tb())}function mn(e,t){if(1&e&&(s.Ub(0,"td",33),s.Ec(1),s.Tb()),2&e){const e=t.$implicit;s.Cb(1),s.Fc("A"==e.situacao?"Ativo":"Inativo")}}function un(e,t){1&e&&s.Pb(0,"th",31)}const hn=function(e){return["/admin/usuarios/editar",e]};function gn(e,t){if(1&e){const e=s.Vb();s.Ub(0,"td",33),s.Ub(1,"a",36),s.Ub(2,"mat-icon"),s.Ec(3,"create"),s.Tb(),s.Tb(),s.Ub(4,"button",37),s.bc("click",(function(){s.vc(e);const i=t.$implicit;return s.fc().deletarData(i)})),s.Ub(5,"mat-icon"),s.Ec(6,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&e){const e=t.$implicit;s.Cb(1),s.mc("routerLink",s.oc(1,hn,e.id))}}function pn(e,t){1&e&&s.Pb(0,"tr",38)}function fn(e,t){1&e&&s.Pb(0,"tr",39)}const vn=function(){return[15,25,40,50]},Tn=[{path:"",component:Mi},{path:"usuarios",component:(()=>{class e{constructor(e,t,i,a,n){this.global=e,this.usuarioService=t,this.dialog=i,this.helper=a,this.loadingService=n,this.displayedColumns=["select","1","2","3","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new O.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(x.a)(this.sort.sortChange,this.paginator.page).pipe(Object(A.a)({}),Object(_.a)(()=>(this.isLoadingResults=!0,this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(q.a)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=e.numeroPaginas*this.paginator.pageSize,e.usuarios)),Object(V.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(P.a)([])))).subscribe(e=>{this.data=e})}deletarData(e){this.dialog.open($,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(t=>{t&&(this.loadingService.present("Excluindo item..."),this.usuarioService.delete(e).subscribe(e=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open($,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(e=>{e&&this.usuarioService.deleteSelected(this.selection.selected).subscribe(e=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(e=>{this.data=0==this.paginator.pageIndex?e.usuarios:this.data.concat(e.usuarios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(s.Ob(d.a),s.Ob(Ya),s.Ob(F.b),s.Ob(l.a),s.Ob(b.a))},e.\u0275cmp=s.Ib({type:e,selectors:[["app-usuarios"]],viewQuery:function(e,t){var i;1&e&&(s.Jc(w.a,!0),s.Jc(R.a,!0)),2&e&&(s.qc(i=s.cc())&&(t.paginator=i.first),s.qc(i=s.cc())&&(t.sort=i.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/usuarios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","3"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(s.Ub(0,"section",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h1",4),s.Ec(5," Usu\xe1rios "),s.Tb(),s.Ub(6,"div",5),s.Ub(7,"button",6),s.bc("click",(function(){return t.deletarDatas()})),s.Ec(8," DELETAR ITENS "),s.Tb(),s.Ub(9,"a",7),s.Ec(10," ADICIONAR "),s.Tb(),s.Tb(),s.Tb(),s.Ub(11,"div",8),s.Dc(12,en,3,2,"div",9),s.Ub(13,"mat-form-field",10),s.Ub(14,"input",11),s.bc("ngModelChange",(function(e){return t.search=e}))("ngModelChange",(function(e){return t.filter(e)})),s.Tb(),s.Dc(15,tn,3,0,"button",12),s.Tb(),s.Ub(16,"div",13),s.Dc(17,nn,4,1,"div",9),s.Ub(18,"table",14),s.Sb(19,15),s.Dc(20,on,2,3,"th",16),s.Dc(21,sn,2,2,"td",17),s.Rb(),s.Sb(22,18),s.Dc(23,cn,2,0,"th",19),s.Dc(24,rn,2,2,"td",17),s.Rb(),s.Sb(25,20),s.Dc(26,ln,2,0,"th",19),s.Dc(27,bn,2,1,"td",17),s.Rb(),s.Sb(28,21),s.Dc(29,dn,2,0,"th",19),s.Dc(30,mn,2,1,"td",17),s.Rb(),s.Sb(31,22),s.Dc(32,un,1,0,"th",16),s.Dc(33,gn,7,3,"td",17),s.Rb(),s.Dc(34,pn,1,0,"tr",23),s.Dc(35,fn,1,0,"tr",24),s.Tb(),s.Pb(36,"mat-paginator",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Cb(7),s.mc("disabled",!t.selection.selected.length),s.Cb(5),s.mc("ngIf",t.isLoadingResults||t.isRateLimitReached),s.Cb(2),s.mc("ngModel",t.search),s.Cb(1),s.mc("ngIf",t.search),s.Cb(2),s.mc("ngIf",!t.isLoadingResults&&!t.data.length),s.Cb(1),s.mc("dataSource",t.data),s.Cb(16),s.mc("matHeaderRowDef",t.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",t.displayedColumns),s.Cb(1),s.mc("length",t.resultsLength)("pageSizeOptions",s.nc(11,vn))("pageSize",15))},directives:[m.b,m.a,n.h,a.k,h.b,g.b,u.c,u.i,u.l,j.j,R.a,j.c,j.e,j.b,j.g,j.i,w.a,B.b,h.f,N.a,j.d,z.a,j.a,R.b,H.a,j.f,j.h],styles:[""]}),e})()},{path:"usuarios/adicionar",component:Ka},{path:"usuarios/editar/:id",component:Za},{path:"clientes",component:Qe},{path:"clientes/adicionar",component:Se},{path:"clientes/editar/:id",component:ke},{path:"depoimentos",component:Ti},{path:"depoimentos/adicionar",component:Gt},{path:"depoimentos/editar/:id",component:Kt},{path:"configuracao-email",component:tt},{path:"configuracao-geral",component:dt},{path:"contato-geral",component:$t},{path:"banner",component:T},{path:"beneficios",component:he},{path:"beneficios/adicionar",component:E},{path:"beneficios/editar/:id",component:L},{path:"perguntas",component:Qa},{path:"perguntas/adicionar",component:Ma},{path:"perguntas/editar/:id",component:ya},{path:"modulos",component:ka},{path:"modulos/adicionar",component:xi},{path:"modulos/editar/:id",component:ta},{path:"consultorias",component:Pt},{path:"consultorias/adicionar",component:ht},{path:"consultorias/editar/:id",component:gt}];let Sn=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(Tn)],n.i]}),e})();var Un=i("hctd"),Cn=i("iTUp");let In=(()=>{class e{}return e.\u0275mod=s.Mb({type:e}),e.\u0275inj=s.Lb({factory:function(t){return new(t||e)},imports:[[a.c,Sn,u.e,Un.a,Ke.c.forChild(),Cn.a]]}),e})()}}]);