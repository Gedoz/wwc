exports.ids=[1],exports.modules={"11oC":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Usuario}));class Usuario{constructor(){this.id=0,this.email="",this.senha="",this.nome="",this.solicitaAlteracao="",this.codigoRecuperacao="",this.situacao="A",Object.assign(this)}}},"7ch9":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LoadingService}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8Y7J");class LoadingService{constructor(){this.active=!1}present(title){this.title=title,this.active=!0}dismiss(){this.active=!1}}LoadingService.\u0275fac=function LoadingService_Factory(t){return new(t||LoadingService)},LoadingService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Kc({token:LoadingService,factory:LoadingService.\u0275fac,providedIn:"root"})},"92Lm":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HelperService}));var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("wd/R"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("8Y7J"),_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("zHaW"),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IheW"),_api_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("H+bZ");class HelperService{constructor(_snackBar,http,api){this._snackBar=_snackBar,this.http=http,this.api=api,this.config={placeholder:"",tabsize:2,height:"340px",uploadImagePath:"/api/upload",tooltip:!1,toolbar:[["misc",["codeview"]],["style",["bold","italic","underline"]],["para",["style","ul","paragraph"]],["insert",["link","picture","video"]]]},moment__WEBPACK_IMPORTED_MODULE_0__.locale("pt-BR"),this.moment=moment__WEBPACK_IMPORTED_MODULE_0__,this.emailRegex=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),this.urlRegex=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i")}openSnackBar(message){this._snackBar.open(message,"OK",{duration:3200,horizontalPosition:"end",verticalPosition:"top",panelClass:["white-snackbar"]})}formMarkAllTouched(form){Object.values(form.controls).forEach(control=>{control.markAsTouched(),control.controls&&Object.values(control.controls).forEach(c=>this.formMarkAllTouched(c))})}convertToSlug(str){str=(str=str.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var from="\xe0\xe1\xe4\xe2\xe3\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",i=0,l=from.length;i<l;i++)str=str.replace(new RegExp(from.charAt(i),"g"),"aaaaaeeeeiiiioooouuuunc------".charAt(i));return str=str.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}viaCep(cep){return this.http.get(`http://viacep.com.br/ws/${cep}/json/`)}buscarEstados(){return this.api.get("/site/uf/buscar")}buscarCidades(siglaUf,filtro="%"){return this.api.get(`/site/Cidade/Buscar?siglaUf=${siglaUf}&filtro=${filtro}`)}}HelperService.\u0275fac=function HelperService_Factory(t){return new(t||HelperService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yc(_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_2__.a),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yc(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.b),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Yc(_api_service__WEBPACK_IMPORTED_MODULE_4__.a))},HelperService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Kc({token:HelperService,factory:HelperService.\u0275fac,providedIn:"root"})},RnhZ:function(module,exports,__webpack_require__){var map={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="RnhZ"},bsM5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Banner}));class Banner{constructor(){this.id=0,this.titulo="",this.descricao="",this.link="",this.imagem="",Object.assign(this)}}},jkDv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AdminModule",(function(){return AdminModule}));var common=__webpack_require__("SVse"),fesm2015_router=__webpack_require__("iInd"),banner_model=__webpack_require__("bsM5"),core=__webpack_require__("8Y7J"),api_service=__webpack_require__("H+bZ");class BannerService{constructor(api){this.api=api}get(){return this.api.get("/banner/buscar")}patch(banner){return this.api.post("/banner/alterar",banner)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}BannerService.\u0275fac=function BannerService_Factory(t){return new(t||BannerService)(core.Yc(api_service.a))},BannerService.\u0275prov=core.Kc({token:BannerService,factory:BannerService.\u0275fac,providedIn:"root"});var helper_service=__webpack_require__("92Lm"),loading_service=__webpack_require__("7ch9"),global_service=__webpack_require__("4WDQ"),fesm2015_button=__webpack_require__("Dxy4"),fesm2015_forms=__webpack_require__("s7LF"),form_field=__webpack_require__("Q2Ze"),input=__webpack_require__("e6WT");const _c0=["fileInput"];function BannerComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",23),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function BannerComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",24)}class banner_component_BannerComponent{constructor(bannerService,helper,loadingService,router,global,route){this.bannerService=bannerService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.route=route,this.data=new banner_model.a,this.progress=0}ngOnInit(){this.bannerService.get().subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.bannerService.patch(this.data).subscribe(res=>{this.submitImages(this.file,"/banner/imagem?id="+this.data.id),this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/banner/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.bannerService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}banner_component_BannerComponent.\u0275fac=function BannerComponent_Factory(t){return new(t||banner_component_BannerComponent)(core.Oc(BannerService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a),core.Oc(fesm2015_router.a))},banner_component_BannerComponent.\u0275cmp=core.Ic({type:banner_component_BannerComponent,selectors:[["app-banner"]],viewQuery:function BannerComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function BannerComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Banner "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function BannerComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do depoimento "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function BannerComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.titulo=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function BannerComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.link=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"textarea",13),core.bd("ngModelChange",(function BannerComponent_Template_textarea_ngModelChange_18_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (1920x800) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,BannerComponent_img_22_Template,1,1,"img",15),core.Dd(23,BannerComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function BannerComponent_Template_button_click_24_listener(){core.vd(_r4);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function BannerComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function BannerComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Pc(30,"hr"),core.Uc(31,"button",22),core.Ed(32," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.titulo),core.Cc(2),core.md("ngModel",ctx.data.link),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});class Beneficio{constructor(){this.nome="",this.descricao="",this.imagem="",this.ordem=99,Object.assign(this)}}class BeneficioService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/beneficio/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/beneficio/buscar?id="+id)}post(beneficio){return this.api.post("/beneficio/inserir",beneficio)}patch(beneficio){return this.api.post("/beneficio/alterar",beneficio)}delete(beneficio){return this.api.post("/beneficio/deletar",beneficio)}deleteSelected(beneficios){return this.api.post("/beneficio/deletarLista",beneficios)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}BeneficioService.\u0275fac=function BeneficioService_Factory(t){return new(t||BeneficioService)(core.Yc(api_service.a))},BeneficioService.\u0275prov=core.Kc({token:BeneficioService,factory:BeneficioService.\u0275fac,providedIn:"root"});const beneficios_criar_component_c0=["fileInput"];function BeneficiosCriarComponent_img_20_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",22),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function BeneficiosCriarComponent_img_21_Template(rf,ctx){1&rf&&core.Pc(0,"img",23)}class beneficios_criar_component_BeneficiosCriarComponent{constructor(beneficioService,helper,loadingService,router,global){this.beneficioService=beneficioService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Beneficio,this.progress=0}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.beneficioService.post(this.data).subscribe(res=>{this.submitImages(this.file,"/beneficio/imagem?id="+res),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.beneficioService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}beneficios_criar_component_BeneficiosCriarComponent.\u0275fac=function BeneficiosCriarComponent_Factory(t){return new(t||beneficios_criar_component_BeneficiosCriarComponent)(core.Oc(BeneficioService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},beneficios_criar_component_BeneficiosCriarComponent.\u0275cmp=core.Ic({type:beneficios_criar_component_BeneficiosCriarComponent,selectors:[["app-beneficios-criar"]],viewQuery:function BeneficiosCriarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(beneficios_criar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function BeneficiosCriarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar benef\xedcio "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function BeneficiosCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do benef\xedcio "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function BeneficiosCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function BeneficiosCriarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"h3",9),core.Ed(18," Imagem (256x256) "),core.Tc(),core.Uc(19,"div",13),core.Dd(20,BeneficiosCriarComponent_img_20_Template,1,1,"img",14),core.Dd(21,BeneficiosCriarComponent_img_21_Template,1,0,"img",15),core.Uc(22,"button",16),core.bd("click",(function BeneficiosCriarComponent_Template_button_click_22_listener(){core.vd(_r4);return core.rd(25).click()})),core.Ed(23,"Escolher arquivo"),core.Tc(),core.Uc(24,"input",17,18),core.bd("change",(function BeneficiosCriarComponent_Template_input_change_24_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(26,"button",19),core.bd("click",(function BeneficiosCriarComponent_Template_button_click_26_listener(){return ctx.data.imagem=""})),core.Pc(27,"i",20),core.Tc(),core.Tc(),core.Pc(28,"hr"),core.Uc(29,"button",21),core.Ed(30," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});const beneficios_editar_component_c0=["fileInput"];function BeneficiosEditarComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",23),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function BeneficiosEditarComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",24)}class beneficios_editar_component_BeneficiosEditarComponent{constructor(beneficioService,helper,loadingService,router,route,global){this.beneficioService=beneficioService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new Beneficio,this.progress=0}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.beneficioService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.beneficioService.patch(this.data).subscribe(res=>{this.submitImages(this.file,"/beneficio/imagem?id="+this.data.id),this.router.navigate(["/admin/beneficios"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/beneficio/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.beneficioService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}beneficios_editar_component_BeneficiosEditarComponent.\u0275fac=function BeneficiosEditarComponent_Factory(t){return new(t||beneficios_editar_component_BeneficiosEditarComponent)(core.Oc(BeneficioService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},beneficios_editar_component_BeneficiosEditarComponent.\u0275cmp=core.Ic({type:beneficios_editar_component_BeneficiosEditarComponent,selectors:[["app-beneficios-editar"]],viewQuery:function BeneficiosEditarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(beneficios_editar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/beneficios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function BeneficiosEditarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar benef\xedcio "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function BeneficiosEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do benef\xedcio "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function BeneficiosEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function BeneficiosEditarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function BeneficiosEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.ordem=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (256x256) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,BeneficiosEditarComponent_img_22_Template,1,1,"img",15),core.Dd(23,BeneficiosEditarComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function BeneficiosEditarComponent_Template_button_click_24_listener(){core.vd(_r4);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function BeneficiosEditarComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function BeneficiosEditarComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Pc(30,"hr"),core.Uc(31,"button",22),core.Ed(32," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(2),core.md("ngModel",ctx.data.ordem),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});var collections=__webpack_require__("CtHx"),paginator=__webpack_require__("5QHs"),sort=__webpack_require__("LUZP"),merge=__webpack_require__("VRyK"),of=__webpack_require__("LRne"),startWith=__webpack_require__("JX91"),switchMap=__webpack_require__("eIep"),map=__webpack_require__("lJxs"),catchError=__webpack_require__("JIr8"),fesm2015_dialog=__webpack_require__("iELJ");class DialogComponent{constructor(dialogRef,data){this.dialogRef=dialogRef,this.data=data}ngOnInit(){}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0)}}DialogComponent.\u0275fac=function DialogComponent_Factory(t){return new(t||DialogComponent)(core.Oc(fesm2015_dialog.f),core.Oc(fesm2015_dialog.a))},DialogComponent.\u0275cmp=core.Ic({type:DialogComponent,selectors:[["app-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"click"]],template:function DialogComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"h2",0),core.Ed(1),core.Tc(),core.Uc(2,"div",1),core.Uc(3,"p"),core.Ed(4),core.Tc(),core.Tc(),core.Uc(5,"div",2),core.Uc(6,"button",3),core.bd("click",(function DialogComponent_Template_button_click_6_listener(){return ctx.onNoClick()})),core.Ed(7,"Fechar"),core.Tc(),core.Uc(8,"button",4),core.bd("click",(function DialogComponent_Template_button_click_8_listener(){return ctx.onYesClick()})),core.Ed(9,"Sim"),core.Tc(),core.Tc()),2&rf&&(core.Cc(1),core.Fd(ctx.data.title),core.Cc(3),core.Fd(ctx.data.description))},directives:[fesm2015_dialog.g,fesm2015_dialog.d,fesm2015_dialog.c,fesm2015_button.b],styles:[""]});var table=__webpack_require__("OaSA"),progress_spinner=__webpack_require__("pu8Q"),icon=__webpack_require__("Tj54"),fesm2015_checkbox=__webpack_require__("pMoy"),tooltip=__webpack_require__("ZFy/");function BeneficiosComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function BeneficiosComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",29),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function BeneficiosComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,BeneficiosComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Dd(2,BeneficiosComponent_div_12_div_2_Template,2,0,"div",28),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function BeneficiosComponent_button_15_Template(rf,ctx){if(1&rf){const _r18=core.Vc();core.Uc(0,"button",30),core.bd("click",(function BeneficiosComponent_button_15_Template_button_click_0_listener(){core.vd(_r18);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function BeneficiosComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function BeneficiosComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,BeneficiosComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Uc(2,"div",29),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function BeneficiosComponent_th_20_Template(rf,ctx){if(1&rf){const _r21=core.Vc();core.Uc(0,"th",31),core.Uc(1,"mat-checkbox",32),core.bd("change",(function BeneficiosComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r21);const ctx_r20=core.fd();return $event?ctx_r20.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function BeneficiosComponent_td_21_Template(rf,ctx){if(1&rf){const _r24=core.Vc();core.Uc(0,"td",33),core.Uc(1,"mat-checkbox",34),core.bd("click",(function BeneficiosComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r24),$event.stopPropagation()}))("change",(function BeneficiosComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r24);const row_r22=ctx.$implicit,ctx_r25=core.fd();return $event?ctx_r25.selection.toggle(row_r22):null})),core.Tc(),core.Tc()}if(2&rf){const row_r22=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r22))("aria-label",ctx_r4.checkboxLabel(row_r22))}}function BeneficiosComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",31),core.Ed(1," Imagem "),core.Tc())}function BeneficiosComponent_td_24_img_1_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",37),2&rf){const row_r26=core.fd().$implicit,ctx_r27=core.fd();core.md("src",ctx_r27.global.imageUrl+row_r26.imagem,core.wd)}}function BeneficiosComponent_td_24_img_2_Template(rf,ctx){1&rf&&core.Pc(0,"img",38)}function BeneficiosComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Dd(1,BeneficiosComponent_td_24_img_1_Template,1,1,"img",35),core.Dd(2,BeneficiosComponent_td_24_img_2_Template,1,0,"img",36),core.Tc()),2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("ngIf",row_r26.imagem),core.Cc(1),core.md("ngIf",!row_r26.imagem)}}function BeneficiosComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1," Nome "),core.Tc())}function BeneficiosComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r30=ctx.$implicit;core.Cc(1),core.Fd(row_r30.nome)}}function BeneficiosComponent_th_29_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1,"Descri\xe7\xe3o"),core.Tc())}function BeneficiosComponent_td_30_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r31=ctx.$implicit;core.Cc(1),core.Fd(row_r31.descricao)}}function BeneficiosComponent_th_32_Template(rf,ctx){1&rf&&core.Pc(0,"th",31)}const beneficios_component_c0=function(a1){return["/admin/beneficios/editar",a1]};function BeneficiosComponent_td_33_Template(rf,ctx){if(1&rf){const _r34=core.Vc();core.Uc(0,"td",33),core.Uc(1,"a",40),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",41),core.bd("click",(function BeneficiosComponent_td_33_Template_button_click_4_listener(){core.vd(_r34);const row_r32=ctx.$implicit;return core.fd().deletarData(row_r32)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r32=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,beneficios_component_c0,row_r32.id))}}function BeneficiosComponent_tr_34_Template(rf,ctx){1&rf&&core.Pc(0,"tr",42)}function BeneficiosComponent_tr_35_Template(rf,ctx){1&rf&&core.Pc(0,"tr",43)}const _c1=function(){return[15,25,40,50]};class beneficios_component_BeneficiosComponent{constructor(global,beneficioService,dialog,helper,loadingService){this.global=global,this.beneficioService=beneficioService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.beneficios)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.beneficioService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.beneficioService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.beneficioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.beneficios:this.data.concat(res.beneficios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}beneficios_component_BeneficiosComponent.\u0275fac=function BeneficiosComponent_Factory(t){return new(t||beneficios_component_BeneficiosComponent)(core.Oc(global_service.a),core.Oc(BeneficioService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},beneficios_component_BeneficiosComponent.\u0275cmp=core.Ic({type:beneficios_component_BeneficiosComponent,selectors:[["app-beneficios"]],viewQuery:function BeneficiosComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/beneficios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function BeneficiosComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Benef\xedcios "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function BeneficiosComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,BeneficiosComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function BeneficiosComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function BeneficiosComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,BeneficiosComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,BeneficiosComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,BeneficiosComponent_th_20_Template,2,3,"th",16),core.Dd(21,BeneficiosComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,BeneficiosComponent_th_23_Template,2,0,"th",16),core.Dd(24,BeneficiosComponent_td_24_Template,3,2,"td",17),core.Rc(),core.Sc(25,19),core.Dd(26,BeneficiosComponent_th_26_Template,2,0,"th",20),core.Dd(27,BeneficiosComponent_td_27_Template,2,1,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,BeneficiosComponent_th_29_Template,2,0,"th",20),core.Dd(30,BeneficiosComponent_td_30_Template,2,1,"td",17),core.Rc(),core.Sc(31,22),core.Dd(32,BeneficiosComponent_th_32_Template,1,0,"th",16),core.Dd(33,BeneficiosComponent_td_33_Template,7,3,"td",17),core.Rc(),core.Dd(34,BeneficiosComponent_tr_34_Template,1,0,"tr",23),core.Dd(35,BeneficiosComponent_tr_35_Template,1,0,"tr",24),core.Tc(),core.Pc(36,"mat-paginator",25),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(16),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});class Cliente{constructor(){this.id=0,this.nome="",this.link="",this.imagem="",this.ordem=99,Object.assign(this)}}class ClienteService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/cliente/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/cliente/buscar?id="+id)}post(cliente){return this.api.post("/cliente/inserir",cliente)}patch(cliente){return this.api.post("/cliente/alterar",cliente)}delete(cliente){return this.api.post("/cliente/deletar",cliente)}deleteSelected(clientes){return this.api.post("/cliente/deletarLista",clientes)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}ClienteService.\u0275fac=function ClienteService_Factory(t){return new(t||ClienteService)(core.Yc(api_service.a))},ClienteService.\u0275prov=core.Kc({token:ClienteService,factory:ClienteService.\u0275fac,providedIn:"root"});const clientes_criar_component_c0=["fileInput"];function ClientesCriarComponent_img_20_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",22),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function ClientesCriarComponent_img_21_Template(rf,ctx){1&rf&&core.Pc(0,"img",23)}class clientes_criar_component_ClientesCriarComponent{constructor(clienteService,helper,loadingService,router,global){this.clienteService=clienteService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Cliente,this.progress=0}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.clienteService.post(this.data).subscribe(res=>{this.submitImages(this.file,"/cliente/imagem?id="+res),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.clienteService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}clientes_criar_component_ClientesCriarComponent.\u0275fac=function ClientesCriarComponent_Factory(t){return new(t||clientes_criar_component_ClientesCriarComponent)(core.Oc(ClienteService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},clientes_criar_component_ClientesCriarComponent.\u0275cmp=core.Ic({type:clientes_criar_component_ClientesCriarComponent,selectors:[["app-clientes-criar"]],viewQuery:function ClientesCriarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(clientes_criar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function ClientesCriarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar cliente "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ClientesCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do cliente "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ClientesCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function ClientesCriarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.link=$event})),core.Tc(),core.Tc(),core.Uc(17,"h3",9),core.Ed(18," Imagem (600x600) "),core.Tc(),core.Uc(19,"div",13),core.Dd(20,ClientesCriarComponent_img_20_Template,1,1,"img",14),core.Dd(21,ClientesCriarComponent_img_21_Template,1,0,"img",15),core.Uc(22,"button",16),core.bd("click",(function ClientesCriarComponent_Template_button_click_22_listener(){core.vd(_r4);return core.rd(25).click()})),core.Ed(23,"Escolher arquivo"),core.Tc(),core.Uc(24,"input",17,18),core.bd("change",(function ClientesCriarComponent_Template_input_change_24_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(26,"button",19),core.bd("click",(function ClientesCriarComponent_Template_button_click_26_listener(){return ctx.data.imagem=""})),core.Pc(27,"i",20),core.Tc(),core.Tc(),core.Pc(28,"hr"),core.Uc(29,"button",21),core.Ed(30," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.link),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});const clientes_editar_component_c0=["fileInput"];function ClientesEditarComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",23),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function ClientesEditarComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",24)}class clientes_editar_component_ClientesEditarComponent{constructor(clienteService,helper,loadingService,router,route,global){this.clienteService=clienteService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new Cliente,this.progress=0}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.clienteService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.clienteService.patch(this.data).subscribe(res=>{this.submitImages(this.file,"/cliente/imagem?id="+this.data.id),this.router.navigate(["/admin/clientes"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/cliente/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.clienteService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}function ClientesComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ClientesComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",29),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function ClientesComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,ClientesComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Dd(2,ClientesComponent_div_12_div_2_Template,2,0,"div",28),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function ClientesComponent_button_15_Template(rf,ctx){if(1&rf){const _r18=core.Vc();core.Uc(0,"button",30),core.bd("click",(function ClientesComponent_button_15_Template_button_click_0_listener(){core.vd(_r18);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function ClientesComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ClientesComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,ClientesComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Uc(2,"div",29),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function ClientesComponent_th_20_Template(rf,ctx){if(1&rf){const _r21=core.Vc();core.Uc(0,"th",31),core.Uc(1,"mat-checkbox",32),core.bd("change",(function ClientesComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r21);const ctx_r20=core.fd();return $event?ctx_r20.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function ClientesComponent_td_21_Template(rf,ctx){if(1&rf){const _r24=core.Vc();core.Uc(0,"td",33),core.Uc(1,"mat-checkbox",34),core.bd("click",(function ClientesComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r24),$event.stopPropagation()}))("change",(function ClientesComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r24);const row_r22=ctx.$implicit,ctx_r25=core.fd();return $event?ctx_r25.selection.toggle(row_r22):null})),core.Tc(),core.Tc()}if(2&rf){const row_r22=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r22))("aria-label",ctx_r4.checkboxLabel(row_r22))}}function ClientesComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",31),core.Ed(1," Imagem "),core.Tc())}function ClientesComponent_td_24_img_1_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",37),2&rf){const row_r26=core.fd().$implicit,ctx_r27=core.fd();core.md("src",ctx_r27.global.imageUrl+row_r26.imagem,core.wd)}}function ClientesComponent_td_24_img_2_Template(rf,ctx){1&rf&&core.Pc(0,"img",38)}function ClientesComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Dd(1,ClientesComponent_td_24_img_1_Template,1,1,"img",35),core.Dd(2,ClientesComponent_td_24_img_2_Template,1,0,"img",36),core.Tc()),2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("ngIf",row_r26.imagem),core.Cc(1),core.md("ngIf",!row_r26.imagem)}}function ClientesComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1," Nome "),core.Tc())}function ClientesComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r30=ctx.$implicit;core.Cc(1),core.Hd("",row_r30.nome," ",row_r30.sobrenome,"")}}function ClientesComponent_th_29_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1,"Link"),core.Tc())}function ClientesComponent_td_30_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r31=ctx.$implicit;core.Cc(1),core.Fd(row_r31.link)}}function ClientesComponent_th_32_Template(rf,ctx){1&rf&&core.Pc(0,"th",31)}clientes_editar_component_ClientesEditarComponent.\u0275fac=function ClientesEditarComponent_Factory(t){return new(t||clientes_editar_component_ClientesEditarComponent)(core.Oc(ClienteService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},clientes_editar_component_ClientesEditarComponent.\u0275cmp=core.Ic({type:clientes_editar_component_ClientesEditarComponent,selectors:[["app-clientes-editar"]],viewQuery:function ClientesEditarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(clientes_editar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/clientes"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Link","name","link",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function ClientesEditarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar cliente "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ClientesEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do cliente "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ClientesEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function ClientesEditarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.link=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function ClientesEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.ordem=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (600x600) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,ClientesEditarComponent_img_22_Template,1,1,"img",15),core.Dd(23,ClientesEditarComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function ClientesEditarComponent_Template_button_click_24_listener(){core.vd(_r4);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function ClientesEditarComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function ClientesEditarComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Pc(30,"hr"),core.Uc(31,"button",22),core.Ed(32," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.link),core.Cc(2),core.md("ngModel",ctx.data.ordem),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});const clientes_component_c0=function(a1){return["/admin/clientes/editar",a1]};function ClientesComponent_td_33_Template(rf,ctx){if(1&rf){const _r34=core.Vc();core.Uc(0,"td",33),core.Uc(1,"a",40),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",41),core.bd("click",(function ClientesComponent_td_33_Template_button_click_4_listener(){core.vd(_r34);const row_r32=ctx.$implicit;return core.fd().deletarData(row_r32)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r32=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,clientes_component_c0,row_r32.id))}}function ClientesComponent_tr_34_Template(rf,ctx){1&rf&&core.Pc(0,"tr",42)}function ClientesComponent_tr_35_Template(rf,ctx){1&rf&&core.Pc(0,"tr",43)}const clientes_component_c1=function(){return[15,25,40,50]};class clientes_component_ClientesComponent{constructor(global,clienteService,dialog,helper,loadingService){this.global=global,this.clienteService=clienteService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.clientes)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.clienteService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.clienteService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.clienteService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.clientes:this.data.concat(res.clientes)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}clientes_component_ClientesComponent.\u0275fac=function ClientesComponent_Factory(t){return new(t||clientes_component_ClientesComponent)(core.Oc(global_service.a),core.Oc(ClienteService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},clientes_component_ClientesComponent.\u0275cmp=core.Ic({type:clientes_component_ClientesComponent,selectors:[["app-clientes"]],viewQuery:function ClientesComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/clientes/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function ClientesComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Clientes "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function ClientesComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,ClientesComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ClientesComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function ClientesComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,ClientesComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,ClientesComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,ClientesComponent_th_20_Template,2,3,"th",16),core.Dd(21,ClientesComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,ClientesComponent_th_23_Template,2,0,"th",16),core.Dd(24,ClientesComponent_td_24_Template,3,2,"td",17),core.Rc(),core.Sc(25,19),core.Dd(26,ClientesComponent_th_26_Template,2,0,"th",20),core.Dd(27,ClientesComponent_td_27_Template,2,2,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,ClientesComponent_th_29_Template,2,0,"th",20),core.Dd(30,ClientesComponent_td_30_Template,2,1,"td",17),core.Rc(),core.Sc(31,22),core.Dd(32,ClientesComponent_th_32_Template,1,0,"th",16),core.Dd(33,ClientesComponent_td_33_Template,7,3,"td",17),core.Rc(),core.Dd(34,ClientesComponent_tr_34_Template,1,0,"tr",23),core.Dd(35,ClientesComponent_tr_35_Template,1,0,"tr",24),core.Tc(),core.Pc(36,"mat-paginator",25),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(16),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,clientes_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});class ConfiguracaoEmail{constructor(){this.id=0,this.smtp="",this.ssl="",this.emailAutenticar="",this.senhaAutenticar="",Object.assign(this)}}class ConfiguracaoEmailService{constructor(api){this.api=api}get(){return this.api.get("/configuracaoEmail/buscar")}patch(configuracao){return this.api.post("/configuracaoEmail/alterar",configuracao)}}ConfiguracaoEmailService.\u0275fac=function ConfiguracaoEmailService_Factory(t){return new(t||ConfiguracaoEmailService)(core.Yc(api_service.a))},ConfiguracaoEmailService.\u0275prov=core.Kc({token:ConfiguracaoEmailService,factory:ConfiguracaoEmailService.\u0275fac,providedIn:"root"});var ngx_mask=__webpack_require__("bOtU"),slide_toggle=__webpack_require__("jMqV"),progress_bar=__webpack_require__("BTe0");function ConfiguracaoEmailComponent_mat_progress_bar_11_Template(rf,ctx){1&rf&&core.Pc(0,"mat-progress-bar",22)}function ConfiguracaoEmailComponent_div_12_Template(rf,ctx){1&rf&&core.Pc(0,"div",23)}class configuracao_email_component_ConfiguracaoEmailComponent{constructor(configuracaoEmailService,helper,loadingService,router){this.configuracaoEmailService=configuracaoEmailService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.data=new ConfiguracaoEmail,this.hide=!0}ngOnInit(){this.buscar()}buscar(){this.configuracaoEmailService.get().subscribe(res=>this.data=res)}onSslChange(event){event.checked?this.data.ssl="S":this.data.ssl="N"}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoEmailService.patch(this.data).subscribe(res=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}}configuracao_email_component_ConfiguracaoEmailComponent.\u0275fac=function ConfiguracaoEmailComponent_Factory(t){return new(t||configuracao_email_component_ConfiguracaoEmailComponent)(core.Oc(ConfiguracaoEmailService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f))},configuracao_email_component_ConfiguracaoEmailComponent.\u0275cmp=core.Ic({type:configuracao_email_component_ConfiguracaoEmailComponent,selectors:[["app-configuracao-email"]],decls:31,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","SMTP","name","smtp","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","third"],["matInput","","type","tel","placeholder","Porta SMTP","name","portaSmtp","required","","mask","0*",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","email","placeholder","E-mail","name","emailAutenticar","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senhaAutenticar","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function ConfiguracaoEmailComponent_Template(rf,ctx){if(1&rf){const _r3=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Configurar e-mail "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ConfiguracaoEmailComponent_Template_form_ngSubmit_9_listener(){core.vd(_r3);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Dd(11,ConfiguracaoEmailComponent_mat_progress_bar_11_Template,1,0,"mat-progress-bar",9),core.Dd(12,ConfiguracaoEmailComponent_div_12_Template,1,0,"div",10),core.Uc(13,"h3",11),core.Ed(14," Dados do e-mail "),core.Tc(),core.Uc(15,"mat-form-field",12),core.Uc(16,"input",13),core.bd("ngModelChange",(function ConfiguracaoEmailComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.smtp=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",14),core.Uc(18,"input",15),core.bd("ngModelChange",(function ConfiguracaoEmailComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.portaSmtp=$event})),core.Tc(),core.Tc(),core.Uc(19,"mat-form-field",16),core.Uc(20,"input",17),core.bd("ngModelChange",(function ConfiguracaoEmailComponent_Template_input_ngModelChange_20_listener($event){return ctx.data.emailAutenticar=$event})),core.Tc(),core.Tc(),core.Uc(21,"mat-form-field",16),core.Uc(22,"input",18),core.bd("ngModelChange",(function ConfiguracaoEmailComponent_Template_input_ngModelChange_22_listener($event){return ctx.data.senhaAutenticar=$event})),core.Tc(),core.Uc(23,"button",19),core.bd("click",(function ConfiguracaoEmailComponent_Template_button_click_23_listener(){return ctx.hide=!ctx.hide})),core.Uc(24,"mat-icon"),core.Ed(25),core.Tc(),core.Tc(),core.Tc(),core.Uc(26,"mat-slide-toggle",20),core.bd("change",(function ConfiguracaoEmailComponent_Template_mat_slide_toggle_change_26_listener($event){return ctx.onSslChange($event)})),core.Ed(27),core.Tc(),core.Pc(28,"hr"),core.Uc(29,"button",21),core.Ed(30," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(11),core.md("ngIf",!ctx.data.id),core.Cc(1),core.md("ngIf",!ctx.data.id),core.Cc(4),core.md("ngModel",ctx.data.smtp),core.Cc(2),core.md("ngModel",ctx.data.portaSmtp),core.Cc(2),core.md("ngModel",ctx.data.emailAutenticar),core.Cc(2),core.md("type",ctx.hide?"password":"text")("ngModel",ctx.data.senhaAutenticar),core.Cc(1),core.Dc("aria-label","Hide password")("aria-pressed",ctx.hide),core.Cc(2),core.Fd(ctx.hide?"visibility_off":"visibility"),core.Cc(1),core.md("checked","S"===ctx.data.ssl),core.Cc(1),core.Gd(" SSL: ","S"===ctx.data.ssl?"Sim":"N\xe3o",""))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,ngx_mask.a,form_field.f,icon.a,slide_toggle.a,progress_bar.a],styles:[""]});class ConfiguracaoGeral{constructor(){this.id=0,this.ambiente="",this.imagemLogo="",this.linkApi="",this.caminhoFisico="",Object.assign(this)}}class ConfiguracaoGeralService{constructor(api){this.api=api}get(){return this.api.get("/configuracaoGeral/buscar")}patch(configuracao){return this.api.post("/configuracaoGeral/alterar",configuracao)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}ConfiguracaoGeralService.\u0275fac=function ConfiguracaoGeralService_Factory(t){return new(t||ConfiguracaoGeralService)(core.Yc(api_service.a))},ConfiguracaoGeralService.\u0275prov=core.Kc({token:ConfiguracaoGeralService,factory:ConfiguracaoGeralService.\u0275fac,providedIn:"root"});var fesm2015_select=__webpack_require__("ZTz/"),fesm2015_core=__webpack_require__("UhP/");const configuracao_geral_component_c0=["fileInput"];function ConfiguracaoGeralComponent_mat_progress_bar_11_Template(rf,ctx){1&rf&&core.Pc(0,"mat-progress-bar",27)}function ConfiguracaoGeralComponent_div_12_Template(rf,ctx){1&rf&&core.Pc(0,"div",28)}function ConfiguracaoGeralComponent_img_28_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",29),2&rf){const ctx_r3=core.fd();core.md("src",ctx_r3.global.imageUrl+ctx_r3.data.imagemLogo,core.wd)}}function ConfiguracaoGeralComponent_img_29_Template(rf,ctx){1&rf&&core.Pc(0,"img",30)}class configuracao_geral_component_ConfiguracaoGeralComponent{constructor(configuracaoGeralService,helper,loadingService,router,global){this.configuracaoGeralService=configuracaoGeralService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new ConfiguracaoGeral}ngOnInit(){this.buscar()}buscar(){this.configuracaoGeralService.get().subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando..."),this.configuracaoGeralService.patch(this.data).subscribe(res=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}onFileSelected(files){this.file=files.item(0),this.loadingService.present("Alterando imagem..."),this.submitImages(this.file,"/configuracaoGeral/imagem").then(res=>{this.data.imagemLogo=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.configuracaoGeralService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}configuracao_geral_component_ConfiguracaoGeralComponent.\u0275fac=function ConfiguracaoGeralComponent_Factory(t){return new(t||configuracao_geral_component_ConfiguracaoGeralComponent)(core.Oc(ConfiguracaoGeralService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},configuracao_geral_component_ConfiguracaoGeralComponent.\u0275cmp=core.Ic({type:configuracao_geral_component_ConfiguracaoGeralComponent,selectors:[["app-configuracao-geral"]],viewQuery:function ConfiguracaoGeralComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(configuracao_geral_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:39,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control","half"],["name","ambiente",3,"ngModel","ngModelChange"],["value","T"],["value","P"],["matInput","","type","text","placeholder","Link da API","name","linkApi",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Caminha F\xedsico (teste)","name","caminhoFisico",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagemLogo","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"],[3,"src"],["src","assets/image-placeholder.png"]],template:function ConfiguracaoGeralComponent_Template(rf,ctx){if(1&rf){const _r6=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Configurar geral "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ConfiguracaoGeralComponent_Template_form_ngSubmit_9_listener(){core.vd(_r6);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Dd(11,ConfiguracaoGeralComponent_mat_progress_bar_11_Template,1,0,"mat-progress-bar",9),core.Dd(12,ConfiguracaoGeralComponent_div_12_Template,1,0,"div",10),core.Uc(13,"h3",11),core.Ed(14," Dados gerais "),core.Tc(),core.Uc(15,"mat-form-field",12),core.Uc(16,"mat-select",13),core.bd("ngModelChange",(function ConfiguracaoGeralComponent_Template_mat_select_ngModelChange_16_listener($event){return ctx.data.ambiente=$event})),core.Uc(17,"mat-option",14),core.Ed(18,"Teste"),core.Tc(),core.Uc(19,"mat-option",15),core.Ed(20,"Produ\xe7\xe3o"),core.Tc(),core.Tc(),core.Tc(),core.Uc(21,"mat-form-field",12),core.Uc(22,"input",16),core.bd("ngModelChange",(function ConfiguracaoGeralComponent_Template_input_ngModelChange_22_listener($event){return ctx.data.linkApi=$event})),core.Tc(),core.Tc(),core.Uc(23,"mat-form-field",12),core.Uc(24,"input",17),core.bd("ngModelChange",(function ConfiguracaoGeralComponent_Template_input_ngModelChange_24_listener($event){return ctx.data.caminhoFisico=$event})),core.Tc(),core.Tc(),core.Uc(25,"h3",11),core.Ed(26," Imagem "),core.Tc(),core.Uc(27,"div",18),core.Dd(28,ConfiguracaoGeralComponent_img_28_Template,1,1,"img",19),core.Dd(29,ConfiguracaoGeralComponent_img_29_Template,1,0,"img",20),core.Uc(30,"button",21),core.bd("click",(function ConfiguracaoGeralComponent_Template_button_click_30_listener(){core.vd(_r6);return core.rd(33).click()})),core.Ed(31,"Escolher arquivo"),core.Tc(),core.Uc(32,"input",22,23),core.bd("change",(function ConfiguracaoGeralComponent_Template_input_change_32_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(34,"button",24),core.bd("click",(function ConfiguracaoGeralComponent_Template_button_click_34_listener(){return ctx.data.imagemLogo=""})),core.Pc(35,"i",25),core.Tc(),core.Tc(),core.Pc(36,"hr"),core.Uc(37,"button",26),core.Ed(38," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(11),core.md("ngIf",!ctx.data.id),core.Cc(1),core.md("ngIf",!ctx.data.id),core.Cc(4),core.md("ngModel",ctx.data.ambiente),core.Cc(6),core.md("ngModel",ctx.data.linkApi),core.Cc(2),core.md("ngModel",ctx.data.caminhoFisico),core.Cc(4),core.md("ngIf",ctx.data.imagemLogo),core.Cc(1),core.md("ngIf",!ctx.data.imagemLogo))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,common.k,form_field.b,fesm2015_select.a,fesm2015_forms.i,fesm2015_forms.l,fesm2015_core.l,input.b,fesm2015_forms.c,progress_bar.a],styles:[""]});class Consultoria{constructor(){this.id=0,this.titulo="",this.descricao="",this.ordem=99,Object.assign(this)}}class ConsultoriaService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/consultoria/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/consultoria/buscar?id="+id)}post(consultoria){return this.api.post("/consultoria/inserir",consultoria)}patch(consultoria){return this.api.post("/consultoria/alterar",consultoria)}delete(consultoria){return this.api.post("/consultoria/deletar",consultoria)}deleteSelected(consultorias){return this.api.post("/consultoria/deletarLista",consultorias)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}ConsultoriaService.\u0275fac=function ConsultoriaService_Factory(t){return new(t||ConsultoriaService)(core.Yc(api_service.a))},ConsultoriaService.\u0275prov=core.Kc({token:ConsultoriaService,factory:ConsultoriaService.\u0275fac,providedIn:"root"});class consultorias_criar_component_ConsultoriasCriarComponent{constructor(consultoriaService,helper,loadingService,router,global){this.consultoriaService=consultoriaService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Consultoria}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.consultoriaService.post(this.data).subscribe(res=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}consultorias_criar_component_ConsultoriasCriarComponent.\u0275fac=function ConsultoriasCriarComponent_Factory(t){return new(t||consultorias_criar_component_ConsultoriasCriarComponent)(core.Oc(ConsultoriaService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},consultorias_criar_component_ConsultoriasCriarComponent.\u0275cmp=core.Ic({type:consultorias_criar_component_ConsultoriasCriarComponent,selectors:[["app-consultorias-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function ConsultoriasCriarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar consultoria "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ConsultoriasCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados da consultoria "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ConsultoriasCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.titulo=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function ConsultoriasCriarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Pc(17,"hr"),core.Uc(18,"button",13),core.Ed(19," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.titulo),core.Cc(2),core.md("ngModel",ctx.data.descricao))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l],styles:[""]});class consultorias_editar_component_ConsultoriasEditarComponent{constructor(consultoriaService,helper,loadingService,router,route,global){this.consultoriaService=consultoriaService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new Consultoria}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.consultoriaService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.consultoriaService.patch(this.data).subscribe(res=>{this.router.navigate(["/admin/consultorias"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}function ConsultoriasComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ConsultoriasComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",28),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function ConsultoriasComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",25),core.Dd(1,ConsultoriasComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",26),core.Dd(2,ConsultoriasComponent_div_12_div_2_Template,2,0,"div",27),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function ConsultoriasComponent_button_15_Template(rf,ctx){if(1&rf){const _r16=core.Vc();core.Uc(0,"button",29),core.bd("click",(function ConsultoriasComponent_button_15_Template_button_click_0_listener(){core.vd(_r16);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function ConsultoriasComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ConsultoriasComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",25),core.Dd(1,ConsultoriasComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",26),core.Uc(2,"div",28),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function ConsultoriasComponent_th_20_Template(rf,ctx){if(1&rf){const _r19=core.Vc();core.Uc(0,"th",30),core.Uc(1,"mat-checkbox",31),core.bd("change",(function ConsultoriasComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r19);const ctx_r18=core.fd();return $event?ctx_r18.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function ConsultoriasComponent_td_21_Template(rf,ctx){if(1&rf){const _r22=core.Vc();core.Uc(0,"td",32),core.Uc(1,"mat-checkbox",33),core.bd("click",(function ConsultoriasComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r22),$event.stopPropagation()}))("change",(function ConsultoriasComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r22);const row_r20=ctx.$implicit,ctx_r23=core.fd();return $event?ctx_r23.selection.toggle(row_r20):null})),core.Tc(),core.Tc()}if(2&rf){const row_r20=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r20))("aria-label",ctx_r4.checkboxLabel(row_r20))}}function ConsultoriasComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",34),core.Ed(1," T\xedtulo "),core.Tc())}function ConsultoriasComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",32),core.Ed(1),core.Tc()),2&rf){const row_r24=ctx.$implicit;core.Cc(1),core.Fd(row_r24.titulo)}}function ConsultoriasComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",34),core.Ed(1,"Descri\xe7\xe3o"),core.Tc())}function ConsultoriasComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",32),core.Ed(1),core.Tc()),2&rf){const row_r25=ctx.$implicit;core.Cc(1),core.Fd(row_r25.descricao)}}function ConsultoriasComponent_th_29_Template(rf,ctx){1&rf&&core.Pc(0,"th",30)}consultorias_editar_component_ConsultoriasEditarComponent.\u0275fac=function ConsultoriasEditarComponent_Factory(t){return new(t||consultorias_editar_component_ConsultoriasEditarComponent)(core.Oc(ConsultoriaService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},consultorias_editar_component_ConsultoriasEditarComponent.\u0275cmp=core.Ic({type:consultorias_editar_component_ConsultoriasEditarComponent,selectors:[["app-consultorias-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/consultorias"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","T\xedtulo","name","titulo","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function ConsultoriasEditarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar consultoria "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ConsultoriasEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados da consultoria "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ConsultoriasEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.titulo=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function ConsultoriasEditarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function ConsultoriasEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.ordem=$event})),core.Tc(),core.Tc(),core.Pc(19,"hr"),core.Uc(20,"button",14),core.Ed(21," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.titulo),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(2),core.md("ngModel",ctx.data.ordem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l],styles:[""]});const consultorias_component_c0=function(a1){return["/admin/consultorias/editar",a1]};function ConsultoriasComponent_td_30_Template(rf,ctx){if(1&rf){const _r28=core.Vc();core.Uc(0,"td",32),core.Uc(1,"a",35),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",36),core.bd("click",(function ConsultoriasComponent_td_30_Template_button_click_4_listener(){core.vd(_r28);const row_r26=ctx.$implicit;return core.fd().deletarData(row_r26)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,consultorias_component_c0,row_r26.id))}}function ConsultoriasComponent_tr_31_Template(rf,ctx){1&rf&&core.Pc(0,"tr",37)}function ConsultoriasComponent_tr_32_Template(rf,ctx){1&rf&&core.Pc(0,"tr",38)}const consultorias_component_c1=function(){return[15,25,40,50]};class consultorias_component_ConsultoriasComponent{constructor(global,consultoriaService,dialog,helper,loadingService){this.global=global,this.consultoriaService=consultoriaService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.consultorias)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.consultoriaService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.consultoriaService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.consultoriaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.consultorias:this.data.concat(res.consultorias)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}consultorias_component_ConsultoriasComponent.\u0275fac=function ConsultoriasComponent_Factory(t){return new(t||consultorias_component_ConsultoriasComponent)(core.Oc(global_service.a),core.Oc(ConsultoriaService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},consultorias_component_ConsultoriasComponent.\u0275cmp=core.Ic({type:consultorias_component_ConsultoriasComponent,selectors:[["app-consultorias"]],viewQuery:function ConsultoriasComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/consultorias/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function ConsultoriasComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Consultorias "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function ConsultoriasComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,ConsultoriasComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ConsultoriasComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function ConsultoriasComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,ConsultoriasComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,ConsultoriasComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,ConsultoriasComponent_th_20_Template,2,3,"th",16),core.Dd(21,ConsultoriasComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,ConsultoriasComponent_th_23_Template,2,0,"th",19),core.Dd(24,ConsultoriasComponent_td_24_Template,2,1,"td",17),core.Rc(),core.Sc(25,20),core.Dd(26,ConsultoriasComponent_th_26_Template,2,0,"th",19),core.Dd(27,ConsultoriasComponent_td_27_Template,2,1,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,ConsultoriasComponent_th_29_Template,1,0,"th",16),core.Dd(30,ConsultoriasComponent_td_30_Template,7,3,"td",17),core.Rc(),core.Dd(31,ConsultoriasComponent_tr_31_Template,1,0,"tr",22),core.Dd(32,ConsultoriasComponent_tr_32_Template,1,0,"tr",23),core.Tc(),core.Pc(33,"mat-paginator",24),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(13),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,consultorias_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});var contato_geral_model=__webpack_require__("MQJ/");class ContatoGeralService{constructor(api){this.api=api}buscarGeral(){return this.api.get("/contatoGeral/buscar")}alterarGeral(contatoGeral){return this.api.post("/contatoGeral/alterar",contatoGeral)}}ContatoGeralService.\u0275fac=function ContatoGeralService_Factory(t){return new(t||ContatoGeralService)(core.Yc(api_service.a))},ContatoGeralService.\u0275prov=core.Kc({token:ContatoGeralService,factory:ContatoGeralService.\u0275fac,providedIn:"root"});const contato_geral_component_c0=["numeroEnderecoInput"];function ContatoGeralComponent_mat_progress_bar_8_Template(rf,ctx){1&rf&&core.Pc(0,"mat-progress-bar",30)}function ContatoGeralComponent_div_9_Template(rf,ctx){1&rf&&core.Pc(0,"div",31)}class contato_geral_component_ContatoGeralComponent{constructor(contatoGeralService,helper,loadingService,dialog,router){this.contatoGeralService=contatoGeralService,this.helper=helper,this.loadingService=loadingService,this.dialog=dialog,this.router=router,this.data=new contato_geral_model.a,this.loading=!1,this.phoneMask="(00) 0000-00009"}ngOnInit(){this.buscar()}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando cadastro geral..."),this.contatoGeralService.alterarGeral(this.data).subscribe(res=>{this.router.navigate(["/admin"]).then(()=>{this.helper.openSnackBar("Contato geral alterado com sucesso."),this.loadingService.dismiss()})},e=>this.loadingService.dismiss())}buscar(){this.contatoGeralService.buscarGeral().subscribe(res=>this.data=res)}changePhoneMask(event){let val=event;val&&("0800"==val.replace(/\D/g,"").substring(0,4)?this.phoneMask="0000 000 0000":11===val.replace(/\D/g,"").length?this.phoneMask="(00) 0 0000-0000":this.phoneMask="(00) 0000-00009")}onCepBlur(e){8==this.data.cep.length&&this.helper.viaCep(this.data.cep).subscribe(res=>{this.data.bairro=res.bairro,this.data.uf=res.uf,this.data.cidade=res.localidade,this.data.rua=res.logradouro,this.numeroEnderecoInput.nativeElement.focus()})}}contato_geral_component_ContatoGeralComponent.\u0275fac=function ContatoGeralComponent_Factory(t){return new(t||contato_geral_component_ContatoGeralComponent)(core.Oc(ContatoGeralService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_dialog.b),core.Oc(fesm2015_router.f))},contato_geral_component_ContatoGeralComponent.\u0275cmp=core.Ic({type:contato_geral_component_ContatoGeralComponent,selectors:[["app-contato-geral"]],viewQuery:function ContatoGeralComponent_Query(rf,ctx){var _t;(1&rf&&core.Jd(contato_geral_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.numeroEnderecoInput=_t.first))},decls:55,vars:18,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],["mode","indeterminate","class","page-form-loading",4,"ngIf"],["class","page-form-loading-shade",4,"ngIf"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Telefone","name","telefone","required","",3,"ngModel","mask","ngModelChange"],["matInput","","type","tel","placeholder","CEP","mask","00000-000","name","cep","required","",3,"ngModel","ngModelChange","blur"],[1,"page-form-control","third"],["matInput","","type","text","placeholder","Estado (UF)","name","uf","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","two-third"],["matInput","","type","text","placeholder","Cidade","name","cidade","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Bairro","name","bairro","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Rua","name","rua","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","N\xfamero","mask","0*","name","numeroEndereco","required","",3,"ngModel","ngModelChange"],["numeroEnderecoInput",""],["matInput","","type","text","placeholder","Complemento","name","complemento",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","tel","placeholder","Latitude","name","latitude",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Longitude","name","longitude",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Instagram (opcional)","name","linkInstagram",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Facebook (opcional)","name","linkFacebook",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Whatsapp","name","whatsApp","mask","(00) 0 0000-0000","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],["mode","indeterminate",1,"page-form-loading"],[1,"page-form-loading-shade"]],template:function ContatoGeralComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Contato "),core.Tc(),core.Tc(),core.Uc(6,"form",5,6),core.bd("ngSubmit",(function ContatoGeralComponent_Template_form_ngSubmit_6_listener(){core.vd(_r4);const _r0=core.rd(7);return ctx.submit(_r0)})),core.Dd(8,ContatoGeralComponent_mat_progress_bar_8_Template,1,0,"mat-progress-bar",7),core.Dd(9,ContatoGeralComponent_div_9_Template,1,0,"div",8),core.Uc(10,"h3",9),core.Ed(11," Contato "),core.Tc(),core.Uc(12,"mat-form-field",10),core.Uc(13,"input",11),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_13_listener($event){return ctx.data.email=$event})),core.Tc(),core.Uc(14,"mat-hint"),core.Ed(15," E-mail que ser\xe1 utilizado pelo site para envio de formul\xe1rios. N\xe3o pode ser de dom\xednio diferente do site. "),core.Tc(),core.Tc(),core.Uc(16,"mat-form-field",10),core.Uc(17,"input",12),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_17_listener($event){return ctx.data.telefone=$event}))("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_17_listener($event){return ctx.changePhoneMask($event)})),core.Tc(),core.Tc(),core.Pc(18,"hr"),core.Uc(19,"h3",9),core.Ed(20," Endere\xe7o "),core.Tc(),core.Uc(21,"mat-form-field",10),core.Uc(22,"input",13),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_22_listener($event){return ctx.data.cep=$event}))("blur",(function ContatoGeralComponent_Template_input_blur_22_listener($event){return ctx.onCepBlur($event)})),core.Tc(),core.Tc(),core.Uc(23,"mat-form-field",14),core.Uc(24,"input",15),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_24_listener($event){return ctx.data.uf=$event})),core.Tc(),core.Tc(),core.Uc(25,"mat-form-field",16),core.Uc(26,"input",17),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_26_listener($event){return ctx.data.cidade=$event})),core.Tc(),core.Tc(),core.Uc(27,"mat-form-field",14),core.Uc(28,"input",18),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_28_listener($event){return ctx.data.bairro=$event})),core.Tc(),core.Tc(),core.Uc(29,"mat-form-field",16),core.Uc(30,"input",19),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_30_listener($event){return ctx.data.rua=$event})),core.Tc(),core.Tc(),core.Uc(31,"mat-form-field",14),core.Uc(32,"input",20,21),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_32_listener($event){return ctx.data.numeroEndereco=$event})),core.Tc(),core.Tc(),core.Uc(34,"mat-form-field",16),core.Uc(35,"input",22),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_35_listener($event){return ctx.data.complemento=$event})),core.Tc(),core.Tc(),core.Pc(36,"hr"),core.Uc(37,"h3",9),core.Ed(38," Google maps "),core.Tc(),core.Uc(39,"mat-form-field",23),core.Uc(40,"input",24),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_40_listener($event){return ctx.data.latitude=$event})),core.Tc(),core.Tc(),core.Uc(41,"mat-form-field",23),core.Uc(42,"input",25),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_42_listener($event){return ctx.data.longitude=$event})),core.Tc(),core.Tc(),core.Pc(43,"hr"),core.Uc(44,"h3",9),core.Ed(45," Redes sociais "),core.Tc(),core.Uc(46,"mat-form-field",10),core.Uc(47,"input",26),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_47_listener($event){return ctx.data.linkInstagram=$event})),core.Tc(),core.Tc(),core.Uc(48,"mat-form-field",10),core.Uc(49,"input",27),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_49_listener($event){return ctx.data.linkFacebook=$event})),core.Tc(),core.Tc(),core.Uc(50,"mat-form-field",10),core.Uc(51,"input",28),core.bd("ngModelChange",(function ContatoGeralComponent_Template_input_ngModelChange_51_listener($event){return ctx.data.whatsApp=$event})),core.Tc(),core.Tc(),core.Pc(52,"hr"),core.Uc(53,"button",29),core.Ed(54," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(8),core.md("ngIf",!ctx.data.id),core.Cc(1),core.md("ngIf",!ctx.data.id),core.Cc(4),core.md("pattern",ctx.helper.emailRegex)("ngModel",ctx.data.email),core.Cc(4),core.md("ngModel",ctx.data.telefone)("mask",ctx.phoneMask),core.Cc(5),core.md("ngModel",ctx.data.cep),core.Cc(2),core.md("ngModel",ctx.data.uf),core.Cc(2),core.md("ngModel",ctx.data.cidade),core.Cc(2),core.md("ngModel",ctx.data.bairro),core.Cc(2),core.md("ngModel",ctx.data.rua),core.Cc(2),core.md("ngModel",ctx.data.numeroEndereco),core.Cc(3),core.md("ngModel",ctx.data.complemento),core.Cc(5),core.md("ngModel",ctx.data.latitude),core.Cc(2),core.md("ngModel",ctx.data.longitude),core.Cc(5),core.md("ngModel",ctx.data.linkInstagram),core.Cc(2),core.md("ngModel",ctx.data.linkFacebook),core.Cc(2),core.md("ngModel",ctx.data.whatsApp))},directives:[fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.m,fesm2015_forms.i,fesm2015_forms.l,form_field.e,ngx_mask.a,fesm2015_button.b,progress_bar.a],styles:[""]});class Depoimento{constructor(){this.id=0,this.imagem="",this.nome="",this.descricao="",this.depoimento="",this.ordem=99,Object.assign(this)}}class DepoimentoService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/depoimento/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/depoimento/buscar?id="+id)}post(depoimento){return this.api.post("/depoimento/inserir",depoimento)}patch(depoimento){return this.api.post("/depoimento/alterar",depoimento)}delete(depoimento){return this.api.post("/depoimento/deletar",depoimento)}deleteSelected(depoimentos){return this.api.post("/depoimento/deletarLista",depoimentos)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}DepoimentoService.\u0275fac=function DepoimentoService_Factory(t){return new(t||DepoimentoService)(core.Yc(api_service.a))},DepoimentoService.\u0275prov=core.Kc({token:DepoimentoService,factory:DepoimentoService.\u0275fac,providedIn:"root"});const depoimentos_criar_component_c0=["fileInput"];function DepoimentosCriarComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",23),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function DepoimentosCriarComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",24)}class depoimentos_criar_component_DepoimentosCriarComponent{constructor(depoimentoService,helper,loadingService,router,global){this.depoimentoService=depoimentoService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Depoimento,this.progress=0}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.post(this.data).subscribe(res=>{this.submitImages(this.file,"/depoimento/imagem?id="+res),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.depoimentoService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}depoimentos_criar_component_DepoimentosCriarComponent.\u0275fac=function DepoimentosCriarComponent_Factory(t){return new(t||depoimentos_criar_component_DepoimentosCriarComponent)(core.Oc(DepoimentoService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},depoimentos_criar_component_DepoimentosCriarComponent.\u0275cmp=core.Ic({type:depoimentos_criar_component_DepoimentosCriarComponent,selectors:[["app-depoimentos-criar"]],viewQuery:function DepoimentosCriarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(depoimentos_criar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function DepoimentosCriarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar depoimento "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function DepoimentosCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do depoimento "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function DepoimentosCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function DepoimentosCriarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"textarea",13),core.bd("ngModelChange",(function DepoimentosCriarComponent_Template_textarea_ngModelChange_18_listener($event){return ctx.data.depoimento=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (600x600) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,DepoimentosCriarComponent_img_22_Template,1,1,"img",15),core.Dd(23,DepoimentosCriarComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function DepoimentosCriarComponent_Template_button_click_24_listener(){core.vd(_r4);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function DepoimentosCriarComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function DepoimentosCriarComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Pc(30,"hr"),core.Uc(31,"button",22),core.Ed(32," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(2),core.md("ngModel",ctx.data.depoimento),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});const depoimentos_editar_component_c0=["fileInput"];function DepoimentosEditarComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",23),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function DepoimentosEditarComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",24)}class depoimentos_editar_component_DepoimentosEditarComponent{constructor(depoimentoService,helper,loadingService,router,global,route){this.depoimentoService=depoimentoService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.route=route,this.data=new Depoimento,this.progress=0}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.depoimentoService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.depoimentoService.patch(this.data).subscribe(res=>{this.submitImages(this.file,"/depoimento/imagem?id="+this.data.id),this.router.navigate(["/admin/depoimentos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/depoimento/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.depoimentoService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}function DepoimentosComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function DepoimentosComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",29),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function DepoimentosComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,DepoimentosComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Dd(2,DepoimentosComponent_div_12_div_2_Template,2,0,"div",28),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function DepoimentosComponent_button_15_Template(rf,ctx){if(1&rf){const _r18=core.Vc();core.Uc(0,"button",30),core.bd("click",(function DepoimentosComponent_button_15_Template_button_click_0_listener(){core.vd(_r18);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function DepoimentosComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function DepoimentosComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,DepoimentosComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Uc(2,"div",29),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function DepoimentosComponent_th_20_Template(rf,ctx){if(1&rf){const _r21=core.Vc();core.Uc(0,"th",31),core.Uc(1,"mat-checkbox",32),core.bd("change",(function DepoimentosComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r21);const ctx_r20=core.fd();return $event?ctx_r20.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function DepoimentosComponent_td_21_Template(rf,ctx){if(1&rf){const _r24=core.Vc();core.Uc(0,"td",33),core.Uc(1,"mat-checkbox",34),core.bd("click",(function DepoimentosComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r24),$event.stopPropagation()}))("change",(function DepoimentosComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r24);const row_r22=ctx.$implicit,ctx_r25=core.fd();return $event?ctx_r25.selection.toggle(row_r22):null})),core.Tc(),core.Tc()}if(2&rf){const row_r22=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r22))("aria-label",ctx_r4.checkboxLabel(row_r22))}}function DepoimentosComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",31),core.Ed(1," Imagem "),core.Tc())}function DepoimentosComponent_td_24_img_1_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",37),2&rf){const row_r26=core.fd().$implicit,ctx_r27=core.fd();core.md("src",ctx_r27.global.imageUrl+row_r26.imagem,core.wd)}}function DepoimentosComponent_td_24_img_2_Template(rf,ctx){1&rf&&core.Pc(0,"img",38)}function DepoimentosComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Dd(1,DepoimentosComponent_td_24_img_1_Template,1,1,"img",35),core.Dd(2,DepoimentosComponent_td_24_img_2_Template,1,0,"img",36),core.Tc()),2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("ngIf",row_r26.imagem),core.Cc(1),core.md("ngIf",!row_r26.imagem)}}function DepoimentosComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1," Nome "),core.Tc())}function DepoimentosComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r30=ctx.$implicit;core.Cc(1),core.Hd("",row_r30.nome," ",row_r30.sobrenome,"")}}function DepoimentosComponent_th_29_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1,"Descri\xe7\xe3o"),core.Tc())}function DepoimentosComponent_td_30_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r31=ctx.$implicit;core.Cc(1),core.Fd(row_r31.descricao)}}function DepoimentosComponent_th_32_Template(rf,ctx){1&rf&&core.Pc(0,"th",31)}depoimentos_editar_component_DepoimentosEditarComponent.\u0275fac=function DepoimentosEditarComponent_Factory(t){return new(t||depoimentos_editar_component_DepoimentosEditarComponent)(core.Oc(DepoimentoService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a),core.Oc(fesm2015_router.a))},depoimentos_editar_component_DepoimentosEditarComponent.\u0275cmp=core.Ic({type:depoimentos_editar_component_DepoimentosEditarComponent,selectors:[["app-depoimentos-editar"]],viewQuery:function DepoimentosEditarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(depoimentos_editar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:33,vars:5,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/depoimentos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Depoimento","name","depoimento","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function DepoimentosEditarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar depoimento "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function DepoimentosEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do depoimento "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function DepoimentosEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function DepoimentosEditarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"textarea",13),core.bd("ngModelChange",(function DepoimentosEditarComponent_Template_textarea_ngModelChange_18_listener($event){return ctx.data.depoimento=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (600x600) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,DepoimentosEditarComponent_img_22_Template,1,1,"img",15),core.Dd(23,DepoimentosEditarComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function DepoimentosEditarComponent_Template_button_click_24_listener(){core.vd(_r4);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function DepoimentosEditarComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function DepoimentosEditarComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Pc(30,"hr"),core.Uc(31,"button",22),core.Ed(32," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(2),core.md("ngModel",ctx.data.depoimento),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});const depoimentos_component_c0=function(a1){return["/admin/depoimentos/editar",a1]};function DepoimentosComponent_td_33_Template(rf,ctx){if(1&rf){const _r34=core.Vc();core.Uc(0,"td",33),core.Uc(1,"a",40),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",41),core.bd("click",(function DepoimentosComponent_td_33_Template_button_click_4_listener(){core.vd(_r34);const row_r32=ctx.$implicit;return core.fd().deletarData(row_r32)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r32=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,depoimentos_component_c0,row_r32.id))}}function DepoimentosComponent_tr_34_Template(rf,ctx){1&rf&&core.Pc(0,"tr",42)}function DepoimentosComponent_tr_35_Template(rf,ctx){1&rf&&core.Pc(0,"tr",43)}const depoimentos_component_c1=function(){return[15,25,40,50]};class depoimentos_component_DepoimentosComponent{constructor(global,depoimentoService,dialog,helper,loadingService){this.global=global,this.depoimentoService=depoimentoService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.depoimentos)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.depoimentoService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.depoimentoService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.depoimentoService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.depoimentos:this.data.concat(res.depoimentos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}depoimentos_component_DepoimentosComponent.\u0275fac=function DepoimentosComponent_Factory(t){return new(t||depoimentos_component_DepoimentosComponent)(core.Oc(global_service.a),core.Oc(DepoimentoService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},depoimentos_component_DepoimentosComponent.\u0275cmp=core.Ic({type:depoimentos_component_DepoimentosComponent,selectors:[["app-depoimentos"]],viewQuery:function DepoimentosComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/depoimentos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function DepoimentosComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Depoimentos "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function DepoimentosComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,DepoimentosComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function DepoimentosComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function DepoimentosComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,DepoimentosComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,DepoimentosComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,DepoimentosComponent_th_20_Template,2,3,"th",16),core.Dd(21,DepoimentosComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,DepoimentosComponent_th_23_Template,2,0,"th",16),core.Dd(24,DepoimentosComponent_td_24_Template,3,2,"td",17),core.Rc(),core.Sc(25,19),core.Dd(26,DepoimentosComponent_th_26_Template,2,0,"th",20),core.Dd(27,DepoimentosComponent_td_27_Template,2,2,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,DepoimentosComponent_th_29_Template,2,0,"th",20),core.Dd(30,DepoimentosComponent_td_30_Template,2,1,"td",17),core.Rc(),core.Sc(31,22),core.Dd(32,DepoimentosComponent_th_32_Template,1,0,"th",16),core.Dd(33,DepoimentosComponent_td_33_Template,7,3,"td",17),core.Rc(),core.Dd(34,DepoimentosComponent_tr_34_Template,1,0,"tr",23),core.Dd(35,DepoimentosComponent_tr_35_Template,1,0,"tr",24),core.Tc(),core.Pc(36,"mat-paginator",25),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(16),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,depoimentos_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});var auth_service=__webpack_require__("lGQG"),data_service=__webpack_require__("EnSQ"),menu=__webpack_require__("rJgo");function HomeComponent_li_5_ng_container_1_Template(rf,ctx){if(1&rf&&(core.Sc(0),core.Uc(1,"a",7),core.Pc(2,"i"),core.Uc(3,"span"),core.Ed(4),core.Tc(),core.Tc(),core.Rc()),2&rf){const p_r1=core.fd().$implicit;core.Cc(1),core.md("routerLink",p_r1.route),core.Cc(1),core.Ec(p_r1.icon),core.Cc(2),core.Fd(p_r1.name)}}function HomeComponent_li_5_ng_container_2_button_7_Template(rf,ctx){if(1&rf&&(core.Uc(0,"button",11),core.Ed(1),core.Tc()),2&rf){const item_r7=ctx.$implicit;core.md("routerLink",item_r7.route),core.Cc(1),core.Gd(" ",item_r7.name," ")}}function HomeComponent_li_5_ng_container_2_Template(rf,ctx){if(1&rf&&(core.Sc(0),core.Uc(1,"a",8),core.Pc(2,"i"),core.Uc(3,"span"),core.Ed(4),core.Tc(),core.Tc(),core.Uc(5,"mat-menu",null,9),core.Dd(7,HomeComponent_li_5_ng_container_2_button_7_Template,2,2,"button",10),core.Tc(),core.Rc()),2&rf){const _r5=core.rd(6),p_r1=core.fd().$implicit;core.Cc(1),core.md("matMenuTriggerFor",_r5),core.Cc(1),core.Ec(p_r1.icon),core.Cc(2),core.Fd(p_r1.name),core.Cc(3),core.md("ngForOf",p_r1.group)}}function HomeComponent_li_5_Template(rf,ctx){if(1&rf&&(core.Uc(0,"li",5),core.Dd(1,HomeComponent_li_5_ng_container_1_Template,5,4,"ng-container",6),core.Dd(2,HomeComponent_li_5_ng_container_2_Template,8,5,"ng-container",6),core.Tc()),2&rf){const p_r1=ctx.$implicit;core.Cc(1),core.md("ngIf",!p_r1.group),core.Cc(1),core.md("ngIf",p_r1.group)}}class home_component_HomeComponent{constructor(_auth,_data){this._auth=_auth,this._data=_data,this.pages=[],this.banner=new banner_model.a}ngOnInit(){this.buildPages()}buildPages(){this.pages=[{name:"Home",icon:"fas fa-home",route:"/admin"},{name:"Banner",icon:"fas fa-image",route:"/admin/banner"},{name:"Clientes",icon:"fas fa-user-tie",route:"/admin/clientes"},{name:"Usu\xe1rios",icon:"fas fa-user-shield",route:"/admin/usuarios"},{name:"Depoimentos",icon:"fas fa-comments",route:"/admin/depoimentos"},{name:"Benef\xedcios",icon:"fas fa-plus-square",route:"/admin/beneficios"},{name:"Consultorias",icon:"fas fa-user-tie",route:"/admin/consultorias"},{name:"Perguntas",icon:"fas fa-question",route:"/admin/perguntas"},{name:"M\xf3dulos",icon:"fas fa-monument",route:"/admin/modulos"},{name:"Contato Geral",icon:"fas fa-phone-alt",route:"/admin/contato-geral"},{name:"Configura\xe7\xf5es",icon:"fas fa-cogs",group:[{name:"Geral",icon:"fas fa-cog",route:"/admin/configuracao-geral"},{name:"E-mail",icon:" fas fa-paper-plane",route:"/admin/configuracao-email"}],openGroup:!1}]}}home_component_HomeComponent.\u0275fac=function HomeComponent_Factory(t){return new(t||home_component_HomeComponent)(core.Oc(auth_service.a),core.Oc(data_service.a))},home_component_HomeComponent.\u0275cmp=core.Ic({type:home_component_HomeComponent,selectors:[["app-home"]],decls:6,vars:3,consts:[[1,"page"],[1,"container"],[1,"home-title"],[1,"pages"],["class","pages-item",4,"ngFor","ngForOf"],[1,"pages-item"],[4,"ngIf"],["mat-button","",3,"routerLink"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"]],template:function HomeComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"h1",2),core.Ed(3),core.Tc(),core.Uc(4,"ul",3),core.Dd(5,HomeComponent_li_5_Template,3,2,"li",4),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(3),core.Hd(" Seja bem-vindo, ",ctx._auth.user.nome," ",ctx._auth.user.sobrenome,"! "),core.Cc(2),core.md("ngForOf",ctx.pages))},directives:[common.j,common.k,fesm2015_button.a,fesm2015_router.h,menu.c,menu.d,menu.a,fesm2015_router.g],styles:[".home-boxes[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.home-boxes[_ngcontent-%COMP%]   .home-box[_ngcontent-%COMP%]{margin-bottom:16px}.pages[_ngcontent-%COMP%]{max-width:30%}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-flow:row;align-items:center}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-right:8px;color:#0a437f}.pages-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]});class Modulo{constructor(){this.id=0,this.nome="",this.descricao="",this.imagem="",this.ordem=99,this.funcionalidades=[],Object.assign(this)}}class ModuloService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/modulo/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/modulo/buscar?id="+id)}post(modulo){return this.api.post("/modulo/inserir",modulo)}patch(modulo){return this.api.post("/modulo/alterar",modulo)}delete(modulo){return this.api.post("/modulo/deletar",modulo)}deleteSelected(modulos){return this.api.post("/modulo/deletarLista",modulos)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}ModuloService.\u0275fac=function ModuloService_Factory(t){return new(t||ModuloService)(core.Yc(api_service.a))},ModuloService.\u0275prov=core.Kc({token:ModuloService,factory:ModuloService.\u0275fac,providedIn:"root"});const modulos_criar_component_c0=["fileInput"];function ModulosCriarComponent_img_20_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",22),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function ModulosCriarComponent_img_21_Template(rf,ctx){1&rf&&core.Pc(0,"img",23)}class modulos_criar_component_ModulosCriarComponent{constructor(moduloService,helper,loadingService,router,global){this.moduloService=moduloService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Modulo,this.progress=0}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.moduloService.post(this.data).subscribe(res=>{this.submitImages(this.file,"/modulo/imagem?id="+res),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.moduloService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}modulos_criar_component_ModulosCriarComponent.\u0275fac=function ModulosCriarComponent_Factory(t){return new(t||modulos_criar_component_ModulosCriarComponent)(core.Oc(ModuloService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},modulos_criar_component_ModulosCriarComponent.\u0275cmp=core.Ic({type:modulos_criar_component_ModulosCriarComponent,selectors:[["app-modulos-criar"]],viewQuery:function ModulosCriarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(modulos_criar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:31,vars:4,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"]],template:function ModulosCriarComponent_Template(rf,ctx){if(1&rf){const _r4=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar m\xf3dulo "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ModulosCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r4);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do m\xf3dulo "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ModulosCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function ModulosCriarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"h3",9),core.Ed(18," Imagem (256x256) "),core.Tc(),core.Uc(19,"div",13),core.Dd(20,ModulosCriarComponent_img_20_Template,1,1,"img",14),core.Dd(21,ModulosCriarComponent_img_21_Template,1,0,"img",15),core.Uc(22,"button",16),core.bd("click",(function ModulosCriarComponent_Template_button_click_22_listener(){core.vd(_r4);return core.rd(25).click()})),core.Ed(23,"Escolher arquivo"),core.Tc(),core.Uc(24,"input",17,18),core.bd("change",(function ModulosCriarComponent_Template_input_change_24_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(26,"button",19),core.bd("click",(function ModulosCriarComponent_Template_button_click_26_listener(){return ctx.data.imagem=""})),core.Pc(27,"i",20),core.Tc(),core.Tc(),core.Pc(28,"hr"),core.Uc(29,"button",21),core.Ed(30," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k],styles:[""]});class Funcionalidade{constructor(){this.id=0,this.idModulo=0,this.descricao="",this.ordem=99,Object.assign(this)}}class FuncionalidadeService{constructor(api){this.api=api}get(idModulo,filtro=""){return this.api.get(`/funcionalidade/buscar?filtro=${filtro}&idModulo=${idModulo}`)}getById(id){return this.api.get("/funcionalidade/buscar?id="+id)}post(funcionalidade){return this.api.post("/funcionalidade/inserir",funcionalidade)}patch(funcionalidade){return this.api.post("/funcionalidade/alterar",funcionalidade)}delete(funcionalidade){return this.api.post("/funcionalidade/deletar",funcionalidade)}}FuncionalidadeService.\u0275fac=function FuncionalidadeService_Factory(t){return new(t||FuncionalidadeService)(core.Yc(api_service.a))},FuncionalidadeService.\u0275prov=core.Kc({token:FuncionalidadeService,factory:FuncionalidadeService.\u0275fac,providedIn:"root"});class funcionalidades_modal_component_FuncionalidadesModalComponent{constructor(dialogRef,funcionalidadeService,helper,loadingService,data){this.dialogRef=dialogRef,this.funcionalidadeService=funcionalidadeService,this.helper=helper,this.loadingService=loadingService,this.data=data,this.funcionalidade=new Funcionalidade}ngOnInit(){this.data.funcionalidade&&(this.funcionalidade=this.data.funcionalidade)}submit(){if(this.funcionalidade.descricao)if(this.funcionalidade.id)this.loadingService.present("Alterando..."),this.funcionalidadeService.patch(this.funcionalidade).subscribe(res=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss());else{const data=Object.assign(Object.assign({},this.funcionalidade),{idModulo:this.data.idModulo});this.loadingService.present("Adicionando..."),this.funcionalidadeService.post(data).subscribe(res=>{this.dialogRef.close(!0),this.loadingService.dismiss()},e=>this.loadingService.dismiss())}else this.helper.openSnackBar("Preencha uma descri\xe7\xe3o para continuar")}dismiss(){this.dialogRef.close()}}function FuncionalidadesComponent_div_9_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function FuncionalidadesComponent_div_9_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",24),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function FuncionalidadesComponent_div_9_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",21),core.Dd(1,FuncionalidadesComponent_div_9_mat_spinner_1_Template,1,0,"mat-spinner",22),core.Dd(2,FuncionalidadesComponent_div_9_div_2_Template,2,0,"div",23),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function FuncionalidadesComponent_button_12_Template(rf,ctx){if(1&rf){const _r12=core.Vc();core.Uc(0,"button",25),core.bd("click",(function FuncionalidadesComponent_button_12_Template_button_click_0_listener(){core.vd(_r12);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function FuncionalidadesComponent_div_14_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function FuncionalidadesComponent_div_14_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",21),core.Dd(1,FuncionalidadesComponent_div_14_mat_spinner_1_Template,1,0,"mat-spinner",22),core.Uc(2,"div",24),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function FuncionalidadesComponent_th_17_Template(rf,ctx){1&rf&&(core.Uc(0,"th",26),core.Ed(1," Descri\xe7\xe3o "),core.Tc())}function FuncionalidadesComponent_td_18_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",27),core.Ed(1),core.Tc()),2&rf){const row_r14=ctx.$implicit;core.Cc(1),core.Fd(row_r14.descricao)}}function FuncionalidadesComponent_th_20_Template(rf,ctx){1&rf&&core.Pc(0,"th",28)}function FuncionalidadesComponent_td_21_Template(rf,ctx){if(1&rf){const _r17=core.Vc();core.Uc(0,"td",27),core.Uc(1,"a",29),core.bd("click",(function FuncionalidadesComponent_td_21_Template_a_click_1_listener(){core.vd(_r17);const row_r15=ctx.$implicit;return core.fd().openModal(row_r15)})),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",30),core.bd("click",(function FuncionalidadesComponent_td_21_Template_button_click_4_listener(){core.vd(_r17);const row_r15=ctx.$implicit;return core.fd().deletarData(row_r15)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}}function FuncionalidadesComponent_tr_22_Template(rf,ctx){1&rf&&core.Pc(0,"tr",31)}function FuncionalidadesComponent_tr_23_Template(rf,ctx){1&rf&&core.Pc(0,"tr",32)}funcionalidades_modal_component_FuncionalidadesModalComponent.\u0275fac=function FuncionalidadesModalComponent_Factory(t){return new(t||funcionalidades_modal_component_FuncionalidadesModalComponent)(core.Oc(fesm2015_dialog.f),core.Oc(FuncionalidadeService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_dialog.a))},funcionalidades_modal_component_FuncionalidadesModalComponent.\u0275cmp=core.Ic({type:funcionalidades_modal_component_FuncionalidadesModalComponent,selectors:[["app-funcionalidades-modal"]],decls:11,vars:1,consts:[[3,"ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"page-form-control"],["matInput","","cdkFocusInitial","","type","text","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit"]],template:function FuncionalidadesModalComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"form",0),core.bd("ngSubmit",(function FuncionalidadesModalComponent_Template_form_ngSubmit_0_listener(){return ctx.submit()})),core.Uc(1,"h2",1),core.Ed(2," Editar funcionalidade "),core.Tc(),core.Uc(3,"div",2),core.Uc(4,"mat-form-field",3),core.Uc(5,"input",4),core.bd("ngModelChange",(function FuncionalidadesModalComponent_Template_input_ngModelChange_5_listener($event){return ctx.funcionalidade.descricao=$event})),core.Tc(),core.Tc(),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function FuncionalidadesModalComponent_Template_button_click_7_listener(){return ctx.dismiss()})),core.Ed(8,"Fechar"),core.Tc(),core.Uc(9,"button",7),core.Ed(10,"Salvar"),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(5),core.md("ngModel",ctx.funcionalidade.descricao))},directives:[fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,fesm2015_dialog.g,fesm2015_dialog.d,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,fesm2015_dialog.c,fesm2015_button.b],styles:[""]});const funcionalidades_component_c0=function(){return[15,25,40,50]};class funcionalidades_component_FuncionalidadesComponent{constructor(global,funcionalidadeService,dialog,helper,loadingService){this.global=global,this.funcionalidadeService=funcionalidadeService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["1","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngOnInit(){}ngAfterViewInit(){this.buscar()}buscar(){Object(merge.a)(this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.funcionalidadeService.get(this.idModulo,this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=data.length,data)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.funcionalidadeService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}filter(e){e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.funcionalidadeService.get(this.idModulo,e.toLocaleLowerCase()).subscribe(res=>this.data=res)):this.buscar()}clearFilter(){this.search="",this.buscar()}openModal(item){this.dialog.open(funcionalidades_modal_component_FuncionalidadesModalComponent,{width:"640px",data:{funcionalidade:item||null,idModulo:this.idModulo}}).afterClosed().subscribe(result=>{result&&this.buscar()})}}funcionalidades_component_FuncionalidadesComponent.\u0275fac=function FuncionalidadesComponent_Factory(t){return new(t||funcionalidades_component_FuncionalidadesComponent)(core.Oc(global_service.a),core.Oc(FuncionalidadeService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},funcionalidades_component_FuncionalidadesComponent.\u0275cmp=core.Ic({type:funcionalidades_component_FuncionalidadesComponent,selectors:[["app-funcionalidades"]],viewQuery:function FuncionalidadesComponent_Query(rf,ctx){var _t;(1&rf&&core.Jd(paginator.a,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first))},inputs:{idModulo:"idModulo"},decls:25,vars:11,consts:[[1,"page"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-raised-button","","color","primary",3,"click"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"click"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function FuncionalidadesComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"h1",3),core.Ed(4," Funcionalidades "),core.Tc(),core.Uc(5,"div",4),core.Uc(6,"a",5),core.bd("click",(function FuncionalidadesComponent_Template_a_click_6_listener(){return ctx.openModal()})),core.Ed(7," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(8,"div",6),core.Dd(9,FuncionalidadesComponent_div_9_Template,3,2,"div",7),core.Uc(10,"mat-form-field",8),core.Uc(11,"input",9),core.bd("ngModelChange",(function FuncionalidadesComponent_Template_input_ngModelChange_11_listener($event){return ctx.search=$event}))("ngModelChange",(function FuncionalidadesComponent_Template_input_ngModelChange_11_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(12,FuncionalidadesComponent_button_12_Template,3,0,"button",10),core.Tc(),core.Uc(13,"div",11),core.Dd(14,FuncionalidadesComponent_div_14_Template,4,1,"div",7),core.Uc(15,"table",12),core.Sc(16,13),core.Dd(17,FuncionalidadesComponent_th_17_Template,2,0,"th",14),core.Dd(18,FuncionalidadesComponent_td_18_Template,2,1,"td",15),core.Rc(),core.Sc(19,16),core.Dd(20,FuncionalidadesComponent_th_20_Template,1,0,"th",17),core.Dd(21,FuncionalidadesComponent_td_21_Template,7,0,"td",15),core.Rc(),core.Dd(22,FuncionalidadesComponent_tr_22_Template,1,0,"tr",18),core.Dd(23,FuncionalidadesComponent_tr_23_Template,1,0,"tr",19),core.Tc(),core.Pc(24,"mat-paginator",20),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(9),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(7),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(10,funcionalidades_component_c0))("pageSize",15))},directives:[fesm2015_button.a,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,fesm2015_button.b,form_field.f,icon.a,table.d,sort.b,table.a,tooltip.a,table.f,table.h],styles:[""]});const modulos_editar_component_c0=["fileInput"];function ModulosEditarComponent_img_22_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",24),2&rf){const ctx_r1=core.fd();core.md("src",ctx_r1.global.imageUrl+ctx_r1.data.imagem,core.wd)}}function ModulosEditarComponent_img_23_Template(rf,ctx){1&rf&&core.Pc(0,"img",25)}function ModulosEditarComponent_app_funcionalidades_30_Template(rf,ctx){if(1&rf&&core.Pc(0,"app-funcionalidades",26),2&rf){const ctx_r4=core.fd();core.md("idModulo",ctx_r4.data.id)}}class modulos_editar_component_ModulosEditarComponent{constructor(moduloService,helper,loadingService,router,route,global){this.moduloService=moduloService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new Modulo,this.progress=0}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.moduloService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.moduloService.patch(this.data).subscribe(res=>{this.submitImages(this.file,"/modulo/imagem?id="+this.data.id),this.router.navigate(["/admin/modulos"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onFileSelected(files){this.file=files.item(0),this.loadingService.present("0%"),this.submitImages(this.file,"/modulo/imagem?id=-99").then(res=>{this.data.imagem=res.body,this.loadingService.dismiss()}).catch(()=>{this.progress=0,this.fileInput.nativeElement.value="",this.loadingService.dismiss()})}submitImages(file,url){if(file)return new Promise((resolve,reject)=>{this.moduloService.postFile(file,url,"image").subscribe(event=>{4===event.type?(this.progress=0,resolve(event)):(this.progress=Math.round(event.loaded/event.total*100),isNaN(this.progress)&&(this.progress=100),this.loadingService.title=this.progress+"%")},err=>reject(err))})}}function ModulosComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ModulosComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",29),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function ModulosComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,ModulosComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Dd(2,ModulosComponent_div_12_div_2_Template,2,0,"div",28),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function ModulosComponent_button_15_Template(rf,ctx){if(1&rf){const _r18=core.Vc();core.Uc(0,"button",30),core.bd("click",(function ModulosComponent_button_15_Template_button_click_0_listener(){core.vd(_r18);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function ModulosComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function ModulosComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,ModulosComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Uc(2,"div",29),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function ModulosComponent_th_20_Template(rf,ctx){if(1&rf){const _r21=core.Vc();core.Uc(0,"th",31),core.Uc(1,"mat-checkbox",32),core.bd("change",(function ModulosComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r21);const ctx_r20=core.fd();return $event?ctx_r20.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function ModulosComponent_td_21_Template(rf,ctx){if(1&rf){const _r24=core.Vc();core.Uc(0,"td",33),core.Uc(1,"mat-checkbox",34),core.bd("click",(function ModulosComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r24),$event.stopPropagation()}))("change",(function ModulosComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r24);const row_r22=ctx.$implicit,ctx_r25=core.fd();return $event?ctx_r25.selection.toggle(row_r22):null})),core.Tc(),core.Tc()}if(2&rf){const row_r22=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r22))("aria-label",ctx_r4.checkboxLabel(row_r22))}}function ModulosComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",31),core.Ed(1," Imagem "),core.Tc())}function ModulosComponent_td_24_img_1_Template(rf,ctx){if(1&rf&&core.Pc(0,"img",37),2&rf){const row_r26=core.fd().$implicit,ctx_r27=core.fd();core.md("src",ctx_r27.global.imageUrl+row_r26.imagem,core.wd)}}function ModulosComponent_td_24_img_2_Template(rf,ctx){1&rf&&core.Pc(0,"img",38)}function ModulosComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Dd(1,ModulosComponent_td_24_img_1_Template,1,1,"img",35),core.Dd(2,ModulosComponent_td_24_img_2_Template,1,0,"img",36),core.Tc()),2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("ngIf",row_r26.imagem),core.Cc(1),core.md("ngIf",!row_r26.imagem)}}function ModulosComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1," Nome "),core.Tc())}function ModulosComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r30=ctx.$implicit;core.Cc(1),core.Hd("",row_r30.nome," ",row_r30.sobrenome,"")}}function ModulosComponent_th_29_Template(rf,ctx){1&rf&&(core.Uc(0,"th",39),core.Ed(1,"Descri\xe7\xe3o"),core.Tc())}function ModulosComponent_td_30_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r31=ctx.$implicit;core.Cc(1),core.Fd(row_r31.descricao)}}function ModulosComponent_th_32_Template(rf,ctx){1&rf&&core.Pc(0,"th",31)}modulos_editar_component_ModulosEditarComponent.\u0275fac=function ModulosEditarComponent_Factory(t){return new(t||modulos_editar_component_ModulosEditarComponent)(core.Oc(ModuloService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},modulos_editar_component_ModulosEditarComponent.\u0275cmp=core.Ic({type:modulos_editar_component_ModulosEditarComponent,selectors:[["app-modulos-editar"]],viewQuery:function ModulosEditarComponent_Query(rf,ctx){var _t;(1&rf&&core.zd(modulos_editar_component_c0,!0),2&rf)&&(core.qd(_t=core.cd())&&(ctx.fileInput=_t.first))},decls:34,vars:6,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/modulos"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Descri\xe7\xe3o","name","descricao","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","page-form-image"],[3,"src",4,"ngIf"],["src","assets/image-placeholder.png",4,"ngIf"],["type","button","mat-button","",3,"click"],["hidden","","type","file","id","imagem","accept","image/*",3,"change"],["fileInput",""],["type","button",1,"page-form-image__button",3,"click"],[1,"fas","fa-trash"],[3,"idModulo",4,"ngIf"],["mat-raised-button","","color","primary","type","submit"],[3,"src"],["src","assets/image-placeholder.png"],[3,"idModulo"]],template:function ModulosEditarComponent_Template(rf,ctx){if(1&rf){const _r5=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar m\xf3dulo "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function ModulosEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r5);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do m\xf3dulo "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ModulosEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function ModulosEditarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.descricao=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function ModulosEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.ordem=$event})),core.Tc(),core.Tc(),core.Uc(19,"h3",9),core.Ed(20," Imagem (256x256) "),core.Tc(),core.Uc(21,"div",14),core.Dd(22,ModulosEditarComponent_img_22_Template,1,1,"img",15),core.Dd(23,ModulosEditarComponent_img_23_Template,1,0,"img",16),core.Uc(24,"button",17),core.bd("click",(function ModulosEditarComponent_Template_button_click_24_listener(){core.vd(_r5);return core.rd(27).click()})),core.Ed(25,"Escolher arquivo"),core.Tc(),core.Uc(26,"input",18,19),core.bd("change",(function ModulosEditarComponent_Template_input_change_26_listener($event){return ctx.onFileSelected($event.target.files)})),core.Tc(),core.Uc(28,"button",20),core.bd("click",(function ModulosEditarComponent_Template_button_click_28_listener(){return ctx.data.imagem=""})),core.Pc(29,"i",21),core.Tc(),core.Tc(),core.Dd(30,ModulosEditarComponent_app_funcionalidades_30_Template,1,1,"app-funcionalidades",22),core.Pc(31,"hr"),core.Uc(32,"button",23),core.Ed(33," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.descricao),core.Cc(2),core.md("ngModel",ctx.data.ordem),core.Cc(4),core.md("ngIf",ctx.data.imagem),core.Cc(1),core.md("ngIf",!ctx.data.imagem),core.Cc(7),core.md("ngIf",ctx.data.id))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l,common.k,funcionalidades_component_FuncionalidadesComponent],styles:["app-funcionalidades[_ngcontent-%COMP%]{flex:0 0 100%;width:100%}"]});const modulos_component_c0=function(a1){return["/admin/modulos/editar",a1]};function ModulosComponent_td_33_Template(rf,ctx){if(1&rf){const _r34=core.Vc();core.Uc(0,"td",33),core.Uc(1,"a",40),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",41),core.bd("click",(function ModulosComponent_td_33_Template_button_click_4_listener(){core.vd(_r34);const row_r32=ctx.$implicit;return core.fd().deletarData(row_r32)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r32=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,modulos_component_c0,row_r32.id))}}function ModulosComponent_tr_34_Template(rf,ctx){1&rf&&core.Pc(0,"tr",42)}function ModulosComponent_tr_35_Template(rf,ctx){1&rf&&core.Pc(0,"tr",43)}const modulos_component_c1=function(){return[15,25,40,50]};class modulos_component_ModulosComponent{constructor(global,moduloService,dialog,helper,loadingService){this.global=global,this.moduloService=moduloService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","imagem","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.modulos)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.moduloService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.moduloService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.moduloService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.modulos:this.data.concat(res.modulos)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}modulos_component_ModulosComponent.\u0275fac=function ModulosComponent_Factory(t){return new(t||modulos_component_ModulosComponent)(core.Oc(global_service.a),core.Oc(ModuloService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},modulos_component_ModulosComponent.\u0275cmp=core.Ic({type:modulos_component_ModulosComponent,selectors:[["app-modulos"]],viewQuery:function ModulosComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/modulos/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagem"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["alt","imagem","class","page-table-image",3,"src",4,"ngIf"],["src","assets/image-placeholder.png","alt","imagem","class","page-table-image",4,"ngIf"],["alt","imagem",1,"page-table-image",3,"src"],["src","assets/image-placeholder.png","alt","imagem",1,"page-table-image"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function ModulosComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," M\xf3dulos "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function ModulosComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,ModulosComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function ModulosComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function ModulosComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,ModulosComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,ModulosComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,ModulosComponent_th_20_Template,2,3,"th",16),core.Dd(21,ModulosComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,ModulosComponent_th_23_Template,2,0,"th",16),core.Dd(24,ModulosComponent_td_24_Template,3,2,"td",17),core.Rc(),core.Sc(25,19),core.Dd(26,ModulosComponent_th_26_Template,2,0,"th",20),core.Dd(27,ModulosComponent_td_27_Template,2,2,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,ModulosComponent_th_29_Template,2,0,"th",20),core.Dd(30,ModulosComponent_td_30_Template,2,1,"td",17),core.Rc(),core.Sc(31,22),core.Dd(32,ModulosComponent_th_32_Template,1,0,"th",16),core.Dd(33,ModulosComponent_td_33_Template,7,3,"td",17),core.Rc(),core.Dd(34,ModulosComponent_tr_34_Template,1,0,"tr",23),core.Dd(35,ModulosComponent_tr_35_Template,1,0,"tr",24),core.Tc(),core.Pc(36,"mat-paginator",25),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(16),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,modulos_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});class Pergunta{constructor(){this.id=0,this.pergunta="",this.resposta="",this.ordem=99,Object.assign(this)}}class PerguntaService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/pergunta/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/pergunta/buscar?id="+id)}post(pergunta){return this.api.post("/pergunta/inserir",pergunta)}patch(pergunta){return this.api.post("/pergunta/alterar",pergunta)}delete(pergunta){return this.api.post("/pergunta/deletar",pergunta)}deleteSelected(perguntas){return this.api.post("/pergunta/deletarLista",perguntas)}}PerguntaService.\u0275fac=function PerguntaService_Factory(t){return new(t||PerguntaService)(core.Yc(api_service.a))},PerguntaService.\u0275prov=core.Kc({token:PerguntaService,factory:PerguntaService.\u0275fac,providedIn:"root"});class perguntas_criar_component_PerguntasCriarComponent{constructor(perguntaService,helper,loadingService,router,global){this.perguntaService=perguntaService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new Pergunta}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.perguntaService.post(this.data).subscribe(res=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}perguntas_criar_component_PerguntasCriarComponent.\u0275fac=function PerguntasCriarComponent_Factory(t){return new(t||perguntas_criar_component_PerguntasCriarComponent)(core.Oc(PerguntaService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},perguntas_criar_component_PerguntasCriarComponent.\u0275cmp=core.Ic({type:perguntas_criar_component_PerguntasCriarComponent,selectors:[["app-perguntas-criar"]],decls:20,vars:2,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function PerguntasCriarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar pergunta "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function PerguntasCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados da pergunta "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function PerguntasCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.pergunta=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function PerguntasCriarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.resposta=$event})),core.Tc(),core.Tc(),core.Pc(17,"hr"),core.Uc(18,"button",13),core.Ed(19," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.pergunta),core.Cc(2),core.md("ngModel",ctx.data.resposta))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l],styles:[""]});class perguntas_editar_component_PerguntasEditarComponent{constructor(perguntaService,helper,loadingService,router,route,global){this.perguntaService=perguntaService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new Pergunta}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.perguntaService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Alterando item..."),this.perguntaService.patch(this.data).subscribe(res=>{this.router.navigate(["/admin/perguntas"]).then(()=>{this.helper.openSnackBar("Item alterado com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}}function PerguntasComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function PerguntasComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",28),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function PerguntasComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",25),core.Dd(1,PerguntasComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",26),core.Dd(2,PerguntasComponent_div_12_div_2_Template,2,0,"div",27),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function PerguntasComponent_button_15_Template(rf,ctx){if(1&rf){const _r16=core.Vc();core.Uc(0,"button",29),core.bd("click",(function PerguntasComponent_button_15_Template_button_click_0_listener(){core.vd(_r16);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function PerguntasComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function PerguntasComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",25),core.Dd(1,PerguntasComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",26),core.Uc(2,"div",28),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function PerguntasComponent_th_20_Template(rf,ctx){if(1&rf){const _r19=core.Vc();core.Uc(0,"th",30),core.Uc(1,"mat-checkbox",31),core.bd("change",(function PerguntasComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r19);const ctx_r18=core.fd();return $event?ctx_r18.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function PerguntasComponent_td_21_Template(rf,ctx){if(1&rf){const _r22=core.Vc();core.Uc(0,"td",32),core.Uc(1,"mat-checkbox",33),core.bd("click",(function PerguntasComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r22),$event.stopPropagation()}))("change",(function PerguntasComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r22);const row_r20=ctx.$implicit,ctx_r23=core.fd();return $event?ctx_r23.selection.toggle(row_r20):null})),core.Tc(),core.Tc()}if(2&rf){const row_r20=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r20))("aria-label",ctx_r4.checkboxLabel(row_r20))}}function PerguntasComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",34),core.Ed(1," Pergunta "),core.Tc())}function PerguntasComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",32),core.Ed(1),core.gd(2,"slice"),core.Tc()),2&rf){const row_r24=ctx.$implicit;core.Cc(1),core.Hd("",core.jd(2,2,row_r24.pergunta,0,128),"",row_r24.pergunta.length>=128?"...":"","")}}function PerguntasComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",34),core.Ed(1," Resposta "),core.Tc())}function PerguntasComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",32),core.Ed(1),core.gd(2,"slice"),core.Tc()),2&rf){const row_r25=ctx.$implicit;core.Cc(1),core.Hd("",core.jd(2,2,row_r25.resposta,0,128),"",row_r25.resposta.length>=128?"...":"","")}}function PerguntasComponent_th_29_Template(rf,ctx){1&rf&&core.Pc(0,"th",30)}perguntas_editar_component_PerguntasEditarComponent.\u0275fac=function PerguntasEditarComponent_Factory(t){return new(t||perguntas_editar_component_PerguntasEditarComponent)(core.Oc(PerguntaService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},perguntas_editar_component_PerguntasEditarComponent.\u0275cmp=core.Ic({type:perguntas_editar_component_PerguntasEditarComponent,selectors:[["app-perguntas-editar"]],decls:22,vars:3,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/perguntas"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","text","placeholder","Pergunta","name","pergunta","required","",3,"ngModel","ngModelChange"],["matInput","","rows","6","placeholder","Resposta","name","resposta","required","",3,"ngModel","ngModelChange"],["matInput","","type","tel","placeholder","Ordem","name","ordem","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function PerguntasEditarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar pergunta "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function PerguntasEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados da pergunta "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function PerguntasEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.pergunta=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"textarea",12),core.bd("ngModelChange",(function PerguntasEditarComponent_Template_textarea_ngModelChange_16_listener($event){return ctx.data.resposta=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function PerguntasEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.ordem=$event})),core.Tc(),core.Tc(),core.Pc(19,"hr"),core.Uc(20,"button",14),core.Ed(21," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("ngModel",ctx.data.pergunta),core.Cc(2),core.md("ngModel",ctx.data.resposta),core.Cc(2),core.md("ngModel",ctx.data.ordem))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.i,fesm2015_forms.l],styles:[""]});const perguntas_component_c0=function(a1){return["/admin/perguntas/editar",a1]};function PerguntasComponent_td_30_Template(rf,ctx){if(1&rf){const _r28=core.Vc();core.Uc(0,"td",32),core.Uc(1,"a",35),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",36),core.bd("click",(function PerguntasComponent_td_30_Template_button_click_4_listener(){core.vd(_r28);const row_r26=ctx.$implicit;return core.fd().deletarData(row_r26)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,perguntas_component_c0,row_r26.id))}}function PerguntasComponent_tr_31_Template(rf,ctx){1&rf&&core.Pc(0,"tr",37)}function PerguntasComponent_tr_32_Template(rf,ctx){1&rf&&core.Pc(0,"tr",38)}const perguntas_component_c1=function(){return[15,25,40,50]};class perguntas_component_PerguntasComponent{constructor(global,perguntaService,dialog,helper,loadingService){this.global=global,this.perguntaService=perguntaService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","1","2","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.perguntas)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.perguntaService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.perguntaService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.perguntaService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.perguntas:this.data.concat(res.perguntas)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}perguntas_component_PerguntasComponent.\u0275fac=function PerguntasComponent_Factory(t){return new(t||perguntas_component_PerguntasComponent)(core.Oc(global_service.a),core.Oc(PerguntaService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},perguntas_component_PerguntasComponent.\u0275cmp=core.Ic({type:perguntas_component_PerguntasComponent,selectors:[["app-perguntas"]],viewQuery:function PerguntasComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:34,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/perguntas/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function PerguntasComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Perguntas "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function PerguntasComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,PerguntasComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function PerguntasComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function PerguntasComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,PerguntasComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,PerguntasComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,PerguntasComponent_th_20_Template,2,3,"th",16),core.Dd(21,PerguntasComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,PerguntasComponent_th_23_Template,2,0,"th",19),core.Dd(24,PerguntasComponent_td_24_Template,3,6,"td",17),core.Rc(),core.Sc(25,20),core.Dd(26,PerguntasComponent_th_26_Template,2,0,"th",19),core.Dd(27,PerguntasComponent_td_27_Template,3,6,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,PerguntasComponent_th_29_Template,1,0,"th",16),core.Dd(30,PerguntasComponent_td_30_Template,7,3,"td",17),core.Rc(),core.Dd(31,PerguntasComponent_tr_31_Template,1,0,"tr",22),core.Dd(32,PerguntasComponent_tr_32_Template,1,0,"tr",23),core.Tc(),core.Pc(33,"mat-paginator",24),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(13),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,perguntas_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],pipes:[common.r],styles:[""]});var usuario_model=__webpack_require__("11oC");class UsuarioService{constructor(api){this.api=api}get(numeroPagina,registroPorPagina,ordenacao,sentidoOrdenacao,filtro="%"){return this.api.get(`/usuario/buscar?filtro=${filtro}&numeroPagina=${numeroPagina}&registroPorPagina=${registroPorPagina}&ordenacao=${ordenacao}&sentidoOrdenacao=${sentidoOrdenacao}`)}getById(id){return this.api.get("/usuario/buscar?id="+id)}getByEmail(email){return this.api.get("/usuario/buscar?email="+email)}post(user){return this.api.post("/usuario/inserir",user)}patch(user){return this.api.post("/usuario/alterar",user)}delete(user){return this.api.post("/usuario/deletar",user)}deleteSelected(users){return this.api.post("/usuario/deletarLista",users)}postFile(file,url,fileName){return this.api.postFile(file,url,fileName)}}UsuarioService.\u0275fac=function UsuarioService_Factory(t){return new(t||UsuarioService)(core.Yc(api_service.a))},UsuarioService.\u0275prov=core.Kc({token:UsuarioService,factory:UsuarioService.\u0275fac,providedIn:"root"});class usuarios_criar_component_UsuariosCriarComponent{constructor(usuarioService,helper,loadingService,router,global){this.usuarioService=usuarioService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.global=global,this.data=new usuario_model.a}ngOnInit(){}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.data.senha===this.data.re_senha?(this.loadingService.present("Inserindo item..."),this.usuarioService.post(this.data).subscribe(res=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})):this.helper.openSnackBar("As senhas precisam ser iguais.")}onSituacaoChange(event){event.checked?this.data.situacao="A":this.data.situacao="I"}}usuarios_criar_component_UsuariosCriarComponent.\u0275fac=function UsuariosCriarComponent_Factory(t){return new(t||usuarios_criar_component_UsuariosCriarComponent)(core.Oc(UsuarioService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(global_service.a))},usuarios_criar_component_UsuariosCriarComponent.\u0275cmp=core.Ic({type:usuarios_criar_component_UsuariosCriarComponent,selectors:[["app-usuarios-criar"]],decls:26,vars:7,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],[1,"page-form-control","half"],["matInput","","type","password","placeholder","Senha","name","senha","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","placeholder","Confirmar senha","name","re_senha","required","",3,"ngModel","ngModelChange"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function UsuariosCriarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Adicionar usu\xe1rio "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function UsuariosCriarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do usu\xe1rio "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function UsuariosCriarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.email=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function UsuariosCriarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",13),core.Uc(18,"input",14),core.bd("ngModelChange",(function UsuariosCriarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.senha=$event})),core.Tc(),core.Tc(),core.Uc(19,"mat-form-field",13),core.Uc(20,"input",15),core.bd("ngModelChange",(function UsuariosCriarComponent_Template_input_ngModelChange_20_listener($event){return ctx.data.re_senha=$event})),core.Tc(),core.Tc(),core.Uc(21,"mat-slide-toggle",16),core.bd("change",(function UsuariosCriarComponent_Template_mat_slide_toggle_change_21_listener($event){return ctx.onSituacaoChange($event)})),core.Ed(22),core.Tc(),core.Pc(23,"hr"),core.Uc(24,"button",17),core.Ed(25," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("pattern",ctx.helper.emailRegex)("ngModel",ctx.data.email),core.Cc(2),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("ngModel",ctx.data.senha),core.Cc(2),core.md("ngModel",ctx.data.re_senha),core.Cc(1),core.md("checked","A"==ctx.data.situacao),core.Cc(1),core.Gd(" Situa\xe7\xe3o: ","A"==ctx.data.situacao?"Ativo":"Inativo",""))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.m,fesm2015_forms.i,fesm2015_forms.l,slide_toggle.a],styles:[""]});class usuarios_editar_component_UsuariosEditarComponent{constructor(usuarioService,helper,loadingService,router,route,global){this.usuarioService=usuarioService,this.helper=helper,this.loadingService=loadingService,this.router=router,this.route=route,this.global=global,this.data=new usuario_model.a,this.hide=!1}ngOnInit(){this.route.params.subscribe(param=>this.buscar(param.id))}buscar(id){this.usuarioService.getById(id).subscribe(res=>this.data=res)}submit(f){if(f.invalid)return this.helper.formMarkAllTouched(f),void this.helper.openSnackBar("Preencha os campos requiridos, por favor!");this.loadingService.present("Inserindo item..."),this.usuarioService.patch(this.data).subscribe(res=>{this.router.navigate(["/admin/usuarios"]).then(()=>{this.helper.openSnackBar("Item inserido com sucesso."),this.loadingService.dismiss()})},e=>{this.helper.openSnackBar(e.error),this.loadingService.dismiss()})}onSituacaoChange(event){event.checked?this.data.situacao="A":this.data.situacao="I"}}function UsuariosComponent_div_12_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function UsuariosComponent_div_12_div_2_Template(rf,ctx){1&rf&&(core.Uc(0,"div",29),core.Ed(1," N\xe3o foi poss\xedvel acessar os dados dessa listagem, aguarde um pouco e tente novamente. "),core.Tc())}function UsuariosComponent_div_12_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,UsuariosComponent_div_12_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Dd(2,UsuariosComponent_div_12_div_2_Template,2,0,"div",28),core.Tc()),2&rf){const ctx_r0=core.fd();core.Cc(1),core.md("ngIf",ctx_r0.isLoadingResults),core.Cc(1),core.md("ngIf",ctx_r0.isRateLimitReached)}}function UsuariosComponent_button_15_Template(rf,ctx){if(1&rf){const _r18=core.Vc();core.Uc(0,"button",30),core.bd("click",(function UsuariosComponent_button_15_Template_button_click_0_listener(){core.vd(_r18);return core.fd().clearFilter()})),core.Uc(1,"mat-icon"),core.Ed(2,"close"),core.Tc(),core.Tc()}}function UsuariosComponent_div_17_mat_spinner_1_Template(rf,ctx){1&rf&&core.Pc(0,"mat-spinner")}function UsuariosComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Uc(0,"div",26),core.Dd(1,UsuariosComponent_div_17_mat_spinner_1_Template,1,0,"mat-spinner",27),core.Uc(2,"div",29),core.Ed(3," Nenhum registro encontrado "),core.Tc(),core.Tc()),2&rf){const ctx_r2=core.fd();core.Cc(1),core.md("ngIf",ctx_r2.isLoadingResults)}}function UsuariosComponent_th_20_Template(rf,ctx){if(1&rf){const _r21=core.Vc();core.Uc(0,"th",31),core.Uc(1,"mat-checkbox",32),core.bd("change",(function UsuariosComponent_th_20_Template_mat_checkbox_change_1_listener($event){core.vd(_r21);const ctx_r20=core.fd();return $event?ctx_r20.masterToggle():null})),core.Tc(),core.Tc()}if(2&rf){const ctx_r3=core.fd();core.Cc(1),core.md("checked",ctx_r3.selection.hasValue()&&ctx_r3.isAllSelected())("indeterminate",ctx_r3.selection.hasValue()&&!ctx_r3.isAllSelected())("aria-label",ctx_r3.checkboxLabel())}}function UsuariosComponent_td_21_Template(rf,ctx){if(1&rf){const _r24=core.Vc();core.Uc(0,"td",33),core.Uc(1,"mat-checkbox",34),core.bd("click",(function UsuariosComponent_td_21_Template_mat_checkbox_click_1_listener($event){return core.vd(_r24),$event.stopPropagation()}))("change",(function UsuariosComponent_td_21_Template_mat_checkbox_change_1_listener($event){core.vd(_r24);const row_r22=ctx.$implicit,ctx_r25=core.fd();return $event?ctx_r25.selection.toggle(row_r22):null})),core.Tc(),core.Tc()}if(2&rf){const row_r22=ctx.$implicit,ctx_r4=core.fd();core.Cc(1),core.md("checked",ctx_r4.selection.isSelected(row_r22))("aria-label",ctx_r4.checkboxLabel(row_r22))}}function UsuariosComponent_th_23_Template(rf,ctx){1&rf&&(core.Uc(0,"th",35),core.Ed(1," Nome "),core.Tc())}function UsuariosComponent_td_24_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r26=ctx.$implicit;core.Cc(1),core.Hd("",row_r26.nome," ",row_r26.sobrenome,"")}}function UsuariosComponent_th_26_Template(rf,ctx){1&rf&&(core.Uc(0,"th",35),core.Ed(1,"E-mail"),core.Tc())}function UsuariosComponent_td_27_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r27=ctx.$implicit;core.Cc(1),core.Fd(row_r27.email)}}function UsuariosComponent_th_29_Template(rf,ctx){1&rf&&(core.Uc(0,"th",35),core.Ed(1,"Situa\xe7\xe3o"),core.Tc())}function UsuariosComponent_td_30_Template(rf,ctx){if(1&rf&&(core.Uc(0,"td",33),core.Ed(1),core.Tc()),2&rf){const row_r28=ctx.$implicit;core.Cc(1),core.Fd("A"==row_r28.situacao?"Ativo":"Inativo")}}function UsuariosComponent_th_32_Template(rf,ctx){1&rf&&core.Pc(0,"th",31)}usuarios_editar_component_UsuariosEditarComponent.\u0275fac=function UsuariosEditarComponent_Factory(t){return new(t||usuarios_editar_component_UsuariosEditarComponent)(core.Oc(UsuarioService),core.Oc(helper_service.a),core.Oc(loading_service.a),core.Oc(fesm2015_router.f),core.Oc(fesm2015_router.a),core.Oc(global_service.a))},usuarios_editar_component_UsuariosEditarComponent.\u0275cmp=core.Ic({type:usuarios_editar_component_UsuariosEditarComponent,selectors:[["app-usuarios-editar"]],decls:27,vars:10,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","primary","routerLink","/admin/usuarios"],[1,"page-form",3,"ngSubmit"],["form","ngForm"],[1,"page-form__title"],[1,"page-form-control"],["matInput","","type","email","placeholder","E-mail","name","email","required","",3,"pattern","ngModel","ngModelChange"],["matInput","","type","text","placeholder","Nome","name","nome","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Senha","name","senha","required","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[3,"checked","change"],["mat-raised-button","","color","primary","type","submit"]],template:function UsuariosEditarComponent_Template(rf,ctx){if(1&rf){const _r1=core.Vc();core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Editar usu\xe1rio "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.Ed(8," VOLTAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(9,"form",7,8),core.bd("ngSubmit",(function UsuariosEditarComponent_Template_form_ngSubmit_9_listener(){core.vd(_r1);const _r0=core.rd(10);return ctx.submit(_r0)})),core.Uc(11,"h3",9),core.Ed(12," Dados do usu\xe1rio "),core.Tc(),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function UsuariosEditarComponent_Template_input_ngModelChange_14_listener($event){return ctx.data.email=$event})),core.Tc(),core.Tc(),core.Uc(15,"mat-form-field",10),core.Uc(16,"input",12),core.bd("ngModelChange",(function UsuariosEditarComponent_Template_input_ngModelChange_16_listener($event){return ctx.data.nome=$event})),core.Tc(),core.Tc(),core.Uc(17,"mat-form-field",10),core.Uc(18,"input",13),core.bd("ngModelChange",(function UsuariosEditarComponent_Template_input_ngModelChange_18_listener($event){return ctx.data.senha=$event})),core.Tc(),core.Uc(19,"button",14),core.bd("click",(function UsuariosEditarComponent_Template_button_click_19_listener(){return ctx.hide=!ctx.hide})),core.Uc(20,"mat-icon"),core.Ed(21),core.Tc(),core.Tc(),core.Tc(),core.Uc(22,"mat-slide-toggle",15),core.bd("change",(function UsuariosEditarComponent_Template_mat_slide_toggle_change_22_listener($event){return ctx.onSituacaoChange($event)})),core.Ed(23),core.Tc(),core.Pc(24,"hr"),core.Uc(25,"button",16),core.Ed(26," SALVAR "),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()}2&rf&&(core.Cc(14),core.md("pattern",ctx.helper.emailRegex)("ngModel",ctx.data.email),core.Cc(2),core.md("ngModel",ctx.data.nome),core.Cc(2),core.md("type",ctx.hide?"password":"text")("ngModel",ctx.data.senha),core.Cc(1),core.Dc("aria-label","Hide password")("aria-pressed",ctx.hide),core.Cc(2),core.Fd(ctx.hide?"visibility_off":"visibility"),core.Cc(1),core.md("checked","A"==ctx.data.situacao),core.Cc(1),core.Gd(" Situa\xe7\xe3o: ","A"==ctx.data.situacao?"Ativo":"Inativo",""))},directives:[fesm2015_button.b,fesm2015_router.g,fesm2015_forms.p,fesm2015_forms.j,fesm2015_forms.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.n,fesm2015_forms.m,fesm2015_forms.i,fesm2015_forms.l,form_field.f,icon.a,slide_toggle.a],styles:[""]});const usuarios_component_c0=function(a1){return["/admin/usuarios/editar",a1]};function UsuariosComponent_td_33_Template(rf,ctx){if(1&rf){const _r31=core.Vc();core.Uc(0,"td",33),core.Uc(1,"a",36),core.Uc(2,"mat-icon"),core.Ed(3,"create"),core.Tc(),core.Tc(),core.Uc(4,"button",37),core.bd("click",(function UsuariosComponent_td_33_Template_button_click_4_listener(){core.vd(_r31);const row_r29=ctx.$implicit;return core.fd().deletarData(row_r29)})),core.Uc(5,"mat-icon"),core.Ed(6,"delete"),core.Tc(),core.Tc(),core.Tc()}if(2&rf){const row_r29=ctx.$implicit;core.Cc(1),core.md("routerLink",core.od(1,usuarios_component_c0,row_r29.id))}}function UsuariosComponent_tr_34_Template(rf,ctx){1&rf&&core.Pc(0,"tr",38)}function UsuariosComponent_tr_35_Template(rf,ctx){1&rf&&core.Pc(0,"tr",39)}const usuarios_component_c1=function(){return[15,25,40,50]};class usuarios_component_UsuariosComponent{constructor(global,usuarioService,dialog,helper,loadingService){this.global=global,this.usuarioService=usuarioService,this.dialog=dialog,this.helper=helper,this.loadingService=loadingService,this.displayedColumns=["select","1","2","3","actions"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.selection=new collections.c(!0,[])}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.buscar()}buscar(){Object(merge.a)(this.sort.sortChange,this.paginator.page).pipe(Object(startWith.a)({}),Object(switchMap.a)(()=>(this.isLoadingResults=!0,this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),this.search))),Object(map.a)(data=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.selection.clear(),this.resultsLength=data.numeroPaginas*this.paginator.pageSize,data.usuarios)),Object(catchError.a)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,this.selection.clear(),Object(of.a)([])))).subscribe(data=>{this.data=data})}deletarData(item){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir item",description:"Voc\xea realmente quer excluir esse item? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&(this.loadingService.present("Excluindo item..."),this.usuarioService.delete(item).subscribe(res=>{this.helper.openSnackBar("Item removido com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss()))})}deletarDatas(){this.dialog.open(DialogComponent,{width:"400px",data:{title:"Excluir itens",description:"Voc\xea realmente quer excluir esses itens? Esse processe n\xe3o pode ser desfeito."}}).afterClosed().subscribe(result=>{result&&this.usuarioService.deleteSelected(this.selection.selected).subscribe(res=>{this.loadingService.present("Excluindo itens"),this.helper.openSnackBar("Itens removidos com sucesso."),this.loadingService.dismiss(),this.buscar()},e=>this.loadingService.dismiss())})}filter(e){this.paginator.pageIndex>1&&(this.paginator.pageIndex=0),e?(this.filterSubscription&&!this.filterSubscription.closed&&this.filterSubscription.unsubscribe(),this.filterSubscription=this.usuarioService.get(this.paginator.pageIndex+1,this.paginator.pageSize,this.sort.active,this.sort.direction.toLocaleUpperCase(),e.toLocaleLowerCase()).subscribe(res=>{this.data=0==this.paginator.pageIndex?res.usuarios:this.data.concat(res.usuarios)})):this.buscar()}clearFilter(){this.search="",this.buscar()}isAllSelected(){return this.selection.selected.length===this.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.data.forEach(row=>this.selection.select(row))}checkboxLabel(row){return row?`${this.selection.isSelected(row)?"deselect":"select"} row ${row.position+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}usuarios_component_UsuariosComponent.\u0275fac=function UsuariosComponent_Factory(t){return new(t||usuarios_component_UsuariosComponent)(core.Oc(global_service.a),core.Oc(UsuarioService),core.Oc(fesm2015_dialog.b),core.Oc(helper_service.a),core.Oc(loading_service.a))},usuarios_component_UsuariosComponent.\u0275cmp=core.Ic({type:usuarios_component_UsuariosComponent,selectors:[["app-usuarios"]],viewQuery:function UsuariosComponent_Query(rf,ctx){var _t;(1&rf&&(core.Jd(paginator.a,!0),core.Jd(sort.a,!0)),2&rf)&&(core.qd(_t=core.cd())&&(ctx.paginator=_t.first),core.qd(_t=core.cd())&&(ctx.sort=_t.first))},decls:37,vars:12,consts:[[1,"page"],[1,"container"],[1,"page-wrapper"],[1,"page-header"],[1,"page-title"],[1,"page-header__buttons"],["mat-stroked-button","","color","warn",3,"disabled","click"],["mat-raised-button","","color","primary","routerLink","/admin/usuarios/adicionar"],[1,"page-table"],["class","loading-shade",4,"ngIf"],[1,"page-table__search"],["matInput","","placeholder","Pesquise aqui",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click",4,"ngIf"],[1,"page-table-container"],["mat-table","","matSort","","matSortActive","0","matSortDirection","asc",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","1"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","2"],["matColumnDef","3"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSizeOptions","pageSize"],[1,"loading-shade"],[4,"ngIf"],["class","rate-limit-reached",4,"ngIf"],[1,"rate-limit-reached"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Limpar",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","mat-button","","matTooltip","Editar","aria-label","Editar","color","primary",3,"routerLink"],["mat-icon-button","","mat-button","","matTooltip","Excluir","aria-label","Excluir","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function UsuariosComponent_Template(rf,ctx){1&rf&&(core.Uc(0,"section",0),core.Uc(1,"div",1),core.Uc(2,"div",2),core.Uc(3,"div",3),core.Uc(4,"h1",4),core.Ed(5," Usu\xe1rios "),core.Tc(),core.Uc(6,"div",5),core.Uc(7,"button",6),core.bd("click",(function UsuariosComponent_Template_button_click_7_listener(){return ctx.deletarDatas()})),core.Ed(8," DELETAR ITENS "),core.Tc(),core.Uc(9,"a",7),core.Ed(10," ADICIONAR "),core.Tc(),core.Tc(),core.Tc(),core.Uc(11,"div",8),core.Dd(12,UsuariosComponent_div_12_Template,3,2,"div",9),core.Uc(13,"mat-form-field",10),core.Uc(14,"input",11),core.bd("ngModelChange",(function UsuariosComponent_Template_input_ngModelChange_14_listener($event){return ctx.search=$event}))("ngModelChange",(function UsuariosComponent_Template_input_ngModelChange_14_listener($event){return ctx.filter($event)})),core.Tc(),core.Dd(15,UsuariosComponent_button_15_Template,3,0,"button",12),core.Tc(),core.Uc(16,"div",13),core.Dd(17,UsuariosComponent_div_17_Template,4,1,"div",9),core.Uc(18,"table",14),core.Sc(19,15),core.Dd(20,UsuariosComponent_th_20_Template,2,3,"th",16),core.Dd(21,UsuariosComponent_td_21_Template,2,2,"td",17),core.Rc(),core.Sc(22,18),core.Dd(23,UsuariosComponent_th_23_Template,2,0,"th",19),core.Dd(24,UsuariosComponent_td_24_Template,2,2,"td",17),core.Rc(),core.Sc(25,20),core.Dd(26,UsuariosComponent_th_26_Template,2,0,"th",19),core.Dd(27,UsuariosComponent_td_27_Template,2,1,"td",17),core.Rc(),core.Sc(28,21),core.Dd(29,UsuariosComponent_th_29_Template,2,0,"th",19),core.Dd(30,UsuariosComponent_td_30_Template,2,1,"td",17),core.Rc(),core.Sc(31,22),core.Dd(32,UsuariosComponent_th_32_Template,1,0,"th",16),core.Dd(33,UsuariosComponent_td_33_Template,7,3,"td",17),core.Rc(),core.Dd(34,UsuariosComponent_tr_34_Template,1,0,"tr",23),core.Dd(35,UsuariosComponent_tr_35_Template,1,0,"tr",24),core.Tc(),core.Pc(36,"mat-paginator",25),core.Tc(),core.Tc(),core.Tc(),core.Tc(),core.Tc()),2&rf&&(core.Cc(7),core.md("disabled",!ctx.selection.selected.length),core.Cc(5),core.md("ngIf",ctx.isLoadingResults||ctx.isRateLimitReached),core.Cc(2),core.md("ngModel",ctx.search),core.Cc(1),core.md("ngIf",ctx.search),core.Cc(2),core.md("ngIf",!ctx.isLoadingResults&&!ctx.data.length),core.Cc(1),core.md("dataSource",ctx.data),core.Cc(16),core.md("matHeaderRowDef",ctx.displayedColumns),core.Cc(1),core.md("matRowDefColumns",ctx.displayedColumns),core.Cc(1),core.md("length",ctx.resultsLength)("pageSizeOptions",core.nd(11,usuarios_component_c1))("pageSize",15))},directives:[fesm2015_button.b,fesm2015_button.a,fesm2015_router.h,common.k,form_field.b,input.b,fesm2015_forms.c,fesm2015_forms.i,fesm2015_forms.l,table.j,sort.a,table.c,table.e,table.b,table.g,table.i,paginator.a,progress_spinner.b,form_field.f,icon.a,table.d,fesm2015_checkbox.a,table.a,sort.b,tooltip.a,table.f,table.h],styles:[""]});const routes=[{path:"",component:home_component_HomeComponent},{path:"usuarios",component:usuarios_component_UsuariosComponent},{path:"usuarios/adicionar",component:usuarios_criar_component_UsuariosCriarComponent},{path:"usuarios/editar/:id",component:usuarios_editar_component_UsuariosEditarComponent},{path:"clientes",component:clientes_component_ClientesComponent},{path:"clientes/adicionar",component:clientes_criar_component_ClientesCriarComponent},{path:"clientes/editar/:id",component:clientes_editar_component_ClientesEditarComponent},{path:"depoimentos",component:depoimentos_component_DepoimentosComponent},{path:"depoimentos/adicionar",component:depoimentos_criar_component_DepoimentosCriarComponent},{path:"depoimentos/editar/:id",component:depoimentos_editar_component_DepoimentosEditarComponent},{path:"configuracao-email",component:configuracao_email_component_ConfiguracaoEmailComponent},{path:"configuracao-geral",component:configuracao_geral_component_ConfiguracaoGeralComponent},{path:"contato-geral",component:contato_geral_component_ContatoGeralComponent},{path:"banner",component:banner_component_BannerComponent},{path:"beneficios",component:beneficios_component_BeneficiosComponent},{path:"beneficios/adicionar",component:beneficios_criar_component_BeneficiosCriarComponent},{path:"beneficios/editar/:id",component:beneficios_editar_component_BeneficiosEditarComponent},{path:"perguntas",component:perguntas_component_PerguntasComponent},{path:"perguntas/adicionar",component:perguntas_criar_component_PerguntasCriarComponent},{path:"perguntas/editar/:id",component:perguntas_editar_component_PerguntasEditarComponent},{path:"modulos",component:modulos_component_ModulosComponent},{path:"modulos/adicionar",component:modulos_criar_component_ModulosCriarComponent},{path:"modulos/editar/:id",component:modulos_editar_component_ModulosEditarComponent},{path:"consultorias",component:consultorias_component_ConsultoriasComponent},{path:"consultorias/adicionar",component:consultorias_criar_component_ConsultoriasCriarComponent},{path:"consultorias/editar/:id",component:consultorias_editar_component_ConsultoriasEditarComponent}];class AdminRoutingModule{}AdminRoutingModule.\u0275mod=core.Mc({type:AdminRoutingModule}),AdminRoutingModule.\u0275inj=core.Lc({factory:function AdminRoutingModule_Factory(t){return new(t||AdminRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]});var material_module=__webpack_require__("hctd");class AdminModule{}AdminModule.\u0275mod=core.Mc({type:AdminModule}),AdminModule.\u0275inj=core.Lc({factory:function AdminModule_Factory(t){return new(t||AdminModule)},imports:[[common.c,AdminRoutingModule,fesm2015_forms.e,material_module.a,ngx_mask.c.forChild()]]})}};